var b_=Object.defineProperty;var S_=(a,t,e)=>t in a?b_(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var Af=(a,t,e)=>S_(a,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();function kd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rf={exports:{}},Ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function x_(){if(bv)return Ws;bv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:a,type:i,key:u,ref:s!==void 0?s:null,props:l}}return Ws.Fragment=t,Ws.jsx=e,Ws.jsxs=e,Ws}var Sv;function __(){return Sv||(Sv=1,Rf.exports=x_()),Rf.exports}var F=__(),Hn=function(){return Hn=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Hn.apply(this,arguments)};function qy(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(a);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(a,i[s])&&(e[i[s]]=a[i[s]]);return e}function C_(a,t,e){if(e||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return a.concat(l||Array.prototype.slice.call(t))}var jf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function w_(){if(xv)return bt;xv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function w(D,G,tt){this.props=D,this.context=G,this.refs=_,this.updater=tt||S}w.prototype.isReactComponent={},w.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=w.prototype;function j(D,G,tt){this.props=D,this.context=G,this.refs=_,this.updater=tt||S}var M=j.prototype=new T;M.constructor=j,x(M,w.prototype),M.isPureReactComponent=!0;var H=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function K(D,G,tt,Z,it,gt){return tt=gt.ref,{$$typeof:a,type:D,key:G,ref:tt!==void 0?tt:null,props:gt}}function W(D,G){return K(D.type,G,void 0,void 0,void 0,D.props)}function nt(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function lt(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(tt){return G[tt]})}var vt=/\/+/g;function ht(D,G){return typeof D=="object"&&D!==null&&D.key!=null?lt(""+D.key):G.toString(36)}function ot(){}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ot,ot):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function yt(D,G,tt,Z,it){var gt=typeof D;(gt==="undefined"||gt==="boolean")&&(D=null);var at=!1;if(D===null)at=!0;else switch(gt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(D.$$typeof){case a:case t:at=!0;break;case m:return at=D._init,yt(at(D._payload),G,tt,Z,it)}}if(at)return it=it(D),at=Z===""?"."+ht(D,0):Z,H(it)?(tt="",at!=null&&(tt=at.replace(vt,"$&/")+"/"),yt(it,G,tt,"",function(ue){return ue})):it!=null&&(nt(it)&&(it=W(it,tt+(it.key==null||D&&D.key===it.key?"":(""+it.key).replace(vt,"$&/")+"/")+at)),G.push(it)),1;at=0;var jt=Z===""?".":Z+":";if(H(D))for(var Ot=0;Ot<D.length;Ot++)Z=D[Ot],gt=jt+ht(Z,Ot),at+=yt(Z,G,tt,gt,it);else if(Ot=y(D),typeof Ot=="function")for(D=Ot.call(D),Ot=0;!(Z=D.next()).done;)Z=Z.value,gt=jt+ht(Z,Ot++),at+=yt(Z,G,tt,gt,it);else if(gt==="object"){if(typeof D.then=="function")return yt(ut(D),G,tt,Z,it);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return at}function P(D,G,tt){if(D==null)return D;var Z=[],it=0;return yt(D,Z,"","",function(gt){return G.call(tt,gt,it++)}),Z}function J(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(tt){(D._status===0||D._status===-1)&&(D._status=1,D._result=tt)},function(tt){(D._status===0||D._status===-1)&&(D._status=2,D._result=tt)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var et=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function pt(){}return bt.Children={map:P,forEach:function(D,G,tt){P(D,function(){G.apply(this,arguments)},tt)},count:function(D){var G=0;return P(D,function(){G++}),G},toArray:function(D){return P(D,function(G){return G})||[]},only:function(D){if(!nt(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=w,bt.Fragment=e,bt.Profiler=s,bt.PureComponent=j,bt.StrictMode=i,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,G,tt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=x({},D.props),it=D.key,gt=void 0;if(G!=null)for(at in G.ref!==void 0&&(gt=void 0),G.key!==void 0&&(it=""+G.key),G)!V.call(G,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&G.ref===void 0||(Z[at]=G[at]);var at=arguments.length-2;if(at===1)Z.children=tt;else if(1<at){for(var jt=Array(at),Ot=0;Ot<at;Ot++)jt[Ot]=arguments[Ot+2];Z.children=jt}return K(D.type,it,void 0,void 0,gt,Z)},bt.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},bt.createElement=function(D,G,tt){var Z,it={},gt=null;if(G!=null)for(Z in G.key!==void 0&&(gt=""+G.key),G)V.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(it[Z]=G[Z]);var at=arguments.length-2;if(at===1)it.children=tt;else if(1<at){for(var jt=Array(at),Ot=0;Ot<at;Ot++)jt[Ot]=arguments[Ot+2];it.children=jt}if(D&&D.defaultProps)for(Z in at=D.defaultProps,at)it[Z]===void 0&&(it[Z]=at[Z]);return K(D,gt,void 0,void 0,null,it)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:h,render:D}},bt.isValidElement=nt,bt.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:J}},bt.memo=function(D,G){return{$$typeof:g,type:D,compare:G===void 0?null:G}},bt.startTransition=function(D){var G=N.T,tt={};N.T=tt;try{var Z=D(),it=N.S;it!==null&&it(tt,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(pt,et)}catch(gt){et(gt)}finally{N.T=G}},bt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},bt.use=function(D){return N.H.use(D)},bt.useActionState=function(D,G,tt){return N.H.useActionState(D,G,tt)},bt.useCallback=function(D,G){return N.H.useCallback(D,G)},bt.useContext=function(D){return N.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,G){return N.H.useDeferredValue(D,G)},bt.useEffect=function(D,G,tt){var Z=N.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,G)},bt.useId=function(){return N.H.useId()},bt.useImperativeHandle=function(D,G,tt){return N.H.useImperativeHandle(D,G,tt)},bt.useInsertionEffect=function(D,G){return N.H.useInsertionEffect(D,G)},bt.useLayoutEffect=function(D,G){return N.H.useLayoutEffect(D,G)},bt.useMemo=function(D,G){return N.H.useMemo(D,G)},bt.useOptimistic=function(D,G){return N.H.useOptimistic(D,G)},bt.useReducer=function(D,G,tt){return N.H.useReducer(D,G,tt)},bt.useRef=function(D){return N.H.useRef(D)},bt.useState=function(D){return N.H.useState(D)},bt.useSyncExternalStore=function(D,G,tt){return N.H.useSyncExternalStore(D,G,tt)},bt.useTransition=function(){return N.H.useTransition()},bt.version="19.1.0",bt}var _v;function Ld(){return _v||(_v=1,jf.exports=w_()),jf.exports}var E=Ld();const $y=kd(E);var _c="right-scroll-bar-position",Cc="width-before-scroll-bar",T_="with-scroll-bars-hidden",O_="--removed-body-scroll-bar-size";function kf(a,t){return typeof a=="function"?a(t):a&&(a.current=t),a}function E_(a,t){var e=E.useState(function(){return{value:a,callback:t,facade:{get current(){return e.value},set current(i){var s=e.value;s!==i&&(e.value=i,e.callback(i,s))}}}})[0];return e.callback=t,e.facade}var D_=typeof window<"u"?E.useLayoutEffect:E.useEffect,Cv=new WeakMap;function M_(a,t){var e=E_(null,function(i){return a.forEach(function(s){return kf(s,i)})});return D_(function(){var i=Cv.get(e);if(i){var s=new Set(i),l=new Set(a),u=e.current;s.forEach(function(h){l.has(h)||kf(h,null)}),l.forEach(function(h){s.has(h)||kf(h,u)})}Cv.set(e,a)},[a]),e}function A_(a){return a}function R_(a,t){t===void 0&&(t=A_);var e=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:a},useMedium:function(l){var u=t(l,i);return e.push(u),function(){e=e.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(i=!0;e.length;){var u=e;e=[],u.forEach(l)}e={push:function(h){return l(h)},filter:function(){return e}}},assignMedium:function(l){i=!0;var u=[];if(e.length){var h=e;e=[],h.forEach(l),u=e}var d=function(){var m=u;u=[],m.forEach(l)},g=function(){return Promise.resolve().then(d)};g(),e={push:function(m){u.push(m),g()},filter:function(m){return u=u.filter(m),e}}}};return s}function j_(a){a===void 0&&(a={});var t=R_(null);return t.options=Hn({async:!0,ssr:!1},a),t}var Wy=function(a){var t=a.sideCar,e=qy(a,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return E.createElement(i,Hn({},e))};Wy.isSideCarExport=!0;function k_(a,t){return a.useMedium(t),Wy}var Iy=j_(),Lf=function(){},Gc=E.forwardRef(function(a,t){var e=E.useRef(null),i=E.useState({onScrollCapture:Lf,onWheelCapture:Lf,onTouchMoveCapture:Lf}),s=i[0],l=i[1],u=a.forwardProps,h=a.children,d=a.className,g=a.removeScrollBar,m=a.enabled,v=a.shards,y=a.sideCar,S=a.noIsolation,x=a.inert,_=a.allowPinchZoom,w=a.as,T=w===void 0?"div":w,j=a.gapMode,M=qy(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=y,N=M_([e,t]),V=Hn(Hn({},M),s);return E.createElement(E.Fragment,null,m&&E.createElement(H,{sideCar:Iy,removeScrollBar:g,shards:v,noIsolation:S,inert:x,setCallbacks:l,allowPinchZoom:!!_,lockRef:e,gapMode:j}),u?E.cloneElement(E.Children.only(h),Hn(Hn({},V),{ref:N})):E.createElement(T,Hn({},V,{className:d,ref:N}),h))});Gc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gc.classNames={fullWidth:Cc,zeroRight:_c};var L_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z_(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var t=L_();return t&&a.setAttribute("nonce",t),a}function B_(a,t){a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}function N_(a){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(a)}var H_=function(){var a=0,t=null;return{add:function(e){a==0&&(t=z_())&&(B_(t,e),N_(t)),a++},remove:function(){a--,!a&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U_=function(){var a=H_();return function(t,e){E.useEffect(function(){return a.add(t),function(){a.remove()}},[t&&e])}},Qy=function(){var a=U_(),t=function(e){var i=e.styles,s=e.dynamic;return a(i,s),null};return t},Y_={left:0,top:0,right:0,gap:0},zf=function(a){return parseInt(a||"",10)||0},X_=function(a){var t=window.getComputedStyle(document.body),e=t[a==="padding"?"paddingLeft":"marginLeft"],i=t[a==="padding"?"paddingTop":"marginTop"],s=t[a==="padding"?"paddingRight":"marginRight"];return[zf(e),zf(i),zf(s)]},P_=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return Y_;var t=X_(a),e=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-e+t[2]-t[0])}},F_=Qy(),ka="data-scroll-locked",V_=function(a,t,e,i){var s=a.left,l=a.top,u=a.right,h=a.gap;return e===void 0&&(e="margin"),`
  .`.concat(T_,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ka,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),e==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Cc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ka,`] {
    `).concat(O_,": ").concat(h,`px;
  }
`)},wv=function(){var a=parseInt(document.body.getAttribute(ka)||"0",10);return isFinite(a)?a:0},G_=function(){E.useEffect(function(){return document.body.setAttribute(ka,(wv()+1).toString()),function(){var a=wv()-1;a<=0?document.body.removeAttribute(ka):document.body.setAttribute(ka,a.toString())}},[])},q_=function(a){var t=a.noRelative,e=a.noImportant,i=a.gapMode,s=i===void 0?"margin":i;G_();var l=E.useMemo(function(){return P_(s)},[s]);return E.createElement(F_,{styles:V_(l,!t,s,e?"":"!important")})},fd=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return fd=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{fd=!1}var _a=fd?{passive:!1}:!1,$_=function(a){return a.tagName==="TEXTAREA"},Zy=function(a,t){if(!(a instanceof Element))return!1;var e=window.getComputedStyle(a);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!$_(a)&&e[t]==="visible")},W_=function(a){return Zy(a,"overflowY")},I_=function(a){return Zy(a,"overflowX")},Tv=function(a,t){var e=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=Ky(a,i);if(s){var l=Jy(a,i),u=l[1],h=l[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==e.body);return!1},Q_=function(a){var t=a.scrollTop,e=a.scrollHeight,i=a.clientHeight;return[t,e,i]},Z_=function(a){var t=a.scrollLeft,e=a.scrollWidth,i=a.clientWidth;return[t,e,i]},Ky=function(a,t){return a==="v"?W_(t):I_(t)},Jy=function(a,t){return a==="v"?Q_(t):Z_(t)},K_=function(a,t){return a==="h"&&t==="rtl"?-1:1},J_=function(a,t,e,i,s){var l=K_(a,window.getComputedStyle(t).direction),u=l*i,h=e.target,d=t.contains(h),g=!1,m=u>0,v=0,y=0;do{var S=Jy(a,h),x=S[0],_=S[1],w=S[2],T=_-w-l*x;(x||T)&&Ky(a,h)&&(v+=T,y+=x),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!d&&h!==document.body||d&&(t.contains(h)||t===h));return(m&&Math.abs(v)<1||!m&&Math.abs(y)<1)&&(g=!0),g},Vl=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},Ov=function(a){return[a.deltaX,a.deltaY]},Ev=function(a){return a&&"current"in a?a.current:a},tC=function(a,t){return a[0]===t[0]&&a[1]===t[1]},eC=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},nC=0,Ca=[];function iC(a){var t=E.useRef([]),e=E.useRef([0,0]),i=E.useRef(),s=E.useState(nC++)[0],l=E.useState(Qy)[0],u=E.useRef(a);E.useEffect(function(){u.current=a},[a]),E.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(s));var _=C_([a.lockRef.current],(a.shards||[]).map(Ev),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[a.inert,a.lockRef.current,a.shards]);var h=E.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var T=Vl(_),j=e.current,M="deltaX"in _?_.deltaX:j[0]-T[0],H="deltaY"in _?_.deltaY:j[1]-T[1],N,V=_.target,K=Math.abs(M)>Math.abs(H)?"h":"v";if("touches"in _&&K==="h"&&V.type==="range")return!1;var W=Tv(K,V);if(!W)return!0;if(W?N=K:(N=K==="v"?"h":"v",W=Tv(K,V)),!W)return!1;if(!i.current&&"changedTouches"in _&&(M||H)&&(i.current=N),!N)return!0;var nt=i.current||N;return J_(nt,w,_,nt==="h"?M:H)},[]),d=E.useCallback(function(_){var w=_;if(!(!Ca.length||Ca[Ca.length-1]!==l)){var T="deltaY"in w?Ov(w):Vl(w),j=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&tC(N.delta,T)})[0];if(j&&j.should){w.cancelable&&w.preventDefault();return}if(!j){var M=(u.current.shards||[]).map(Ev).filter(Boolean).filter(function(N){return N.contains(w.target)}),H=M.length>0?h(w,M[0]):!u.current.noIsolation;H&&w.cancelable&&w.preventDefault()}}},[]),g=E.useCallback(function(_,w,T,j){var M={name:_,delta:w,target:T,should:j,shadowParent:rC(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(H){return H!==M})},1)},[]),m=E.useCallback(function(_){e.current=Vl(_),i.current=void 0},[]),v=E.useCallback(function(_){g(_.type,Ov(_),_.target,h(_,a.lockRef.current))},[]),y=E.useCallback(function(_){g(_.type,Vl(_),_.target,h(_,a.lockRef.current))},[]);E.useEffect(function(){return Ca.push(l),a.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",d,_a),document.addEventListener("touchmove",d,_a),document.addEventListener("touchstart",m,_a),function(){Ca=Ca.filter(function(_){return _!==l}),document.removeEventListener("wheel",d,_a),document.removeEventListener("touchmove",d,_a),document.removeEventListener("touchstart",m,_a)}},[]);var S=a.removeScrollBar,x=a.inert;return E.createElement(E.Fragment,null,x?E.createElement(l,{styles:eC(s)}):null,S?E.createElement(q_,{gapMode:a.gapMode}):null)}function rC(a){for(var t=null;a!==null;)a instanceof ShadowRoot&&(t=a.host,a=a.host),a=a.parentNode;return t}const aC=k_(Iy,iC);var zd=E.forwardRef(function(a,t){return E.createElement(Gc,Hn({},a,{ref:t,sideCar:aC}))});zd.classNames=Gc.classNames;function be(a){return Object.keys(a)}function Bf(a){return a&&typeof a=="object"&&!Array.isArray(a)}function Bd(a,t){const e={...a},i=t;return Bf(a)&&Bf(t)&&Object.keys(t).forEach(s=>{Bf(i[s])&&s in a?e[s]=Bd(e[s],i[s]):e[s]=i[s]}),e}function sC(a){return a.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function oC(a){var t;return typeof a!="string"||!a.includes("var(--mantine-scale)")?a:(t=a.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function dd(a){const t=oC(a);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Nf(a){return a==="0rem"?"0rem":`calc(${a} * var(--mantine-scale))`}function tb(a,{shouldScale:t=!1}={}){function e(i){if(i===0||i==="0")return`0${a}`;if(typeof i=="number"){const s=`${i/16}${a}`;return t?Nf(s):s}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(l=>e(l)).join(",");if(i.includes(" "))return i.split(" ").map(l=>e(l)).join(" ");if(i.includes(a))return t?Nf(i):i;const s=i.replace("px","");if(!Number.isNaN(Number(s))){const l=`${Number(s)/16}${a}`;return t?Nf(l):l}}return i}return e}const I=tb("rem",{shouldScale:!0}),Rc=tb("em");function Nd(a){return Object.keys(a).reduce((t,e)=>(a[e]!==void 0&&(t[e]=a[e]),t),{})}function eb(a){if(typeof a=="number")return!0;if(typeof a=="string"){if(a.startsWith("calc(")||a.startsWith("var(")||a.includes(" ")&&a.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return a.trim().split(/\s+/).every(i=>t.test(i))}return!1}function nb(a){const t=E.createContext(null);return[({children:s,value:l})=>F.jsx(t.Provider,{value:l,children:s}),()=>{const s=E.useContext(t);if(s===null)throw new Error(a);return s}]}function ib(a=null){const t=E.createContext(a);return[({children:s,value:l})=>F.jsx(t.Provider,{value:l,children:s}),()=>E.useContext(t)]}const lC={app:100,modal:200,popover:300,overlay:400,max:9999};function cC(a){return lC[a]}function Je(a,t="size",e=!0){if(a!==void 0)return eb(a)?e?I(a):a:`var(--${t}-${a})`}function qc(a){return Je(a,"mantine-spacing")}function yo(a){return a===void 0?"var(--mantine-radius-default)":Je(a,"mantine-radius")}function gn(a){return Je(a,"mantine-font-size")}function uC(a){return Je(a,"mantine-line-height",!1)}function Hd(a,t){return a in t?dd(t[a]):dd(a)}function Dv(a,t){const e=a.map(i=>({value:i,px:Hd(i,t)}));return e.sort((i,s)=>i.px-s.px),e}function io(a,t,e){return t===void 0&&e===void 0?a:t!==void 0&&e===void 0?Math.max(a,t):Math.min(t===void 0&&e!==void 0?a:Math.max(a,t),e)}function hC(a="mantine-"){return`${a}${Math.random().toString(36).slice(2,11)}`}function fC(a,t){try{return a.addEventListener("change",t),()=>a.removeEventListener("change",t)}catch{return a.addListener(t),()=>a.removeListener(t)}}function dC(a,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(a).matches:!1}function gC(a,t,{getInitialValueInEffect:e}={getInitialValueInEffect:!0}){const[i,s]=E.useState(e?t:dC(a)),l=E.useRef(null);return E.useEffect(()=>{if("matchMedia"in window)return l.current=window.matchMedia(a),s(l.current.matches),fC(l.current,u=>s(u.matches))},[a]),i}const $c=typeof document<"u"?E.useLayoutEffect:E.useEffect;function pC(a,t){const e=E.useRef(!1);E.useEffect(()=>()=>{e.current=!1},[]),E.useEffect(()=>{if(e.current)return a();e.current=!0},t)}const mC=$y.useId||(()=>{});function vC(){const a=mC();return a?`mantine-${a.replace(/:/g,"")}`:""}function yC(a){const t=vC(),[e,i]=E.useState(t);return $c(()=>{i(hC())},[]),typeof a=="string"?a:typeof window>"u"?t:e}function bC(a,t,e){E.useEffect(()=>(window.addEventListener(a,t,e),()=>window.removeEventListener(a,t,e)),[a,t])}function gd(a,t){if(typeof a=="function")return a(t);typeof a=="object"&&a!==null&&"current"in a&&(a.current=t)}function SC(...a){const t=new Map;return e=>{if(a.forEach(i=>{const s=gd(i,e);s&&t.set(i,s)}),t.size>0)return()=>{a.forEach(i=>{const s=t.get(i);s?s():gd(i,null)}),t.clear()}}}function Ud(...a){return E.useCallback(SC(...a),a)}function xC(a,t,e="ltr"){const i=E.useRef(null),s=E.useRef(!1),l=E.useRef(!1),u=E.useRef(0),[h,d]=E.useState(!1);return E.useEffect(()=>{s.current=!0},[]),E.useEffect(()=>{const g=i.current,m=({x:M,y:H})=>{cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{if(s.current&&g){g.style.userSelect="none";const N=g.getBoundingClientRect();if(N.width&&N.height){const V=io((M-N.left)/N.width,0,1);a({x:e==="ltr"?V:1-V,y:io((H-N.top)/N.height,0,1)})}}})},v=()=>{document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",j),document.addEventListener("touchend",x)},y=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",x)},S=()=>{!l.current&&s.current&&(l.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),v())},x=()=>{l.current&&s.current&&(l.current=!1,d(!1),y(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},_=M=>{S(),M.preventDefault(),w(M)},w=M=>m({x:M.clientX,y:M.clientY}),T=M=>{M.cancelable&&M.preventDefault(),S(),j(M)},j=M=>{M.cancelable&&M.preventDefault(),m({x:M.changedTouches[0].clientX,y:M.changedTouches[0].clientY})};return g==null||g.addEventListener("mousedown",_),g==null||g.addEventListener("touchstart",T,{passive:!1}),()=>{g&&(g.removeEventListener("mousedown",_),g.removeEventListener("touchstart",T))}},[e,a]),{ref:i,active:h}}function rb({value:a,defaultValue:t,finalValue:e,onChange:i=()=>{}}){const[s,l]=E.useState(t!==void 0?t:e),u=(h,...d)=>{l(h),i==null||i(h,...d)};return a!==void 0?[a,i,!0]:[s,u,!1]}function _C(a,t){return gC("(prefers-reduced-motion: reduce)",a,t)}function Mv(a,t){return t.length===0?a:t.reduce((e,i)=>Math.abs(i-a)<Math.abs(e-a)?i:e)}function ab(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(e=ab(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function yi(){for(var a,t,e=0,i="",s=arguments.length;e<s;e++)(a=arguments[e])&&(t=ab(a))&&(i&&(i+=" "),i+=t);return i}const CC={};function wC(a){const t={};return a.forEach(e=>{Object.entries(e).forEach(([i,s])=>{t[i]?t[i]=yi(t[i],s):t[i]=s})}),t}function Wc({theme:a,classNames:t,props:e,stylesCtx:i}){const l=(Array.isArray(t)?t:[t]).map(u=>typeof u=="function"?u(a,e,i):u||CC);return wC(l)}function jc({theme:a,styles:t,props:e,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((l,u)=>typeof u=="function"?{...l,...u(a,e,i)}:{...l,...u},{})}const sb=E.createContext(null);function bi(){const a=E.useContext(sb);if(!a)throw new Error("[@mantine/core] MantineProvider was not found in tree");return a}function TC(){return bi().cssVariablesResolver}function OC(){return bi().classNamesPrefix}function Yd(){return bi().getStyleNonce}function EC(){return bi().withStaticClasses}function DC(){return bi().headless}function MC(){var a;return(a=bi().stylesTransform)==null?void 0:a.sx}function AC(){var a;return(a=bi().stylesTransform)==null?void 0:a.styles}function RC(){return bi().env||"default"}function jC(a){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(a)}function kC(a){let t=a.replace("#","");if(t.length===3){const u=t.split("");t=[u[0],u[0],u[1],u[1],u[2],u[2]].join("")}if(t.length===8){const u=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:u}}const e=parseInt(t,16),i=e>>16&255,s=e>>8&255,l=e&255;return{r:i,g:s,b:l,a:1}}function LC(a){const[t,e,i,s]=a.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:e,b:i,a:s||1}}function zC(a){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,e=a.match(t);if(!e)return{r:0,g:0,b:0,a:1};const i=parseInt(e[1],10),s=parseInt(e[2],10)/100,l=parseInt(e[3],10)/100,u=e[5]?parseFloat(e[5]):void 0,h=(1-Math.abs(2*l-1))*s,d=i/60,g=h*(1-Math.abs(d%2-1)),m=l-h/2;let v,y,S;return d>=0&&d<1?(v=h,y=g,S=0):d>=1&&d<2?(v=g,y=h,S=0):d>=2&&d<3?(v=0,y=h,S=g):d>=3&&d<4?(v=0,y=g,S=h):d>=4&&d<5?(v=g,y=0,S=h):(v=h,y=0,S=g),{r:Math.round((v+m)*255),g:Math.round((y+m)*255),b:Math.round((S+m)*255),a:u||1}}function Xd(a){return jC(a)?kC(a):a.startsWith("rgb")?LC(a):a.startsWith("hsl")?zC(a):{r:0,g:0,b:0,a:1}}function Gl(a,t){if(a.startsWith("var("))return`color-mix(in srgb, ${a}, black ${t*100}%)`;const{r:e,g:i,b:s,a:l}=Xd(a),u=1-t,h=d=>Math.round(d*u);return`rgba(${h(e)}, ${h(i)}, ${h(s)}, ${l})`}function lo(a,t){return typeof a.primaryShade=="number"?a.primaryShade:t==="dark"?a.primaryShade.dark:a.primaryShade.light}function Hf(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function BC(a){const t=a.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function NC(a){if(a.startsWith("oklch("))return(BC(a)||0)/100;const{r:t,g:e,b:i}=Xd(a),s=t/255,l=e/255,u=i/255,h=Hf(s),d=Hf(l),g=Hf(u);return .2126*h+.7152*d+.0722*g}function Is(a,t=.179){return a.startsWith("var(")?!1:NC(a)>t}function bo({color:a,theme:t,colorScheme:e}){if(typeof a!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof a}`);if(a==="bright")return{color:a,value:e==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Is(e==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(a==="dimmed")return{color:a,value:e==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Is(e==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(a==="white"||a==="black")return{color:a,value:a==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Is(a==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${a}`};const[i,s]=a.split("."),l=s?Number(s):void 0,u=i in t.colors;if(u){const h=l!==void 0?t.colors[i][l]:t.colors[i][lo(t,e||"light")];return{color:i,value:h,shade:l,isThemeColor:u,isLight:Is(h,t.luminanceThreshold),variable:s?`--mantine-color-${i}-${l}`:`--mantine-color-${i}-filled`}}return{color:a,value:a,isThemeColor:u,isLight:Is(a,t.luminanceThreshold),shade:l,variable:void 0}}function co(a,t){const e=bo({color:a||t.primaryColor,theme:t});return e.variable?`var(${e.variable})`:a}function pd(a,t){const e={from:(a==null?void 0:a.from)||t.defaultGradient.from,to:(a==null?void 0:a.to)||t.defaultGradient.to,deg:(a==null?void 0:a.deg)??t.defaultGradient.deg??0},i=co(e.from,t),s=co(e.to,t);return`linear-gradient(${e.deg}deg, ${i} 0%, ${s} 100%)`}function ai(a,t){if(typeof a!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(a.startsWith("var(")){const l=(1-t)*100;return`color-mix(in srgb, ${a}, transparent ${l}%)`}if(a.startsWith("oklch"))return a.includes("/")?a.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):a.replace(")",` / ${t})`);const{r:e,g:i,b:s}=Xd(a);return`rgba(${e}, ${i}, ${s}, ${t})`}const wa=ai,HC=({color:a,theme:t,variant:e,gradient:i,autoContrast:s})=>{const l=bo({color:a,theme:t}),u=typeof s=="boolean"?s:t.autoContrast;if(e==="filled"){const h=u&&l.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return l.isThemeColor?l.shade===void 0?{background:`var(--mantine-color-${a}-filled)`,hover:`var(--mantine-color-${a}-filled-hover)`,color:h,border:`${I(1)} solid transparent`}:{background:`var(--mantine-color-${l.color}-${l.shade})`,hover:`var(--mantine-color-${l.color}-${l.shade===9?8:l.shade+1})`,color:h,border:`${I(1)} solid transparent`}:{background:a,hover:Gl(a,.1),color:h,border:`${I(1)} solid transparent`}}if(e==="light"){if(l.isThemeColor){if(l.shade===void 0)return{background:`var(--mantine-color-${a}-light)`,hover:`var(--mantine-color-${a}-light-hover)`,color:`var(--mantine-color-${a}-light-color)`,border:`${I(1)} solid transparent`};const h=t.colors[l.color][l.shade];return{background:ai(h,.1),hover:ai(h,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${I(1)} solid transparent`}}return{background:ai(a,.1),hover:ai(a,.12),color:a,border:`${I(1)} solid transparent`}}if(e==="outline")return l.isThemeColor?l.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${a}-outline-hover)`,color:`var(--mantine-color-${a}-outline)`,border:`${I(1)} solid var(--mantine-color-${a}-outline)`}:{background:"transparent",hover:ai(t.colors[l.color][l.shade],.05),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${I(1)} solid var(--mantine-color-${l.color}-${l.shade})`}:{background:"transparent",hover:ai(a,.05),color:a,border:`${I(1)} solid ${a}`};if(e==="subtle"){if(l.isThemeColor){if(l.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${a}-light-hover)`,color:`var(--mantine-color-${a}-light-color)`,border:`${I(1)} solid transparent`};const h=t.colors[l.color][l.shade];return{background:"transparent",hover:ai(h,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${I(1)} solid transparent`}}return{background:"transparent",hover:ai(a,.12),color:a,border:`${I(1)} solid transparent`}}return e==="transparent"?l.isThemeColor?l.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a}-light-color)`,border:`${I(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${I(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:a,border:`${I(1)} solid transparent`}:e==="white"?l.isThemeColor?l.shade===void 0?{background:"var(--mantine-color-white)",hover:Gl(t.white,.01),color:`var(--mantine-color-${a}-filled)`,border:`${I(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Gl(t.white,.01),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${I(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Gl(t.white,.01),color:a,border:`${I(1)} solid transparent`}:e==="gradient"?{background:pd(i,t),hover:pd(i,t),color:"var(--mantine-color-white)",border:"none"}:e==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${I(1)} solid var(--mantine-color-default-border)`}:{}},UC={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Av="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Pd={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:UC,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:HC,autoContrast:!1,luminanceThreshold:.3,fontFamily:Av,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Av,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:I(34),lineHeight:"1.3"},h2:{fontSize:I(26),lineHeight:"1.35"},h3:{fontSize:I(22),lineHeight:"1.4"},h4:{fontSize:I(18),lineHeight:"1.45"},h5:{fontSize:I(16),lineHeight:"1.5"},h6:{fontSize:I(14),lineHeight:"1.5"}}},fontSizes:{xs:I(12),sm:I(14),md:I(16),lg:I(18),xl:I(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:I(2),sm:I(4),md:I(8),lg:I(16),xl:I(32)},spacing:{xs:I(10),sm:I(12),md:I(16),lg:I(20),xl:I(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${I(1)} ${I(3)} rgba(0, 0, 0, 0.05), 0 ${I(1)} ${I(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${I(1)} ${I(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${I(10)} ${I(15)} ${I(-5)}, rgba(0, 0, 0, 0.04) 0 ${I(7)} ${I(7)} ${I(-5)}`,md:`0 ${I(1)} ${I(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${I(20)} ${I(25)} ${I(-5)}, rgba(0, 0, 0, 0.04) 0 ${I(10)} ${I(10)} ${I(-5)}`,lg:`0 ${I(1)} ${I(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${I(28)} ${I(23)} ${I(-7)}, rgba(0, 0, 0, 0.04) 0 ${I(12)} ${I(12)} ${I(-7)}`,xl:`0 ${I(1)} ${I(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${I(36)} ${I(28)} ${I(-7)}, rgba(0, 0, 0, 0.04) 0 ${I(17)} ${I(17)} ${I(-7)}`},other:{},components:{}};function Rv(a){return a==="auto"||a==="dark"||a==="light"}function YC({key:a="mantine-color-scheme-value"}={}){let t;return{get:e=>{if(typeof window>"u")return e;try{const i=window.localStorage.getItem(a);return Rv(i)?i:e}catch{return e}},set:e=>{try{window.localStorage.setItem(a,e)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:e=>{t=i=>{i.storageArea===window.localStorage&&i.key===a&&Rv(i.newValue)&&e(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(a)}}}const XC="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more â€“ https://mantine.dev/theming/colors/#primary-color",jv="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Uf(a){return a<0||a>9?!1:parseInt(a.toString(),10)===a}function kv(a){if(!(a.primaryColor in a.colors))throw new Error(XC);if(typeof a.primaryShade=="object"&&(!Uf(a.primaryShade.dark)||!Uf(a.primaryShade.light)))throw new Error(jv);if(typeof a.primaryShade=="number"&&!Uf(a.primaryShade))throw new Error(jv)}function PC(a,t){var i;if(!t)return kv(a),a;const e=Bd(a,t);return t.fontFamily&&!((i=t.headings)!=null&&i.fontFamily)&&(e.headings.fontFamily=t.fontFamily),kv(e),e}const Fd=E.createContext(null),FC=()=>E.useContext(Fd)||Pd;function Si(){const a=E.useContext(Fd);if(!a)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return a}function ob({theme:a,children:t,inherit:e=!0}){const i=FC(),s=E.useMemo(()=>PC(e?i:Pd,a),[a,i,e]);return F.jsx(Fd.Provider,{value:s,children:t})}ob.displayName="@mantine/core/MantineThemeProvider";function VC(){const a=Si(),t=Yd(),e=be(a.breakpoints).reduce((i,s)=>{const l=a.breakpoints[s].includes("px"),u=dd(a.breakpoints[s]),h=l?`${u-.1}px`:Rc(u-.1),d=l?`${u}px`:Rc(u);return`${i}@media (max-width: ${h}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return F.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:e}})}function Yf(a){return Object.entries(a).map(([t,e])=>`${t}: ${e};`).join("")}function Qs(a,t){return(Array.isArray(a)?a:[a]).reduce((i,s)=>`${s}{${i}}`,t)}function GC(a,t){const e=Yf(a.variables),i=e?Qs(t,e):"",s=Yf(a.dark),l=Yf(a.light),u=s?Qs(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,s):"",h=l?Qs(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,l):"";return`${i}${u}${h}`}function qC({color:a,theme:t,autoContrast:e}){return t.autoContrast&&bo({color:a||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Lv(a,t){return qC({color:a.colors[a.primaryColor][lo(a,t)],theme:a,autoContrast:null})}function ql({theme:a,color:t,colorScheme:e,name:i=t,withColorValues:s=!0}){if(!a.colors[t])return{};if(e==="light"){const h=lo(a,"light"),d={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${h})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${h===9?8:h+1})`,[`--mantine-color-${i}-light`]:wa(a.colors[t][h],.1),[`--mantine-color-${i}-light-hover`]:wa(a.colors[t][h],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${h})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${h})`,[`--mantine-color-${i}-outline-hover`]:wa(a.colors[t][h],.05)};return s?{[`--mantine-color-${i}-0`]:a.colors[t][0],[`--mantine-color-${i}-1`]:a.colors[t][1],[`--mantine-color-${i}-2`]:a.colors[t][2],[`--mantine-color-${i}-3`]:a.colors[t][3],[`--mantine-color-${i}-4`]:a.colors[t][4],[`--mantine-color-${i}-5`]:a.colors[t][5],[`--mantine-color-${i}-6`]:a.colors[t][6],[`--mantine-color-${i}-7`]:a.colors[t][7],[`--mantine-color-${i}-8`]:a.colors[t][8],[`--mantine-color-${i}-9`]:a.colors[t][9],...d}:d}const l=lo(a,"dark"),u={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${l})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${l===9?8:l+1})`,[`--mantine-color-${i}-light`]:wa(a.colors[t][Math.max(0,l-2)],.15),[`--mantine-color-${i}-light-hover`]:wa(a.colors[t][Math.max(0,l-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(l-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(l-4,0)})`,[`--mantine-color-${i}-outline-hover`]:wa(a.colors[t][Math.max(l-4,0)],.05)};return s?{[`--mantine-color-${i}-0`]:a.colors[t][0],[`--mantine-color-${i}-1`]:a.colors[t][1],[`--mantine-color-${i}-2`]:a.colors[t][2],[`--mantine-color-${i}-3`]:a.colors[t][3],[`--mantine-color-${i}-4`]:a.colors[t][4],[`--mantine-color-${i}-5`]:a.colors[t][5],[`--mantine-color-${i}-6`]:a.colors[t][6],[`--mantine-color-${i}-7`]:a.colors[t][7],[`--mantine-color-${i}-8`]:a.colors[t][8],[`--mantine-color-${i}-9`]:a.colors[t][9],...u}:u}function $C(a){return!!a&&typeof a=="object"&&"mantine-virtual-color"in a}function Ta(a,t,e){be(t).forEach(i=>Object.assign(a,{[`--mantine-${e}-${i}`]:t[i]}))}const lb=a=>{const t=lo(a,"light"),e=a.defaultRadius in a.radius?a.radius[a.defaultRadius]:I(a.defaultRadius),i={variables:{"--mantine-scale":a.scale.toString(),"--mantine-cursor-type":a.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":a.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":a.fontSmoothing?"grayscale":"unset","--mantine-color-white":a.white,"--mantine-color-black":a.black,"--mantine-line-height":a.lineHeights.md,"--mantine-font-family":a.fontFamily,"--mantine-font-family-monospace":a.fontFamilyMonospace,"--mantine-font-family-headings":a.headings.fontFamily,"--mantine-heading-font-weight":a.headings.fontWeight,"--mantine-heading-text-wrap":a.headings.textWrap,"--mantine-radius-default":e,"--mantine-primary-color-filled":`var(--mantine-color-${a.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${a.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${a.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${a.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${a.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Lv(a,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":a.black,"--mantine-color-body":a.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${a.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Lv(a,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${a.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ta(i.variables,a.breakpoints,"breakpoint"),Ta(i.variables,a.spacing,"spacing"),Ta(i.variables,a.fontSizes,"font-size"),Ta(i.variables,a.lineHeights,"line-height"),Ta(i.variables,a.shadows,"shadow"),Ta(i.variables,a.radius,"radius"),a.colors[a.primaryColor].forEach((l,u)=>{i.variables[`--mantine-primary-color-${u}`]=`var(--mantine-color-${a.primaryColor}-${u})`}),be(a.colors).forEach(l=>{const u=a.colors[l];if($C(u)){Object.assign(i.light,ql({theme:a,name:u.name,color:u.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,ql({theme:a,name:u.name,color:u.dark,colorScheme:"dark",withColorValues:!0}));return}u.forEach((h,d)=>{i.variables[`--mantine-color-${l}-${d}`]=h}),Object.assign(i.light,ql({theme:a,color:l,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,ql({theme:a,color:l,colorScheme:"dark",withColorValues:!1}))});const s=a.headings.sizes;return be(s).forEach(l=>{i.variables[`--mantine-${l}-font-size`]=s[l].fontSize,i.variables[`--mantine-${l}-line-height`]=s[l].lineHeight,i.variables[`--mantine-${l}-font-weight`]=s[l].fontWeight||a.headings.fontWeight}),i};function WC({theme:a,generator:t}){const e=lb(a),i=t==null?void 0:t(a);return i?Bd(e,i):e}const Xf=lb(Pd);function IC(a){const t={variables:{},light:{},dark:{}};return be(a.variables).forEach(e=>{Xf.variables[e]!==a.variables[e]&&(t.variables[e]=a.variables[e])}),be(a.light).forEach(e=>{Xf.light[e]!==a.light[e]&&(t.light[e]=a.light[e])}),be(a.dark).forEach(e=>{Xf.dark[e]!==a.dark[e]&&(t.dark[e]=a.dark[e])}),t}function QC(a){return`
  ${a}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${a}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function cb({cssVariablesSelector:a,deduplicateCssVariables:t}){const e=Si(),i=Yd(),s=TC(),l=WC({theme:e,generator:s}),u=a===":root"&&t,h=u?IC(l):l,d=GC(h,a);return d?F.jsx("style",{"data-mantine-styles":!0,nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:`${d}${u?"":QC(a)}`}}):null}cb.displayName="@mantine/CssVariables";function ZC(){const a=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||a(...t)}}function Oa(a,t){var s,l;const e=typeof window<"u"&&"matchMedia"in window&&((s=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:s.matches),i=a!=="auto"?a:e?"dark":"light";(l=t())==null||l.setAttribute("data-mantine-color-scheme",i)}function KC({manager:a,defaultColorScheme:t,getRootElement:e,forceColorScheme:i}){const s=E.useRef(null),[l,u]=E.useState(()=>a.get(t)),h=i||l,d=E.useCallback(m=>{i||(Oa(m,e),u(m),a.set(m))},[a.set,h,i]),g=E.useCallback(()=>{u(t),Oa(t,e),a.clear()},[a.clear,t]);return E.useEffect(()=>(a.subscribe(d),a.unsubscribe),[a.subscribe,a.unsubscribe]),$c(()=>{Oa(a.get(t),e)},[]),E.useEffect(()=>{var v;if(i)return Oa(i,e),()=>{};i===void 0&&Oa(l,e),typeof window<"u"&&"matchMedia"in window&&(s.current=window.matchMedia("(prefers-color-scheme: dark)"));const m=y=>{l==="auto"&&Oa(y.matches?"dark":"light",e)};return(v=s.current)==null||v.addEventListener("change",m),()=>{var y;return(y=s.current)==null?void 0:y.removeEventListener("change",m)}},[l,i]),{colorScheme:h,setColorScheme:d,clearColorScheme:g}}function JC({respectReducedMotion:a,getRootElement:t}){$c(()=>{var e;a&&((e=t())==null||e.setAttribute("data-respect-reduced-motion","true"))},[a])}ZC();function ub({theme:a,children:t,getStyleNonce:e,withStaticClasses:i=!0,withGlobalClasses:s=!0,deduplicateCssVariables:l=!0,withCssVariables:u=!0,cssVariablesSelector:h=":root",classNamesPrefix:d="mantine",colorSchemeManager:g=YC(),defaultColorScheme:m="light",getRootElement:v=()=>document.documentElement,cssVariablesResolver:y,forceColorScheme:S,stylesTransform:x,env:_}){const{colorScheme:w,setColorScheme:T,clearColorScheme:j}=KC({defaultColorScheme:m,forceColorScheme:S,manager:g,getRootElement:v});return JC({respectReducedMotion:(a==null?void 0:a.respectReducedMotion)||!1,getRootElement:v}),F.jsx(sb.Provider,{value:{colorScheme:w,setColorScheme:T,clearColorScheme:j,getRootElement:v,classNamesPrefix:d,getStyleNonce:e,cssVariablesResolver:y,cssVariablesSelector:h,withStaticClasses:i,stylesTransform:x,env:_},children:F.jsxs(ob,{theme:a,children:[u&&F.jsx(cb,{cssVariablesSelector:h,deduplicateCssVariables:l}),s&&F.jsx(VC,{}),t]})})}ub.displayName="@mantine/core/MantineProvider";function hb({classNames:a,styles:t,props:e,stylesCtx:i}){const s=Si();return{resolvedClassNames:Wc({theme:s,classNames:a,props:e,stylesCtx:i||void 0}),resolvedStyles:jc({theme:s,styles:t,props:e,stylesCtx:i||void 0})}}const tw={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function ew({theme:a,options:t,unstyled:e}){return yi((t==null?void 0:t.focusable)&&!e&&(a.focusClassName||tw[a.focusRing]),(t==null?void 0:t.active)&&!e&&a.activeClassName)}function nw({selector:a,stylesCtx:t,options:e,props:i,theme:s}){return Wc({theme:s,classNames:e==null?void 0:e.classNames,props:(e==null?void 0:e.props)||i,stylesCtx:t})[a]}function zv({selector:a,stylesCtx:t,theme:e,classNames:i,props:s}){return Wc({theme:e,classNames:i,props:s,stylesCtx:t})[a]}function iw({rootSelector:a,selector:t,className:e}){return a===t?e:void 0}function rw({selector:a,classes:t,unstyled:e}){return e?void 0:t[a]}function aw({themeName:a,classNamesPrefix:t,selector:e,withStaticClass:i}){return i===!1?[]:a.map(s=>`${t}-${s}-${e}`)}function sw({themeName:a,theme:t,selector:e,props:i,stylesCtx:s}){return a.map(l=>{var u,h;return(h=Wc({theme:t,classNames:(u=t.components[l])==null?void 0:u.classNames,props:i,stylesCtx:s}))==null?void 0:h[e]})}function ow({options:a,classes:t,selector:e,unstyled:i}){return a!=null&&a.variant&&!i?t[`${e}--${a.variant}`]:void 0}function lw({theme:a,options:t,themeName:e,selector:i,classNamesPrefix:s,classNames:l,classes:u,unstyled:h,className:d,rootSelector:g,props:m,stylesCtx:v,withStaticClasses:y,headless:S,transformedStyles:x}){return yi(ew({theme:a,options:t,unstyled:h||S}),sw({theme:a,themeName:e,selector:i,props:m,stylesCtx:v}),ow({options:t,classes:u,selector:i,unstyled:h}),zv({selector:i,stylesCtx:v,theme:a,classNames:l,props:m}),zv({selector:i,stylesCtx:v,theme:a,classNames:x,props:m}),nw({selector:i,stylesCtx:v,options:t,props:m,theme:a}),iw({rootSelector:g,selector:i,className:d}),rw({selector:i,classes:u,unstyled:h||S}),y&&!S&&aw({themeName:e,classNamesPrefix:s,selector:i,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function cw({theme:a,themeName:t,props:e,stylesCtx:i,selector:s}){return t.map(l=>{var u;return jc({theme:a,styles:(u=a.components[l])==null?void 0:u.styles,props:e,stylesCtx:i})[s]}).reduce((l,u)=>({...l,...u}),{})}function md({style:a,theme:t}){return Array.isArray(a)?[...a].reduce((e,i)=>({...e,...md({style:i,theme:t})}),{}):typeof a=="function"?a(t):a??{}}function uw(a){return a.reduce((t,e)=>(e&&Object.keys(e).forEach(i=>{t[i]={...t[i],...Nd(e[i])}}),t),{})}function hw({vars:a,varsResolver:t,theme:e,props:i,stylesCtx:s,selector:l,themeName:u,headless:h}){var d;return(d=uw([h?{}:t==null?void 0:t(e,i,s),...u.map(g=>{var m,v,y;return(y=(v=(m=e.components)==null?void 0:m[g])==null?void 0:v.vars)==null?void 0:y.call(v,e,i,s)}),a==null?void 0:a(e,i,s)]))==null?void 0:d[l]}function fw({theme:a,themeName:t,selector:e,options:i,props:s,stylesCtx:l,rootSelector:u,styles:h,style:d,vars:g,varsResolver:m,headless:v,withStylesTransform:y}){return{...!y&&cw({theme:a,themeName:t,props:s,stylesCtx:l,selector:e}),...!y&&jc({theme:a,styles:h,props:s,stylesCtx:l})[e],...!y&&jc({theme:a,styles:i==null?void 0:i.styles,props:(i==null?void 0:i.props)||s,stylesCtx:l})[e],...hw({theme:a,props:s,stylesCtx:l,vars:g,varsResolver:m,selector:e,themeName:t,headless:v}),...u===e?md({style:d,theme:a}):null,...md({style:i==null?void 0:i.style,theme:a})}}function dw({props:a,stylesCtx:t,themeName:e}){var u;const i=Si(),s=(u=AC())==null?void 0:u();return{getTransformedStyles:h=>s?[...h.map(g=>s(g,{props:a,theme:i,ctx:t})),...e.map(g=>{var m;return s((m=i.components[g])==null?void 0:m.styles,{props:a,theme:i,ctx:t})})].filter(Boolean):[],withStylesTransform:!!s}}function Se({name:a,classes:t,props:e,stylesCtx:i,className:s,style:l,rootSelector:u="root",unstyled:h,classNames:d,styles:g,vars:m,varsResolver:v}){const y=Si(),S=OC(),x=EC(),_=DC(),w=(Array.isArray(a)?a:[a]).filter(M=>M),{withStylesTransform:T,getTransformedStyles:j}=dw({props:e,stylesCtx:i,themeName:w});return(M,H)=>({className:lw({theme:y,options:H,themeName:w,selector:M,classNamesPrefix:S,classNames:d,classes:t,unstyled:h,className:s,rootSelector:u,props:e,stylesCtx:i,withStaticClasses:x,headless:_,transformedStyles:j([H==null?void 0:H.styles,g])}),style:fw({theme:y,themeName:w,selector:M,options:H,props:e,stylesCtx:i,rootSelector:u,styles:g,style:l,vars:m,varsResolver:v,headless:_,withStylesTransform:T})})}function Mt(a,t,e){var u;const i=Si(),s=(u=i.components[a])==null?void 0:u.defaultProps,l=typeof s=="function"?s(i):s;return{...t,...l,...Nd(e)}}function Pf(a){return be(a).reduce((t,e)=>a[e]!==void 0?`${t}${sC(e)}:${a[e]};`:t,"").trim()}function gw({selector:a,styles:t,media:e,container:i}){const s=t?Pf(t):"",l=Array.isArray(e)?e.map(h=>`@media${h.query}{${a}{${Pf(h.styles)}}}`):[],u=Array.isArray(i)?i.map(h=>`@container ${h.query}{${a}{${Pf(h.styles)}}}`):[];return`${s?`${a}{${s}}`:""}${l.join("")}${u.join("")}`.trim()}function fb(a){const t=Yd();return F.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:gw(a)}})}function Vd(a){const{m:t,mx:e,my:i,mt:s,mb:l,ml:u,mr:h,me:d,ms:g,p:m,px:v,py:y,pt:S,pb:x,pl:_,pr:w,pe:T,ps:j,bd:M,bg:H,c:N,opacity:V,ff:K,fz:W,fw:nt,lts:lt,ta:vt,lh:ht,fs:ot,tt:ut,td:yt,w:P,miw:J,maw:et,h:pt,mih:D,mah:G,bgsz:tt,bgp:Z,bgr:it,bga:gt,pos:at,top:jt,left:Ot,bottom:ue,right:Zt,inset:wi,display:ir,flex:rr,hiddenFrom:ar,visibleFrom:xe,lightHidden:Ia,darkHidden:Lt,sx:en,...Fn}=a;return{styleProps:Nd({m:t,mx:e,my:i,mt:s,mb:l,ml:u,mr:h,me:d,ms:g,p:m,px:v,py:y,pt:S,pb:x,pl:_,pr:w,pe:T,ps:j,bd:M,bg:H,c:N,opacity:V,ff:K,fz:W,fw:nt,lts:lt,ta:vt,lh:ht,fs:ot,tt:ut,td:yt,w:P,miw:J,maw:et,h:pt,mih:D,mah:G,bgsz:tt,bgp:Z,bgr:it,bga:gt,pos:at,top:jt,left:Ot,bottom:ue,right:Zt,inset:wi,display:ir,flex:rr,hiddenFrom:ar,visibleFrom:xe,lightHidden:Ia,darkHidden:Lt,sx:en}),rest:Fn}}const pw={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Gd(a,t){const e=bo({color:a,theme:t});return e.color==="dimmed"?"var(--mantine-color-dimmed)":e.color==="bright"?"var(--mantine-color-bright)":e.variable?`var(${e.variable})`:e.color}function mw(a,t){const e=bo({color:a,theme:t});return e.isThemeColor&&e.shade===void 0?`var(--mantine-color-${e.color}-text)`:Gd(a,t)}function vw(a,t){if(typeof a=="number")return I(a);if(typeof a=="string"){const[e,i,...s]=a.split(" ").filter(u=>u.trim()!=="");let l=`${I(e)}`;return i&&(l+=` ${i}`),s.length>0&&(l+=` ${Gd(s.join(" "),t)}`),l.trim()}return a}const Bv={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function yw(a){return typeof a=="string"&&a in Bv?Bv[a]:a}const bw=["h1","h2","h3","h4","h5","h6"];function Sw(a,t){return typeof a=="string"&&a in t.fontSizes?`var(--mantine-font-size-${a})`:typeof a=="string"&&bw.includes(a)?`var(--mantine-${a}-font-size)`:typeof a=="number"||typeof a=="string"?I(a):a}function xw(a){return a}const _w=["h1","h2","h3","h4","h5","h6"];function Cw(a,t){return typeof a=="string"&&a in t.lineHeights?`var(--mantine-line-height-${a})`:typeof a=="string"&&_w.includes(a)?`var(--mantine-${a}-line-height)`:a}function ww(a){return typeof a=="number"?I(a):a}function Tw(a,t){if(typeof a=="number")return I(a);if(typeof a=="string"){const e=a.replace("-","");if(!(e in t.spacing))return I(a);const i=`--mantine-spacing-${e}`;return a.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return a}const Ff={color:Gd,textColor:mw,fontSize:Sw,spacing:Tw,identity:xw,size:ww,lineHeight:Cw,fontFamily:yw,border:vw};function Nv(a){return a.replace("(min-width: ","").replace("em)","")}function Ow({media:a,...t}){const i=Object.keys(a).sort((s,l)=>Number(Nv(s))-Number(Nv(l))).map(s=>({query:s,styles:a[s]}));return{...t,media:i}}function Ew(a){if(typeof a!="object"||a===null)return!1;const t=Object.keys(a);return!(t.length===1&&t[0]==="base")}function Dw(a){return typeof a=="object"&&a!==null?"base"in a?a.base:void 0:a}function Mw(a){return typeof a=="object"&&a!==null?be(a).filter(t=>t!=="base"):[]}function Aw(a,t){return typeof a=="object"&&a!==null&&t in a?a[t]:a}function Rw({styleProps:a,data:t,theme:e}){return Ow(be(a).reduce((i,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return i;const l=t[s],u=Array.isArray(l.property)?l.property:[l.property],h=Dw(a[s]);if(!Ew(a[s]))return u.forEach(g=>{i.inlineStyles[g]=Ff[l.type](h,e)}),i;i.hasResponsiveStyles=!0;const d=Mw(a[s]);return u.forEach(g=>{h&&(i.styles[g]=Ff[l.type](h,e)),d.forEach(m=>{const v=`(min-width: ${e.breakpoints[m]})`;i.media[v]={...i.media[v],[g]:Ff[l.type](Aw(a[s],m),e)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function jw(){return`__m__-${E.useId().replace(/:/g,"")}`}function db(a){return a.startsWith("data-")?a:`data-${a}`}function kw(a){return Object.keys(a).reduce((t,e)=>{const i=a[e];return i===void 0||i===""||i===!1||i===null||(t[db(e)]=a[e]),t},{})}function gb(a){return a?typeof a=="string"?{[db(a)]:!0}:Array.isArray(a)?[...a].reduce((t,e)=>({...t,...gb(e)}),{}):kw(a):null}function vd(a,t){return Array.isArray(a)?[...a].reduce((e,i)=>({...e,...vd(i,t)}),{}):typeof a=="function"?a(t):a??{}}function Lw({theme:a,style:t,vars:e,styleProps:i}){const s=vd(t,a),l=vd(e,a);return{...s,...l,...i}}const pb=E.forwardRef(({component:a,style:t,__vars:e,className:i,variant:s,mod:l,size:u,hiddenFrom:h,visibleFrom:d,lightHidden:g,darkHidden:m,renderRoot:v,__size:y,...S},x)=>{var W;const _=Si(),w=a||"div",{styleProps:T,rest:j}=Vd(S),M=MC(),H=(W=M==null?void 0:M())==null?void 0:W(T.sx),N=jw(),V=Rw({styleProps:T,theme:_,data:pw}),K={ref:x,style:Lw({theme:_,style:t,vars:e,styleProps:V.inlineStyles}),className:yi(i,H,{[N]:V.hasResponsiveStyles,"mantine-light-hidden":g,"mantine-dark-hidden":m,[`mantine-hidden-from-${h}`]:h,[`mantine-visible-from-${d}`]:d}),"data-variant":s,"data-size":eb(u)?void 0:u||void 0,size:y,...gb(l),...j};return F.jsxs(F.Fragment,{children:[V.hasResponsiveStyles&&F.jsx(fb,{selector:`.${N}`,styles:V.styles,media:V.media}),typeof v=="function"?v(K):F.jsx(w,{...K})]})});pb.displayName="@mantine/core/Box";const Ct=pb;function mb(a){return a}function ce(a){const t=E.forwardRef(a);return t.extend=mb,t.withProps=e=>{const i=E.forwardRef((s,l)=>F.jsx(t,{...e,...s,ref:l}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t}function jr(a){const t=E.forwardRef(a);return t.withProps=e=>{const i=E.forwardRef((s,l)=>F.jsx(t,{...e,...s,ref:l}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t.extend=mb,t}const zw=E.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Bw(){return E.useContext(zw)}var Vf={exports:{}},we={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Nw(){if(Hv)return we;Hv=1;var a=Ld();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,g,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:g,implementation:m}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return we.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,we.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(d,g,null,m)},we.flushSync=function(d){var g=u.T,m=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=g,i.p=m,i.d.f()}},we.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(d,g))},we.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},we.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,v=h(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:S}):m==="script"&&i.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},we.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(d)},we.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,v=h(m,g.crossOrigin);i.d.L(d,m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},we.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(d)},we.requestFormReset=function(d){i.d.r(d)},we.unstable_batchedUpdates=function(d,g){return d(g)},we.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},we.useFormStatus=function(){return u.H.useHostTransitionStatus()},we.version="19.1.0",we}var Uv;function vb(){if(Uv)return Vf.exports;Uv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Vf.exports=Nw(),Vf.exports}var Hw=vb();const Uw=kd(Hw);var yb={root:"m_87cf2631"};const Yw={__staticSelector:"UnstyledButton"},Ic=jr((a,t)=>{const e=Mt("UnstyledButton",Yw,a),{className:i,component:s="button",__staticSelector:l,unstyled:u,classNames:h,styles:d,style:g,...m}=e,v=Se({name:l,props:e,classes:yb,className:i,style:g,classNames:h,styles:d,unstyled:u});return F.jsx(Ct,{...v("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...m})});Ic.classes=yb;Ic.displayName="@mantine/core/UnstyledButton";const Zs=a=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${a==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),$l={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Zs("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Zs("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Zs("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Zs("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Zs("top"),common:{transformOrigin:"top right"}}},Yv={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Xw({transition:a,state:t,duration:e,timingFunction:i}){const s={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${e}ms`,transitionTimingFunction:i};return typeof a=="string"?a in $l?{transitionProperty:$l[a].transitionProperty,...s,...$l[a].common,...$l[a][Yv[t]]}:{}:{transitionProperty:a.transitionProperty,...s,...a.common,...a[Yv[t]]}}function Pw({duration:a,exitDuration:t,timingFunction:e,mounted:i,onEnter:s,onExit:l,onEntered:u,onExited:h,enterDelay:d,exitDelay:g}){const m=Si(),v=_C(),y=m.respectReducedMotion?v:!1,[S,x]=E.useState(y?0:a),[_,w]=E.useState(i?"entered":"exited"),T=E.useRef(-1),j=E.useRef(-1),M=E.useRef(-1),H=V=>{const K=V?s:l,W=V?u:h;window.clearTimeout(T.current);const nt=y?0:V?a:t;x(nt),nt===0?(typeof K=="function"&&K(),typeof W=="function"&&W(),w(V?"entered":"exited")):M.current=requestAnimationFrame(()=>{Uw.flushSync(()=>{w(V?"pre-entering":"pre-exiting")}),M.current=requestAnimationFrame(()=>{typeof K=="function"&&K(),w(V?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof W=="function"&&W(),w(V?"entered":"exited")},nt)})})},N=V=>{if(window.clearTimeout(j.current),typeof(V?d:g)!="number"){H(V);return}j.current=window.setTimeout(()=>{H(V)},V?d:g)};return pC(()=>{N(i)},[i]),E.useEffect(()=>()=>{window.clearTimeout(T.current),cancelAnimationFrame(M.current)},[]),{transitionDuration:S,transitionStatus:_,transitionTimingFunction:e||"ease"}}function qd({keepMounted:a,transition:t="fade",duration:e=250,exitDuration:i=e,mounted:s,children:l,timingFunction:u="ease",onExit:h,onEntered:d,onEnter:g,onExited:m,enterDelay:v,exitDelay:y}){const S=RC(),{transitionDuration:x,transitionStatus:_,transitionTimingFunction:w}=Pw({mounted:s,exitDuration:i,duration:e,timingFunction:u,onExit:h,onEntered:d,onEnter:g,onExited:m,enterDelay:v,exitDelay:y});return x===0||S==="test"?s?F.jsx(F.Fragment,{children:l({})}):a?l({display:"none"}):null:_==="exited"?a?l({display:"none"}):null:F.jsx(F.Fragment,{children:l(Xw({transition:t,duration:x,state:_,timingFunction:w}))})}qd.displayName="@mantine/core/Transition";var Tn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const bb=E.forwardRef(({className:a,...t},e)=>F.jsxs(Ct,{component:"span",className:yi(Tn.barsLoader,a),...t,ref:e,children:[F.jsx("span",{className:Tn.bar}),F.jsx("span",{className:Tn.bar}),F.jsx("span",{className:Tn.bar})]}));bb.displayName="@mantine/core/Bars";const Sb=E.forwardRef(({className:a,...t},e)=>F.jsxs(Ct,{component:"span",className:yi(Tn.dotsLoader,a),...t,ref:e,children:[F.jsx("span",{className:Tn.dot}),F.jsx("span",{className:Tn.dot}),F.jsx("span",{className:Tn.dot})]}));Sb.displayName="@mantine/core/Dots";const xb=E.forwardRef(({className:a,...t},e)=>F.jsx(Ct,{component:"span",className:yi(Tn.ovalLoader,a),...t,ref:e}));xb.displayName="@mantine/core/Oval";const _b={bars:bb,oval:xb,dots:Sb},Fw={loaders:_b,type:"oval"},Vw=(a,{size:t,color:e})=>({root:{"--loader-size":Je(t,"loader-size"),"--loader-color":e?co(e,a):void 0}}),Qc=ce((a,t)=>{const e=Mt("Loader",Fw,a),{size:i,color:s,type:l,vars:u,className:h,style:d,classNames:g,styles:m,unstyled:v,loaders:y,variant:S,children:x,..._}=e,w=Se({name:"Loader",props:e,classes:Tn,className:h,style:d,classNames:g,styles:m,unstyled:v,vars:u,varsResolver:Vw});return x?F.jsx(Ct,{...w("root"),ref:t,..._,children:x}):F.jsx(Ct,{...w("root"),ref:t,component:y[l],variant:S,size:i,..._})});Qc.defaultLoaders=_b;Qc.classes=Tn;Qc.displayName="@mantine/core/Loader";const Cb=E.forwardRef(({size:a="var(--cb-icon-size, 70%)",style:t,...e},i)=>F.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:a,height:a},ref:i,...e,children:F.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Cb.displayName="@mantine/core/CloseIcon";var wb={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Gw={variant:"subtle"},qw=(a,{size:t,radius:e,iconSize:i})=>({root:{"--cb-size":Je(t,"cb-size"),"--cb-radius":e===void 0?void 0:yo(e),"--cb-icon-size":I(i)}}),Zc=jr((a,t)=>{const e=Mt("CloseButton",Gw,a),{iconSize:i,children:s,vars:l,radius:u,className:h,classNames:d,style:g,styles:m,unstyled:v,"data-disabled":y,disabled:S,variant:x,icon:_,mod:w,__staticSelector:T,...j}=e,M=Se({name:T||"CloseButton",props:e,className:h,style:g,classes:wb,classNames:d,styles:m,unstyled:v,vars:l,varsResolver:qw});return F.jsxs(Ic,{ref:t,...j,unstyled:v,variant:x,disabled:S,mod:[{disabled:S||y},w],...M("root",{variant:x,active:!S&&!y}),children:[_||F.jsx(Cb,{}),s]})});Zc.classes=wb;Zc.displayName="@mantine/core/CloseButton";function $w(a){return E.Children.toArray(a).filter(Boolean)}var Tb={root:"m_4081bf90"};const Ww={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Iw=(a,{grow:t,preventGrowOverflow:e,gap:i,align:s,justify:l,wrap:u},{childWidth:h})=>({root:{"--group-child-width":t&&e?h:void 0,"--group-gap":qc(i),"--group-align":s,"--group-justify":l,"--group-wrap":u}}),Na=ce((a,t)=>{const e=Mt("Group",Ww,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,children:d,gap:g,align:m,justify:v,wrap:y,grow:S,preventGrowOverflow:x,vars:_,variant:w,__size:T,mod:j,...M}=e,H=$w(d),N=H.length,V=qc(g??"md"),W={childWidth:`calc(${100/N}% - (${V} - ${V} / ${N}))`},nt=Se({name:"Group",props:e,stylesCtx:W,className:s,style:l,classes:Tb,classNames:i,styles:u,unstyled:h,vars:_,varsResolver:Iw});return F.jsx(Ct,{...nt("root"),ref:t,variant:w,mod:[{grow:S},j],size:T,...M,children:H})});Na.classes=Tb;Na.displayName="@mantine/core/Group";const[Qw,Zw]=ib({size:"sm"}),Kw={},Ob=ce((a,t)=>{const e=Mt("InputClearButton",Kw,a),{size:i,variant:s,vars:l,classNames:u,styles:h,...d}=e,g=Zw(),{resolvedClassNames:m,resolvedStyles:v}=hb({classNames:u,styles:h,props:e});return F.jsx(Zc,{variant:s||"transparent",ref:t,size:i||(g==null?void 0:g.size)||"sm",classNames:m,styles:v,__staticSelector:"InputClearButton",...d})});Ob.displayName="@mantine/core/InputClearButton";const[Jw,Kc]=ib({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var vn={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Xv={},t2=(a,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${gn(t)} - ${I(2)})`}}),Jc=ce((a,t)=>{const e=Mt("InputDescription",Xv,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,size:g,__staticSelector:m,__inheritStyles:v=!0,variant:y,...S}=Mt("InputDescription",Xv,e),x=Kc(),_=Se({name:["InputWrapper",m],props:e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,rootSelector:"description",vars:d,varsResolver:t2}),w=v&&(x==null?void 0:x.getStyles)||_;return F.jsx(Ct,{component:"p",ref:t,variant:y,size:g,...w("description",x!=null&&x.getStyles?{className:s,style:l}:void 0),...S})});Jc.classes=vn;Jc.displayName="@mantine/core/InputDescription";const e2={},n2=(a,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${gn(t)} - ${I(2)})`}}),tu=ce((a,t)=>{const e=Mt("InputError",e2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,size:g,__staticSelector:m,__inheritStyles:v=!0,variant:y,...S}=e,x=Se({name:["InputWrapper",m],props:e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,rootSelector:"error",vars:d,varsResolver:n2}),_=Kc(),w=v&&(_==null?void 0:_.getStyles)||x;return F.jsx(Ct,{component:"p",ref:t,variant:y,size:g,...w("error",_!=null&&_.getStyles?{className:s,style:l}:void 0),...S})});tu.classes=vn;tu.displayName="@mantine/core/InputError";const Pv={labelElement:"label"},i2=(a,{size:t})=>({label:{"--input-label-size":gn(t),"--input-asterisk-color":void 0}}),eu=ce((a,t)=>{const e=Mt("InputLabel",Pv,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,labelElement:g,size:m,required:v,htmlFor:y,onMouseDown:S,children:x,__staticSelector:_,variant:w,mod:T,...j}=Mt("InputLabel",Pv,e),M=Se({name:["InputWrapper",_],props:e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,rootSelector:"label",vars:d,varsResolver:i2}),H=Kc(),N=(H==null?void 0:H.getStyles)||M;return F.jsxs(Ct,{...N("label",H!=null&&H.getStyles?{className:s,style:l}:void 0),component:g,variant:w,size:m,ref:t,htmlFor:g==="label"?y:void 0,mod:[{required:v},T],onMouseDown:V=>{S==null||S(V),!V.defaultPrevented&&V.detail>1&&V.preventDefault()},...j,children:[x,v&&F.jsx("span",{...N("required"),"aria-hidden":!0,children:" *"})]})});eu.classes=vn;eu.displayName="@mantine/core/InputLabel";const Fv={},$d=ce((a,t)=>{const e=Mt("InputPlaceholder",Fv,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,__staticSelector:g,variant:m,error:v,mod:y,...S}=Mt("InputPlaceholder",Fv,e),x=Se({name:["InputPlaceholder",g],props:e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,rootSelector:"placeholder"});return F.jsx(Ct,{...x("placeholder"),mod:[{error:!!v},y],component:"span",variant:m,ref:t,...S})});$d.classes=vn;$d.displayName="@mantine/core/InputPlaceholder";function r2(a,{hasDescription:t,hasError:e}){const i=a.findIndex(d=>d==="input"),s=a.slice(0,i),l=a.slice(i+1),u=t&&s.includes("description")||e&&s.includes("error");return{offsetBottom:t&&l.includes("description")||e&&l.includes("error"),offsetTop:u}}const a2={labelElement:"label",inputContainer:a=>a,inputWrapperOrder:["label","description","input","error"]},s2=(a,{size:t})=>({label:{"--input-label-size":gn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${gn(t)} - ${I(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${gn(t)} - ${I(2)})`}}),Wd=ce((a,t)=>{const e=Mt("InputWrapper",a2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,size:g,variant:m,__staticSelector:v,inputContainer:y,inputWrapperOrder:S,label:x,error:_,description:w,labelProps:T,descriptionProps:j,errorProps:M,labelElement:H,children:N,withAsterisk:V,id:K,required:W,__stylesApiProps:nt,mod:lt,...vt}=e,ht=Se({name:["InputWrapper",v],props:nt||e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,vars:d,varsResolver:s2}),ot={size:g,variant:m,__staticSelector:v},ut=yC(K),yt=typeof V=="boolean"?V:W,P=(M==null?void 0:M.id)||`${ut}-error`,J=(j==null?void 0:j.id)||`${ut}-description`,et=ut,pt=!!_&&typeof _!="boolean",D=!!w,G=`${pt?P:""} ${D?J:""}`,tt=G.trim().length>0?G.trim():void 0,Z=(T==null?void 0:T.id)||`${ut}-label`,it=x&&F.jsx(eu,{labelElement:H,id:Z,htmlFor:et,required:yt,...ot,...T,children:x},"label"),gt=D&&F.jsx(Jc,{...j,...ot,size:(j==null?void 0:j.size)||ot.size,id:(j==null?void 0:j.id)||J,children:w},"description"),at=F.jsx(E.Fragment,{children:y(N)},"input"),jt=pt&&E.createElement(tu,{...M,...ot,size:(M==null?void 0:M.size)||ot.size,key:"error",id:(M==null?void 0:M.id)||P},_),Ot=S.map(ue=>{switch(ue){case"label":return it;case"input":return at;case"description":return gt;case"error":return jt;default:return null}});return F.jsx(Jw,{value:{getStyles:ht,describedBy:tt,inputId:et,labelId:Z,...r2(S,{hasDescription:D,hasError:pt})},children:F.jsx(Ct,{ref:t,variant:m,size:g,mod:[{error:!!_},lt],...ht("root"),...vt,children:Ot})})});Wd.classes=vn;Wd.displayName="@mantine/core/InputWrapper";const o2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},l2=(a,t,e)=>({wrapper:{"--input-margin-top":e.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":e.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Je(t.size,"input-height"),"--input-fz":gn(t.size),"--input-radius":t.radius===void 0?void 0:yo(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?I(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?I(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Je(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),tn=jr((a,t)=>{const e=Mt("Input",o2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,required:d,__staticSelector:g,__stylesApiProps:m,size:v,wrapperProps:y,error:S,disabled:x,leftSection:_,leftSectionProps:w,leftSectionWidth:T,rightSection:j,rightSectionProps:M,rightSectionWidth:H,rightSectionPointerEvents:N,leftSectionPointerEvents:V,variant:K,vars:W,pointer:nt,multiline:lt,radius:vt,id:ht,withAria:ot,withErrorStyles:ut,mod:yt,inputSize:P,__clearSection:J,__clearable:et,__defaultRightSection:pt,...D}=e,{styleProps:G,rest:tt}=Vd(D),Z=Kc(),it={offsetBottom:Z==null?void 0:Z.offsetBottom,offsetTop:Z==null?void 0:Z.offsetTop},gt=Se({name:["Input",g],props:m||e,classes:vn,className:s,style:l,classNames:i,styles:u,unstyled:h,stylesCtx:it,rootSelector:"wrapper",vars:W,varsResolver:l2}),at=ot?{required:d,disabled:x,"aria-invalid":!!S,"aria-describedby":Z==null?void 0:Z.describedBy,id:(Z==null?void 0:Z.inputId)||ht}:{},jt=j||et&&J||pt;return F.jsx(Qw,{value:{size:v||"sm"},children:F.jsxs(Ct,{...gt("wrapper"),...G,...y,mod:[{error:!!S&&ut,pointer:nt,disabled:x,multiline:lt,"data-with-right-section":!!jt,"data-with-left-section":!!_},yt],variant:K,size:v,children:[_&&F.jsx("div",{...w,"data-position":"left",...gt("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:_}),F.jsx(Ct,{component:"input",...tt,...at,ref:t,required:d,mod:{disabled:x,error:!!S&&ut},variant:K,__size:P,...gt("input")}),jt&&F.jsx("div",{...M,"data-position":"right",...gt("section",{className:M==null?void 0:M.className,style:M==null?void 0:M.style}),children:jt})]})})});tn.classes=vn;tn.Wrapper=Wd;tn.Label=eu;tn.Error=tu;tn.Description=Jc;tn.Placeholder=$d;tn.ClearButton=Ob;tn.displayName="@mantine/core/Input";function c2(a,t,e){const i=Mt(a,t,e),{label:s,description:l,error:u,required:h,classNames:d,styles:g,className:m,unstyled:v,__staticSelector:y,__stylesApiProps:S,errorProps:x,labelProps:_,descriptionProps:w,wrapperProps:T,id:j,size:M,style:H,inputContainer:N,inputWrapperOrder:V,withAsterisk:K,variant:W,vars:nt,mod:lt,...vt}=i,{styleProps:ht,rest:ot}=Vd(vt),ut={label:s,description:l,error:u,required:h,classNames:d,className:m,__staticSelector:y,__stylesApiProps:S||i,errorProps:x,labelProps:_,descriptionProps:w,unstyled:v,styles:g,size:M,style:H,inputContainer:N,inputWrapperOrder:V,withAsterisk:K,variant:W,id:j,mod:lt,...T};return{...ot,classNames:d,styles:g,unstyled:v,wrapperProps:{...ut,...ht},inputProps:{required:h,classNames:d,styles:g,unstyled:v,size:M,__staticSelector:y,__stylesApiProps:S||i,error:u,variant:W,id:j}}}const u2={__staticSelector:"InputBase",withAria:!0},nu=jr((a,t)=>{const{inputProps:e,wrapperProps:i,...s}=c2("InputBase",u2,a);return F.jsx(tn.Wrapper,{...i,children:F.jsx(tn,{...e,...s,ref:t})})});nu.classes={...tn.classes,...tn.Wrapper.classes};nu.displayName="@mantine/core/InputBase";var Eb={root:"m_b6d8b162"};function h2(a){if(a==="start")return"start";if(a==="end"||a)return"end"}const f2={inherit:!1},d2=(a,{variant:t,lineClamp:e,gradient:i,size:s,color:l})=>({root:{"--text-fz":gn(s),"--text-lh":uC(s),"--text-gradient":t==="gradient"?pd(i,a):void 0,"--text-line-clamp":typeof e=="number"?e.toString():void 0,"--text-color":l?co(l,a):void 0}}),iu=jr((a,t)=>{const e=Mt("Text",f2,a),{lineClamp:i,truncate:s,inline:l,inherit:u,gradient:h,span:d,__staticSelector:g,vars:m,className:v,style:y,classNames:S,styles:x,unstyled:_,variant:w,mod:T,size:j,...M}=e,H=Se({name:["Text",g],props:e,classes:Eb,className:v,style:y,classNames:S,styles:x,unstyled:_,vars:m,varsResolver:d2});return F.jsx(Ct,{...H("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:w,mod:[{"data-truncate":h2(s),"data-line-clamp":typeof i=="number","data-inline":l,"data-inherit":u},T],size:j,...M})});iu.classes=Eb;iu.displayName="@mantine/core/Text";const[g2,Ua]=nb("AppShell was not found in tree");var tr={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const p2={},Id=ce((a,t)=>{const e=Mt("AppShellAside",p2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,withBorder:g,zIndex:m,mod:v,...y}=e,S=Ua();return S.disabled?null:F.jsx(Ct,{component:"aside",ref:t,mod:[{"with-border":g??S.withBorder},v],...S.getStyles("aside",{className:s,classNames:i,styles:u,style:l}),...y,__vars:{"--app-shell-aside-z-index":`calc(${m??S.zIndex} + 1)`}})});Id.classes=tr;Id.displayName="@mantine/core/AppShellAside";const m2={},Qd=ce((a,t)=>{var x;const e=Mt("AppShellFooter",m2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,withBorder:g,zIndex:m,mod:v,...y}=e,S=Ua();return S.disabled?null:F.jsx(Ct,{component:"footer",ref:t,mod:[{"with-border":g??S.withBorder},v],...S.getStyles("footer",{className:yi({[zd.classNames.zeroRight]:S.offsetScrollbars},s),classNames:i,styles:u,style:l}),...y,__vars:{"--app-shell-footer-z-index":(x=m??S.zIndex)==null?void 0:x.toString()}})});Qd.classes=tr;Qd.displayName="@mantine/core/AppShellFooter";const v2={},Zd=ce((a,t)=>{var x;const e=Mt("AppShellHeader",v2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,withBorder:g,zIndex:m,mod:v,...y}=e,S=Ua();return S.disabled?null:F.jsx(Ct,{component:"header",ref:t,mod:[{"with-border":g??S.withBorder},v],...S.getStyles("header",{className:yi({[zd.classNames.zeroRight]:S.offsetScrollbars},s),classNames:i,styles:u,style:l}),...y,__vars:{"--app-shell-header-z-index":(x=m??S.zIndex)==null?void 0:x.toString()}})});Zd.classes=tr;Zd.displayName="@mantine/core/AppShellHeader";const y2={},Kd=ce((a,t)=>{const e=Mt("AppShellMain",y2,a),{classNames:i,className:s,style:l,styles:u,vars:h,...d}=e,g=Ua();return F.jsx(Ct,{component:"main",ref:t,...g.getStyles("main",{className:s,style:l,classNames:i,styles:u}),...d})});Kd.classes=tr;Kd.displayName="@mantine/core/AppShellMain";function So(a){return typeof a=="object"?a.base:a}function xo(a){const t=typeof a=="object"&&a!==null&&typeof a.base<"u"&&Object.keys(a).length===1;return typeof a=="number"||typeof a=="string"||t}function _o(a){return!(typeof a!="object"||a===null||Object.keys(a).length===1&&"base"in a)}function b2({baseStyles:a,minMediaStyles:t,maxMediaStyles:e,aside:i,theme:s}){var d,g,m;const l=i==null?void 0:i.width,u="translateX(var(--app-shell-aside-width))",h="translateX(calc(var(--app-shell-aside-width) * -1))";if(i!=null&&i.breakpoint&&!((d=i==null?void 0:i.collapsed)!=null&&d.mobile)&&(e[i==null?void 0:i.breakpoint]=e[i==null?void 0:i.breakpoint]||{},e[i==null?void 0:i.breakpoint]["--app-shell-aside-width"]="100%",e[i==null?void 0:i.breakpoint]["--app-shell-aside-offset"]="0px"),xo(l)){const v=I(So(l));a["--app-shell-aside-width"]=v,a["--app-shell-aside-offset"]=v}if(_o(l)&&(typeof l.base<"u"&&(a["--app-shell-aside-width"]=I(l.base),a["--app-shell-aside-offset"]=I(l.base)),be(l).forEach(v=>{v!=="base"&&(t[v]=t[v]||{},t[v]["--app-shell-aside-width"]=I(l[v]),t[v]["--app-shell-aside-offset"]=I(l[v]))})),(g=i==null?void 0:i.collapsed)!=null&&g.desktop){const v=i.breakpoint;t[v]=t[v]||{},t[v]["--app-shell-aside-transform"]=u,t[v]["--app-shell-aside-transform-rtl"]=h,t[v]["--app-shell-aside-offset"]="0px !important"}if((m=i==null?void 0:i.collapsed)!=null&&m.mobile){const v=Hd(i.breakpoint,s.breakpoints)-.1;e[v]=e[v]||{},e[v]["--app-shell-aside-width"]="100%",e[v]["--app-shell-aside-offset"]="0px",e[v]["--app-shell-aside-transform"]=u,e[v]["--app-shell-aside-transform-rtl"]=h}}function S2({baseStyles:a,minMediaStyles:t,footer:e}){const i=e==null?void 0:e.height,s="translateY(var(--app-shell-footer-height))",l=(e==null?void 0:e.offset)??!0;if(xo(i)){const u=I(So(i));a["--app-shell-footer-height"]=u,l&&(a["--app-shell-footer-offset"]=u)}_o(i)&&(typeof i.base<"u"&&(a["--app-shell-footer-height"]=I(i.base),l&&(a["--app-shell-footer-offset"]=I(i.base))),be(i).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-footer-height"]=I(i[u]),l&&(t[u]["--app-shell-footer-offset"]=I(i[u])))})),e!=null&&e.collapsed&&(a["--app-shell-footer-transform"]=s,a["--app-shell-footer-offset"]="0px !important")}function x2({baseStyles:a,minMediaStyles:t,header:e}){const i=e==null?void 0:e.height,s="translateY(calc(var(--app-shell-header-height) * -1))",l=(e==null?void 0:e.offset)??!0;if(xo(i)){const u=I(So(i));a["--app-shell-header-height"]=u,l&&(a["--app-shell-header-offset"]=u)}_o(i)&&(typeof i.base<"u"&&(a["--app-shell-header-height"]=I(i.base),l&&(a["--app-shell-header-offset"]=I(i.base))),be(i).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-header-height"]=I(i[u]),l&&(t[u]["--app-shell-header-offset"]=I(i[u])))})),e!=null&&e.collapsed&&(a["--app-shell-header-transform"]=s,a["--app-shell-header-offset"]="0px !important")}function _2({baseStyles:a,minMediaStyles:t,maxMediaStyles:e,navbar:i,theme:s}){var d,g,m;const l=i==null?void 0:i.width,u="translateX(calc(var(--app-shell-navbar-width) * -1))",h="translateX(var(--app-shell-navbar-width))";if(i!=null&&i.breakpoint&&!((d=i==null?void 0:i.collapsed)!=null&&d.mobile)&&(e[i==null?void 0:i.breakpoint]=e[i==null?void 0:i.breakpoint]||{},e[i==null?void 0:i.breakpoint]["--app-shell-navbar-width"]="100%",e[i==null?void 0:i.breakpoint]["--app-shell-navbar-offset"]="0px"),xo(l)){const v=I(So(l));a["--app-shell-navbar-width"]=v,a["--app-shell-navbar-offset"]=v}if(_o(l)&&(typeof l.base<"u"&&(a["--app-shell-navbar-width"]=I(l.base),a["--app-shell-navbar-offset"]=I(l.base)),be(l).forEach(v=>{v!=="base"&&(t[v]=t[v]||{},t[v]["--app-shell-navbar-width"]=I(l[v]),t[v]["--app-shell-navbar-offset"]=I(l[v]))})),(g=i==null?void 0:i.collapsed)!=null&&g.desktop){const v=i.breakpoint;t[v]=t[v]||{},t[v]["--app-shell-navbar-transform"]=u,t[v]["--app-shell-navbar-transform-rtl"]=h,t[v]["--app-shell-navbar-offset"]="0px !important"}if((m=i==null?void 0:i.collapsed)!=null&&m.mobile){const v=Hd(i.breakpoint,s.breakpoints)-.1;e[v]=e[v]||{},e[v]["--app-shell-navbar-width"]="100%",e[v]["--app-shell-navbar-offset"]="0px",e[v]["--app-shell-navbar-transform"]=u,e[v]["--app-shell-navbar-transform-rtl"]=h}}function Gf(a){return Number(a)===0?"0px":qc(a)}function C2({padding:a,baseStyles:t,minMediaStyles:e}){xo(a)&&(t["--app-shell-padding"]=Gf(So(a))),_o(a)&&(a.base&&(t["--app-shell-padding"]=Gf(a.base)),be(a).forEach(i=>{i!=="base"&&(e[i]=e[i]||{},e[i]["--app-shell-padding"]=Gf(a[i]))}))}function w2({navbar:a,header:t,footer:e,aside:i,padding:s,theme:l}){const u={},h={},d={};_2({baseStyles:d,minMediaStyles:u,maxMediaStyles:h,navbar:a,theme:l}),b2({baseStyles:d,minMediaStyles:u,maxMediaStyles:h,aside:i,theme:l}),x2({baseStyles:d,minMediaStyles:u,header:t}),S2({baseStyles:d,minMediaStyles:u,footer:e}),C2({baseStyles:d,minMediaStyles:u,padding:s});const g=Dv(be(u),l.breakpoints).map(y=>({query:`(min-width: ${Rc(y.px)})`,styles:u[y.value]})),m=Dv(be(h),l.breakpoints).map(y=>({query:`(max-width: ${Rc(y.px)})`,styles:h[y.value]})),v=[...g,...m];return{baseStyles:d,media:v}}function T2({navbar:a,header:t,aside:e,footer:i,padding:s}){const l=Si(),u=bi(),{media:h,baseStyles:d}=w2({navbar:a,header:t,footer:i,aside:e,padding:s,theme:l});return F.jsx(fb,{media:h,styles:d,selector:u.cssVariablesSelector})}const O2={},Jd=ce((a,t)=>{const e=Mt("AppShellNavbar",O2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,withBorder:g,zIndex:m,mod:v,...y}=e,S=Ua();return S.disabled?null:F.jsx(Ct,{component:"nav",ref:t,mod:[{"with-border":g??S.withBorder},v],...S.getStyles("navbar",{className:s,classNames:i,styles:u,style:l}),...y,__vars:{"--app-shell-navbar-z-index":`calc(${m??S.zIndex} + 1)`}})});Jd.classes=tr;Jd.displayName="@mantine/core/AppShellNavbar";const E2={},tg=jr((a,t)=>{const e=Mt("AppShellSection",E2,a),{classNames:i,className:s,style:l,styles:u,vars:h,grow:d,mod:g,...m}=e,v=Ua();return F.jsx(Ct,{ref:t,mod:[{grow:d},g],...v.getStyles("section",{className:s,style:l,classNames:i,styles:u}),...m})});tg.classes=tr;tg.displayName="@mantine/core/AppShellSection";function D2({transitionDuration:a,disabled:t}){const[e,i]=E.useState(!0),s=E.useRef(-1),l=E.useRef(-1);return bC("resize",()=>{i(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>E.startTransition(()=>{i(!1)}),200)}),$c(()=>{i(!0),clearTimeout(l.current),l.current=window.setTimeout(()=>E.startTransition(()=>{i(!1)}),a||0)},[t,a]),e}const M2={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:cC("app")},A2=(a,{transitionDuration:t,transitionTimingFunction:e})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":e}}),En=ce((a,t)=>{const e=Mt("AppShell",M2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,navbar:g,withBorder:m,padding:v,transitionDuration:y,transitionTimingFunction:S,header:x,zIndex:_,layout:w,disabled:T,aside:j,footer:M,offsetScrollbars:H=w!=="alt",mod:N,...V}=e,K=Se({name:"AppShell",classes:tr,props:e,className:s,style:l,classNames:i,styles:u,unstyled:h,vars:d,varsResolver:A2}),W=D2({disabled:T,transitionDuration:y});return F.jsxs(g2,{value:{getStyles:K,withBorder:m,zIndex:_,disabled:T,offsetScrollbars:H},children:[F.jsx(T2,{navbar:g,header:x,aside:j,footer:M,padding:v}),F.jsx(Ct,{ref:t,...K("root"),mod:[{resizing:W,layout:w,disabled:T},N],...V})]})});En.classes=tr;En.displayName="@mantine/core/AppShell";En.Navbar=Jd;En.Header=Zd;En.Main=Kd;En.Aside=Id;En.Footer=Qd;En.Section=tg;var Ya={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Vv={orientation:"horizontal"},R2=(a,{borderWidth:t})=>({group:{"--button-border-width":I(t)}}),eg=ce((a,t)=>{const e=Mt("ButtonGroup",Vv,a),{className:i,style:s,classNames:l,styles:u,unstyled:h,orientation:d,vars:g,borderWidth:m,variant:v,mod:y,...S}=Mt("ButtonGroup",Vv,a),x=Se({name:"ButtonGroup",props:e,classes:Ya,className:i,style:s,classNames:l,styles:u,unstyled:h,vars:g,varsResolver:R2,rootSelector:"group"});return F.jsx(Ct,{...x("group"),ref:t,variant:v,mod:[{"data-orientation":d},y],role:"group",...S})});eg.classes=Ya;eg.displayName="@mantine/core/ButtonGroup";const Gv={},j2=(a,{radius:t,color:e,gradient:i,variant:s,autoContrast:l,size:u})=>{const h=a.variantColorResolver({color:e||a.primaryColor,theme:a,gradient:i,variant:s||"filled",autoContrast:l});return{groupSection:{"--section-height":Je(u,"section-height"),"--section-padding-x":Je(u,"section-padding-x"),"--section-fz":u!=null&&u.includes("compact")?gn(u.replace("compact-","")):gn(u),"--section-radius":t===void 0?void 0:yo(t),"--section-bg":e||s?h.background:void 0,"--section-color":h.color,"--section-bd":e||s?h.border:void 0}}},ng=ce((a,t)=>{const e=Mt("ButtonGroupSection",Gv,a),{className:i,style:s,classNames:l,styles:u,unstyled:h,vars:d,variant:g,gradient:m,radius:v,autoContrast:y,...S}=Mt("ButtonGroupSection",Gv,a),x=Se({name:"ButtonGroupSection",props:e,classes:Ya,className:i,style:s,classNames:l,styles:u,unstyled:h,vars:d,varsResolver:j2,rootSelector:"groupSection"});return F.jsx(Ct,{...x("groupSection"),ref:t,variant:g,...S})});ng.classes=Ya;ng.displayName="@mantine/core/ButtonGroupSection";const k2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${I(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},L2={},z2=(a,{radius:t,color:e,gradient:i,variant:s,size:l,justify:u,autoContrast:h})=>{const d=a.variantColorResolver({color:e||a.primaryColor,theme:a,gradient:i,variant:s||"filled",autoContrast:h});return{root:{"--button-justify":u,"--button-height":Je(l,"button-height"),"--button-padding-x":Je(l,"button-padding-x"),"--button-fz":l!=null&&l.includes("compact")?gn(l.replace("compact-","")):gn(l),"--button-radius":t===void 0?void 0:yo(t),"--button-bg":e||s?d.background:void 0,"--button-hover":e||s?d.hover:void 0,"--button-color":d.color,"--button-bd":e||s?d.border:void 0,"--button-hover-color":e||s?d.hoverColor:void 0}}},li=jr((a,t)=>{const e=Mt("Button",L2,a),{style:i,vars:s,className:l,color:u,disabled:h,children:d,leftSection:g,rightSection:m,fullWidth:v,variant:y,radius:S,loading:x,loaderProps:_,gradient:w,classNames:T,styles:j,unstyled:M,"data-disabled":H,autoContrast:N,mod:V,...K}=e,W=Se({name:"Button",props:e,classes:Ya,className:l,style:i,classNames:T,styles:j,unstyled:M,vars:s,varsResolver:z2}),nt=!!g,lt=!!m;return F.jsxs(Ic,{ref:t,...W("root",{active:!h&&!x&&!H}),unstyled:M,variant:y,disabled:h||x,mod:[{disabled:h||H,loading:x,block:v,"with-left-section":nt,"with-right-section":lt},V],...K,children:[F.jsx(qd,{mounted:!!x,transition:k2,duration:150,children:vt=>F.jsx(Ct,{component:"span",...W("loader",{style:vt}),"aria-hidden":!0,children:F.jsx(Qc,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",..._})})}),F.jsxs("span",{...W("inner"),children:[g&&F.jsx(Ct,{component:"span",...W("section"),mod:{position:"left"},children:g}),F.jsx(Ct,{component:"span",mod:{loading:x},...W("label"),children:d}),m&&F.jsx(Ct,{component:"span",...W("section"),mod:{position:"right"},children:m})]})]})});li.classes=Ya;li.displayName="@mantine/core/Button";li.Group=eg;li.GroupSection=ng;const B2={multiple:!1},Db=E.forwardRef((a,t)=>{const{onChange:e,children:i,multiple:s,accept:l,name:u,form:h,resetRef:d,disabled:g,capture:m,inputProps:v,...y}=Mt("FileButton",B2,a),S=E.useRef(null),x=()=>{var T;!g&&((T=S.current)==null||T.click())},_=T=>{e(s?Array.from(T.currentTarget.files):T.currentTarget.files[0]||null)};return gd(d,()=>{S.current&&(S.current.value="")}),F.jsxs(F.Fragment,{children:[i({onClick:x,...y}),F.jsx("input",{style:{display:"none"},type:"file",accept:l,multiple:s,onChange:_,ref:Ud(t,S),name:u,form:h,capture:m,...v})]})});Db.displayName="@mantine/core/FileButton";const N2=({value:a})=>F.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(a)?a.map(t=>t.name).join(", "):a==null?void 0:a.name}),H2={valueComponent:N2},ig=ce((a,t)=>{const e=Mt("FileInput",H2,a),{unstyled:i,vars:s,onChange:l,value:u,defaultValue:h,multiple:d,accept:g,name:m,form:v,valueComponent:y,clearable:S,clearButtonProps:x,readOnly:_,capture:w,fileInputProps:T,rightSection:j,size:M,placeholder:H,component:N,resetRef:V,classNames:K,styles:W,...nt}=e,lt=E.useRef(null),{resolvedClassNames:vt,resolvedStyles:ht}=hb({classNames:K,styles:W,props:e}),[ot,ut]=rb({value:u,defaultValue:h,onChange:l,finalValue:d?[]:null}),yt=Array.isArray(ot)?ot.length!==0:ot!==null,P=j||(S&&yt&&!_?F.jsx(Zc,{...x,variant:"subtle",onClick:()=>ut(d?[]:null),size:M,unstyled:i}):null);E.useEffect(()=>{var et;(Array.isArray(ot)&&ot.length===0||ot===null)&&((et=lt.current)==null||et.call(lt))},[ot]);const J=y;return F.jsx(Db,{onChange:ut,multiple:d,accept:g,name:m,form:v,resetRef:Ud(lt,V),disabled:_,capture:w,inputProps:T,children:et=>F.jsx(nu,{component:N||"button",ref:t,rightSection:P,...et,...nt,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:e,unstyled:i,size:M,classNames:K,styles:W,children:yt?F.jsx(J,{value:ot}):F.jsx(tn.Placeholder,{__staticSelector:"FileInput",classNames:vt,styles:ht,children:H})})})});ig.classes=nu.classes;ig.displayName="@mantine/core/FileInput";const U2=ig,[Y2,ru]=nb("SliderProvider was not found in tree"),Mb=E.forwardRef(({size:a,disabled:t,variant:e,color:i,thumbSize:s,radius:l,...u},h)=>{const{getStyles:d}=ru();return F.jsx(Ct,{tabIndex:-1,variant:e,size:a,ref:h,...d("root"),...u})});Mb.displayName="@mantine/core/SliderRoot";const Ab=E.forwardRef(({max:a,min:t,value:e,position:i,label:s,dragging:l,onMouseDown:u,onKeyDownCapture:h,labelTransitionProps:d,labelAlwaysOn:g,thumbLabel:m,onFocus:v,onBlur:y,showLabelOnHover:S,isHovered:x,children:_=null,disabled:w},T)=>{const{getStyles:j}=ru(),[M,H]=E.useState(!1),N=g||l||M||S&&x;return F.jsxs(Ct,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":a,"aria-valuemin":t,"aria-valuenow":e,ref:T,__vars:{"--slider-thumb-offset":`${i}%`},...j("thumb",{focusable:!0}),mod:{dragging:l,disabled:w},onFocus:V=>{H(!0),typeof v=="function"&&v(V)},onBlur:V=>{H(!1),typeof y=="function"&&y(V)},onTouchStart:u,onMouseDown:u,onKeyDownCapture:h,onClick:V=>V.stopPropagation(),children:[_,F.jsx(qd,{mounted:s!=null&&!!N,transition:"fade",duration:0,...d,children:V=>F.jsx("div",{...j("label",{style:V}),children:s})})]})});Ab.displayName="@mantine/core/SliderThumb";function Rb({value:a,min:t,max:e}){const i=(a-t)/(e-t)*100;return Math.min(Math.max(i,0),100)}function X2({mark:a,offset:t,value:e,inverted:i=!1}){return i?typeof t=="number"&&a.value<=t||a.value>=e:typeof t=="number"?a.value>=t&&a.value<=e:a.value<=e}function jb({marks:a,min:t,max:e,disabled:i,value:s,offset:l,inverted:u}){const{getStyles:h}=ru();if(!a)return null;const d=a.map((g,m)=>E.createElement(Ct,{...h("markWrapper"),__vars:{"--mark-offset":`${Rb({value:g.value,min:t,max:e})}%`},key:m},F.jsx(Ct,{...h("mark"),mod:{filled:X2({mark:g,value:s,offset:l,inverted:u}),disabled:i}}),g.label&&F.jsx("div",{...h("markLabel"),children:g.label})));return F.jsx("div",{children:d})}jb.displayName="@mantine/core/SliderMarks";function kb({filled:a,children:t,offset:e,disabled:i,marksOffset:s,inverted:l,containerProps:u,...h}){const{getStyles:d}=ru();return F.jsx(Ct,{...d("trackContainer"),mod:{disabled:i},...u,children:F.jsxs(Ct,{...d("track"),mod:{inverted:l,disabled:i},children:[F.jsx(Ct,{mod:{inverted:l,disabled:i},__vars:{"--slider-bar-width":`calc(${a}% + var(--slider-size))`,"--slider-bar-offset":`calc(${e}% - var(--slider-size))`},...d("bar")}),t,F.jsx(jb,{...h,offset:s,disabled:i,inverted:l})]})})}kb.displayName="@mantine/core/SliderTrack";function P2({value:a,containerWidth:t,min:e,max:i,step:s,precision:l}){const h=(t?Math.min(Math.max(a,0),t)/t:a)*(i-e),d=(h!==0?Math.round(h/s)*s:0)+e,g=Math.max(d,e);return l!==void 0?Number(g.toFixed(l)):g}function Wl(a,t){return parseFloat(a.toFixed(t))}function F2(a){if(!a)return 0;const t=a.toString().split(".");return t.length>1?t[1].length:0}function qf(a,t){const i=[...t].sort((s,l)=>s.value-l.value).find(s=>s.value>a);return i?i.value:a}function $f(a,t){const i=[...t].sort((s,l)=>l.value-s.value).find(s=>s.value<a);return i?i.value:a}function qv(a){const t=[...a].sort((e,i)=>e.value-i.value);return t.length>0?t[0].value:0}function $v(a){const t=[...a].sort((e,i)=>e.value-i.value);return t.length>0?t[t.length-1].value:100}var Lb={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const V2={radius:"xl",min:0,max:100,step:1,marks:[],label:a=>a,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:a=>a},G2=(a,{size:t,color:e,thumbSize:i,radius:s})=>({root:{"--slider-size":Je(t,"slider-size"),"--slider-color":e?co(e,a):void 0,"--slider-radius":s===void 0?void 0:yo(s),"--slider-thumb-size":i!==void 0?I(i):"calc(var(--slider-size) * 2)"}}),rg=ce((a,t)=>{const e=Mt("Slider",V2,a),{classNames:i,styles:s,value:l,onChange:u,onChangeEnd:h,size:d,min:g,max:m,step:v,precision:y,defaultValue:S,name:x,marks:_,label:w,labelTransitionProps:T,labelAlwaysOn:j,thumbLabel:M,showLabelOnHover:H,thumbChildren:N,disabled:V,unstyled:K,scale:W,inverted:nt,className:lt,style:vt,vars:ht,hiddenInputProps:ot,restrictToMarks:ut,thumbProps:yt,...P}=e,J=Se({name:"Slider",props:e,classes:Lb,classNames:i,className:lt,styles:s,style:vt,vars:ht,varsResolver:G2,unstyled:K}),{dir:et}=Bw(),[pt,D]=E.useState(!1),[G,tt]=rb({value:typeof l=="number"?io(l,g,m):l,defaultValue:typeof S=="number"?io(S,g,m):S,finalValue:io(0,g,m),onChange:u}),Z=E.useRef(G),it=E.useRef(h);E.useEffect(()=>{it.current=h},[h]);const gt=E.useRef(null),at=E.useRef(null),jt=Rb({value:G,min:g,max:m}),Ot=W(G),ue=typeof w=="function"?w(Ot):w,Zt=y??F2(v),wi=E.useCallback(({x:Lt})=>{if(!V){const en=P2({value:Lt,min:g,max:m,step:v,precision:Zt});tt(ut&&(_!=null&&_.length)?Mv(en,_.map(Fn=>Fn.value)):en),Z.current=en}},[V,g,m,v,Zt,tt,_,ut]),ir=E.useCallback(()=>{if(!V&&it.current){const Lt=ut&&(_!=null&&_.length)?Mv(Z.current,_.map(en=>en.value)):Z.current;it.current(Lt)}},[V,_,ut]),{ref:rr,active:ar}=xC(wi,{onScrubEnd:ir},et),xe=E.useCallback(Lt=>{!V&&it.current&&it.current(Lt)},[V]),Ia=Lt=>{var en,Fn,Br,sr,Mo,Qa;if(!V)switch(Lt.key){case"ArrowUp":{if(Lt.preventDefault(),(en=at.current)==null||en.focus(),ut&&_){const Xe=qf(G,_);tt(Xe),xe(Xe);break}const Ye=Wl(Math.min(Math.max(G+v,g),m),Zt);tt(Ye),xe(Ye);break}case"ArrowRight":{if(Lt.preventDefault(),(Fn=at.current)==null||Fn.focus(),ut&&_){const Xe=et==="rtl"?$f(G,_):qf(G,_);tt(Xe),xe(Xe);break}const Ye=Wl(Math.min(Math.max(et==="rtl"?G-v:G+v,g),m),Zt);tt(Ye),xe(Ye);break}case"ArrowDown":{if(Lt.preventDefault(),(Br=at.current)==null||Br.focus(),ut&&_){const Xe=$f(G,_);tt(Xe),xe(Xe);break}const Ye=Wl(Math.min(Math.max(G-v,g),m),Zt);tt(Ye),xe(Ye);break}case"ArrowLeft":{if(Lt.preventDefault(),(sr=at.current)==null||sr.focus(),ut&&_){const Xe=et==="rtl"?qf(G,_):$f(G,_);tt(Xe),xe(Xe);break}const Ye=Wl(Math.min(Math.max(et==="rtl"?G+v:G-v,g),m),Zt);tt(Ye),xe(Ye);break}case"Home":{if(Lt.preventDefault(),(Mo=at.current)==null||Mo.focus(),ut&&_){tt(qv(_)),xe(qv(_));break}tt(g),xe(g);break}case"End":{if(Lt.preventDefault(),(Qa=at.current)==null||Qa.focus(),ut&&_){tt($v(_)),xe($v(_));break}tt(m),xe(m);break}}};return F.jsx(Y2,{value:{getStyles:J},children:F.jsxs(Mb,{...P,ref:Ud(t,gt),onKeyDownCapture:Ia,onMouseDownCapture:()=>{var Lt;return(Lt=gt.current)==null?void 0:Lt.focus()},size:d,disabled:V,children:[F.jsx(kb,{inverted:nt,offset:0,filled:jt,marks:_,min:g,max:m,value:Ot,disabled:V,containerProps:{ref:rr,onMouseEnter:H?()=>D(!0):void 0,onMouseLeave:H?()=>D(!1):void 0},children:F.jsx(Ab,{max:m,min:g,value:Ot,position:jt,dragging:ar,label:ue,ref:at,labelTransitionProps:T,labelAlwaysOn:j,thumbLabel:M,showLabelOnHover:H,isHovered:pt,disabled:V,...yt,children:N})}),F.jsx("input",{type:"hidden",name:x,value:Ot,...ot})]})})});rg.classes=Lb;rg.displayName="@mantine/core/Slider";var zb={root:"m_6d731127"};const q2={gap:"md",align:"stretch",justify:"flex-start"},$2=(a,{gap:t,align:e,justify:i})=>({root:{"--stack-gap":qc(t),"--stack-align":e,"--stack-justify":i}}),au=ce((a,t)=>{const e=Mt("Stack",q2,a),{classNames:i,className:s,style:l,styles:u,unstyled:h,vars:d,align:g,justify:m,gap:v,variant:y,...S}=e,x=Se({name:"Stack",props:e,classes:zb,className:s,style:l,classNames:i,styles:u,unstyled:h,vars:d,varsResolver:$2});return F.jsx(Ct,{ref:t,...x("root"),variant:y,...S})});au.classes=zb;au.displayName="@mantine/core/Stack";var Wf={exports:{}},Ks={},If={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function W2(){return Wv||(Wv=1,function(a){function t(P,J){var et=P.length;P.push(J);t:for(;0<et;){var pt=et-1>>>1,D=P[pt];if(0<s(D,J))P[pt]=J,P[et]=D,et=pt;else break t}}function e(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var J=P[0],et=P.pop();if(et!==J){P[0]=et;t:for(var pt=0,D=P.length,G=D>>>1;pt<G;){var tt=2*(pt+1)-1,Z=P[tt],it=tt+1,gt=P[it];if(0>s(Z,et))it<D&&0>s(gt,Z)?(P[pt]=gt,P[it]=et,pt=it):(P[pt]=Z,P[tt]=et,pt=tt);else if(it<D&&0>s(gt,et))P[pt]=gt,P[it]=et,pt=it;else break t}}return J}function s(P,J){var et=P.sortIndex-J.sortIndex;return et!==0?et:P.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var d=[],g=[],m=1,v=null,y=3,S=!1,x=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function H(P){for(var J=e(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=P)i(g),J.sortIndex=J.expirationTime,t(d,J);else break;J=e(g)}}function N(P){if(_=!1,H(P),!x)if(e(d)!==null)x=!0,V||(V=!0,ht());else{var J=e(g);J!==null&&yt(N,J.startTime-P)}}var V=!1,K=-1,W=5,nt=-1;function lt(){return w?!0:!(a.unstable_now()-nt<W)}function vt(){if(w=!1,V){var P=a.unstable_now();nt=P;var J=!0;try{t:{x=!1,_&&(_=!1,j(K),K=-1),S=!0;var et=y;try{e:{for(H(P),v=e(d);v!==null&&!(v.expirationTime>P&&lt());){var pt=v.callback;if(typeof pt=="function"){v.callback=null,y=v.priorityLevel;var D=pt(v.expirationTime<=P);if(P=a.unstable_now(),typeof D=="function"){v.callback=D,H(P),J=!0;break e}v===e(d)&&i(d),H(P)}else i(d);v=e(d)}if(v!==null)J=!0;else{var G=e(g);G!==null&&yt(N,G.startTime-P),J=!1}}break t}finally{v=null,y=et,S=!1}J=void 0}}finally{J?ht():V=!1}}}var ht;if(typeof M=="function")ht=function(){M(vt)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,ut=ot.port2;ot.port1.onmessage=vt,ht=function(){ut.postMessage(null)}}else ht=function(){T(vt,0)};function yt(P,J){K=T(function(){P(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_next=function(P){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var et=y;y=J;try{return P()}finally{y=et}},a.unstable_requestPaint=function(){w=!0},a.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var et=y;y=P;try{return J()}finally{y=et}},a.unstable_scheduleCallback=function(P,J,et){var pt=a.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?pt+et:pt):et=pt,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=et+D,P={id:m++,callback:J,priorityLevel:P,startTime:et,expirationTime:D,sortIndex:-1},et>pt?(P.sortIndex=et,t(g,P),e(d)===null&&P===e(g)&&(_?(j(K),K=-1):_=!0,yt(N,et-pt))):(P.sortIndex=D,t(d,P),x||S||(x=!0,V||(V=!0,ht()))),P},a.unstable_shouldYield=lt,a.unstable_wrapCallback=function(P){var J=y;return function(){var et=y;y=J;try{return P.apply(this,arguments)}finally{y=et}}}}(Qf)),Qf}var Iv;function I2(){return Iv||(Iv=1,If.exports=W2()),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Q2(){if(Qv)return Ks;Qv=1;var a=I2(),t=Ld(),e=vb();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(i(188))}function d(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),n;if(p===c)return h(f),r;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,C=f.child;C;){if(C===o){b=!0,o=f,c=p;break}if(C===c){b=!0,c=f,o=p;break}C=C.sibling}if(!b){for(C=p.child;C;){if(C===o){b=!0,o=p,c=f;break}if(C===c){b=!0,c=p,o=f;break}C=C.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function ht(n){return n===null||typeof n!="object"?null:(n=vt&&n[vt]||n["@@iterator"],typeof n=="function"?n:null)}var ot=Symbol.for("react.client.reference");function ut(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ot?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case w:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case V:return"SuspenseList";case nt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case M:return(n.displayName||"Context")+".Provider";case j:return(n._context.displayName||"Context")+".Consumer";case H:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return r=n.displayName||null,r!==null?r:ut(n.type)||"Memo";case W:r=n._payload,n=n._init;try{return ut(n(r))}catch{}}return null}var yt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},pt=[],D=-1;function G(n){return{current:n}}function tt(n){0>D||(n.current=pt[D],pt[D]=null,D--)}function Z(n,r){D++,pt[D]=n.current,n.current=r}var it=G(null),gt=G(null),at=G(null),jt=G(null);function Ot(n,r){switch(Z(at,r),Z(gt,n),Z(it,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?$0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=$0(r),n=W0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(it),Z(it,n)}function ue(){tt(it),tt(gt),tt(at)}function Zt(n){n.memoizedState!==null&&Z(jt,n);var r=it.current,o=W0(r,n.type);r!==o&&(Z(gt,n),Z(it,o))}function wi(n){gt.current===n&&(tt(it),tt(gt)),jt.current===n&&(tt(jt),Fs._currentValue=et)}var ir=Object.prototype.hasOwnProperty,rr=a.unstable_scheduleCallback,ar=a.unstable_cancelCallback,xe=a.unstable_shouldYield,Ia=a.unstable_requestPaint,Lt=a.unstable_now,en=a.unstable_getCurrentPriorityLevel,Fn=a.unstable_ImmediatePriority,Br=a.unstable_UserBlockingPriority,sr=a.unstable_NormalPriority,Mo=a.unstable_LowPriority,Qa=a.unstable_IdlePriority,Ye=a.log,Xe=a.unstable_setDisableYieldValue,Za=null,Pe=null;function Ti(n){if(typeof Ye=="function"&&Xe(n),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Za,n)}catch{}}var Fe=Math.clz32?Math.clz32:a1,i1=Math.log,r1=Math.LN2;function a1(n){return n>>>=0,n===0?32:31-(i1(n)/r1|0)|0}var Ao=256,Ro=4194304;function or(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jo(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var C=c&134217727;return C!==0?(c=C&~p,c!==0?f=or(c):(b&=C,b!==0?f=or(b):o||(o=C&~n,o!==0&&(f=or(o))))):(C=c&~p,C!==0?f=or(C):b!==0?f=or(b):o||(o=c&~n,o!==0&&(f=or(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Ka(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function s1(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ag(){var n=Ao;return Ao<<=1,(Ao&4194048)===0&&(Ao=256),n}function Rg(){var n=Ro;return Ro<<=1,(Ro&62914560)===0&&(Ro=4194304),n}function yu(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Ja(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function o1(n,r,o,c,f,p){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var C=n.entanglements,O=n.expirationTimes,B=n.hiddenUpdates;for(o=b&~o;0<o;){var q=31-Fe(o),Q=1<<q;C[q]=0,O[q]=-1;var U=B[q];if(U!==null)for(B[q]=null,q=0;q<U.length;q++){var Y=U[q];Y!==null&&(Y.lane&=-536870913)}o&=~Q}c!==0&&jg(n,c,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~r))}function jg(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-Fe(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function kg(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Fe(o),f=1<<c;f&r|n[c]&r&&(n[c]|=r),o&=~f}}function bu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Su(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lg(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:dv(n.type))}function l1(n,r){var o=J.p;try{return J.p=n,r()}finally{J.p=o}}var Oi=Math.random().toString(36).slice(2),_e="__reactFiber$"+Oi,Ae="__reactProps$"+Oi,Nr="__reactContainer$"+Oi,xu="__reactEvents$"+Oi,c1="__reactListeners$"+Oi,u1="__reactHandles$"+Oi,zg="__reactResources$"+Oi,ts="__reactMarker$"+Oi;function _u(n){delete n[_e],delete n[Ae],delete n[xu],delete n[c1],delete n[u1]}function Hr(n){var r=n[_e];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Nr]||o[_e]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=K0(n);n!==null;){if(o=n[_e])return o;n=K0(n)}return r}n=o,o=n.parentNode}return null}function Ur(n){if(n=n[_e]||n[Nr]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function es(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Yr(n){var r=n[zg];return r||(r=n[zg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function he(n){n[ts]=!0}var Bg=new Set,Ng={};function lr(n,r){Xr(n,r),Xr(n+"Capture",r)}function Xr(n,r){for(Ng[n]=r,n=0;n<r.length;n++)Bg.add(r[n])}var h1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hg={},Ug={};function f1(n){return ir.call(Ug,n)?!0:ir.call(Hg,n)?!1:h1.test(n)?Ug[n]=!0:(Hg[n]=!0,!1)}function ko(n,r,o){if(f1(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Lo(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Vn(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var Cu,Yg;function Pr(n){if(Cu===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Cu=r&&r[1]||"",Yg=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cu+n+Yg}var wu=!1;function Tu(n,r){if(!n||wu)return"";wu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(Y){var U=Y}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(Y){U=Y}n.call(Q.prototype)}}else{try{throw Error()}catch(Y){U=Y}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(Y){if(Y&&U&&typeof Y.stack=="string")return[Y.stack,U.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],C=p[1];if(b&&C){var O=b.split(`
`),B=C.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===B.length)for(c=O.length-1,f=B.length-1;1<=c&&0<=f&&O[c]!==B[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==B[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==B[f]){var q=`
`+O[c].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=c&&0<=f);break}}}finally{wu=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Pr(o):""}function d1(n){switch(n.tag){case 26:case 27:case 5:return Pr(n.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return Tu(n.type,!1);case 11:return Tu(n.type.render,!1);case 1:return Tu(n.type,!0);case 31:return Pr("Activity");default:return""}}function Xg(n){try{var r="";do r+=d1(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pg(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function g1(n){var r=Pg(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,p.call(this,b)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function zo(n){n._valueTracker||(n._valueTracker=g1(n))}function Fg(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Pg(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function Bo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var p1=/[\n"\\]/g;function rn(n){return n.replace(p1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ou(n,r,o,c,f,p,b,C){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),r!=null?b==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),r!=null?Eu(n,b,nn(r)):o!=null?Eu(n,b,nn(o)):c!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+nn(C):n.removeAttribute("name")}function Vg(n,r,o,c,f,p,b,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+nn(o):"",r=r!=null?""+nn(r):o,C||r===n.value||(n.value=r),n.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=C?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Eu(n,r,o){r==="number"&&Bo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fr(n,r,o,c){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+nn(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Gg(n,r,o){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+nn(o):""}function qg(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(yt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=nn(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Vr(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var m1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $g(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||m1.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Wg(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&$g(n,f,c)}else for(var p in r)r.hasOwnProperty(p)&&$g(n,p,r[p])}function Du(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(n){return y1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mu=null;function Au(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gr=null,qr=null;function Ig(n){var r=Ur(n);if(r&&(n=r.stateNode)){var o=n[Ae]||null;t:switch(n=r.stateNode,r.type){case"input":if(Ou(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var f=c[Ae]||null;if(!f)throw Error(i(90));Ou(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&Fg(c)}break t;case"textarea":Gg(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fr(n,!!o.multiple,r,!1)}}}var Ru=!1;function Qg(n,r,o){if(Ru)return n(r,o);Ru=!0;try{var c=n(r);return c}finally{if(Ru=!1,(Gr!==null||qr!==null)&&(_l(),Gr&&(r=Gr,n=qr,qr=Gr=null,Ig(r),n)))for(r=0;r<n.length;r++)Ig(n[r])}}function ns(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Ae]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=!1;if(Gn)try{var is={};Object.defineProperty(is,"passive",{get:function(){ju=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{ju=!1}var Ei=null,ku=null,Ho=null;function Zg(){if(Ho)return Ho;var n,r=ku,o=r.length,c,f="value"in Ei?Ei.value:Ei.textContent,p=f.length;for(n=0;n<o&&r[n]===f[n];n++);var b=o-n;for(c=1;c<=b&&r[o-c]===f[p-c];c++);return Ho=f.slice(n,1<c?1-c:void 0)}function Uo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Yo(){return!0}function Kg(){return!1}function Re(n){function r(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(o=n[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Yo:Kg,this.isPropagationStopped=Kg,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),r}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Re(cr),rs=m({},cr,{view:0,detail:0}),b1=Re(rs),Lu,zu,as,Po=m({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==as&&(as&&n.type==="mousemove"?(Lu=n.screenX-as.screenX,zu=n.screenY-as.screenY):zu=Lu=0,as=n),Lu)},movementY:function(n){return"movementY"in n?n.movementY:zu}}),Jg=Re(Po),S1=m({},Po,{dataTransfer:0}),x1=Re(S1),_1=m({},rs,{relatedTarget:0}),Bu=Re(_1),C1=m({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),w1=Re(C1),T1=m({},cr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),O1=Re(T1),E1=m({},cr,{data:0}),tp=Re(E1),D1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R1(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=A1[n])?!!r[n]:!1}function Nu(){return R1}var j1=m({},rs,{key:function(n){if(n.key){var r=D1[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Uo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(n){return n.type==="keypress"?Uo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),k1=Re(j1),L1=m({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=Re(L1),z1=m({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),B1=Re(z1),N1=m({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),H1=Re(N1),U1=m({},Po,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y1=Re(U1),X1=m({},cr,{newState:0,oldState:0}),P1=Re(X1),F1=[9,13,27,32],Hu=Gn&&"CompositionEvent"in window,ss=null;Gn&&"documentMode"in document&&(ss=document.documentMode);var V1=Gn&&"TextEvent"in window&&!ss,np=Gn&&(!Hu||ss&&8<ss&&11>=ss),ip=" ",rp=!1;function ap(n,r){switch(n){case"keyup":return F1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $r=!1;function G1(n,r){switch(n){case"compositionend":return sp(r);case"keypress":return r.which!==32?null:(rp=!0,ip);case"textInput":return n=r.data,n===ip&&rp?null:n;default:return null}}function q1(n,r){if($r)return n==="compositionend"||!Hu&&ap(n,r)?(n=Zg(),Ho=ku=Ei=null,$r=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return np&&r.locale!=="ko"?null:r.data;default:return null}}var $1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!$1[n.type]:r==="textarea"}function lp(n,r,o,c){Gr?qr?qr.push(c):qr=[c]:Gr=c,r=Dl(r,"onChange"),0<r.length&&(o=new Xo("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var os=null,ls=null;function W1(n){P0(n,0)}function Fo(n){var r=es(n);if(Fg(r))return n}function cp(n,r){if(n==="change")return r}var up=!1;if(Gn){var Uu;if(Gn){var Yu="oninput"in document;if(!Yu){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),Yu=typeof hp.oninput=="function"}Uu=Yu}else Uu=!1;up=Uu&&(!document.documentMode||9<document.documentMode)}function fp(){os&&(os.detachEvent("onpropertychange",dp),ls=os=null)}function dp(n){if(n.propertyName==="value"&&Fo(ls)){var r=[];lp(r,ls,n,Au(n)),Qg(W1,r)}}function I1(n,r,o){n==="focusin"?(fp(),os=r,ls=o,os.attachEvent("onpropertychange",dp)):n==="focusout"&&fp()}function Q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fo(ls)}function Z1(n,r){if(n==="click")return Fo(r)}function K1(n,r){if(n==="input"||n==="change")return Fo(r)}function J1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ve=typeof Object.is=="function"?Object.is:J1;function cs(n,r){if(Ve(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!ir.call(r,f)||!Ve(n[f],r[f]))return!1}return!0}function gp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pp(n,r){var o=gp(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=gp(o)}}function mp(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?mp(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function vp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Bo(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Bo(n.document)}return r}function Xu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var tx=Gn&&"documentMode"in document&&11>=document.documentMode,Wr=null,Pu=null,us=null,Fu=!1;function yp(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fu||Wr==null||Wr!==Bo(c)||(c=Wr,"selectionStart"in c&&Xu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),us&&cs(us,c)||(us=c,c=Dl(Pu,"onSelect"),0<c.length&&(r=new Xo("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Wr)))}function ur(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ir={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Vu={},bp={};Gn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function hr(n){if(Vu[n])return Vu[n];if(!Ir[n])return n;var r=Ir[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in bp)return Vu[n]=r[o];return n}var Sp=hr("animationend"),xp=hr("animationiteration"),_p=hr("animationstart"),ex=hr("transitionrun"),nx=hr("transitionstart"),ix=hr("transitioncancel"),Cp=hr("transitionend"),wp=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function yn(n,r){wp.set(n,r),lr(r,[n])}var Tp=new WeakMap;function an(n,r){if(typeof n=="object"&&n!==null){var o=Tp.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Xg(r)},Tp.set(n,r),r)}return{value:n,source:r,stack:Xg(r)}}var sn=[],Qr=0,qu=0;function Vo(){for(var n=Qr,r=qu=Qr=0;r<n;){var o=sn[r];sn[r++]=null;var c=sn[r];sn[r++]=null;var f=sn[r];sn[r++]=null;var p=sn[r];if(sn[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Op(o,f,p)}}function Go(n,r,o,c){sn[Qr++]=n,sn[Qr++]=r,sn[Qr++]=o,sn[Qr++]=c,qu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function $u(n,r,o,c){return Go(n,r,o,c),qo(n)}function Zr(n,r){return Go(n,null,null,r),qo(n)}function Op(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-Fe(o),n=p.hiddenUpdates,c=n[f],c===null?n[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function qo(n){if(50<zs)throw zs=0,Jh=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Kr={};function rx(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(n,r,o,c){return new rx(n,r,o,c)}function Wu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qn(n,r){var o=n.alternate;return o===null?(o=Ge(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ep(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function $o(n,r,o,c,f,p){var b=0;if(c=n,typeof n=="function")Wu(n)&&(b=1);else if(typeof n=="string")b=s_(n,o,it.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case nt:return n=Ge(31,o,r,f),n.elementType=nt,n.lanes=p,n;case x:return fr(o.children,f,p,r);case _:b=8,f|=24;break;case w:return n=Ge(12,o,r,f|2),n.elementType=w,n.lanes=p,n;case N:return n=Ge(13,o,r,f),n.elementType=N,n.lanes=p,n;case V:return n=Ge(19,o,r,f),n.elementType=V,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case M:b=10;break t;case j:b=9;break t;case H:b=11;break t;case K:b=14;break t;case W:b=16,c=null;break t}b=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return r=Ge(b,o,r,f),r.elementType=n,r.type=c,r.lanes=p,r}function fr(n,r,o,c){return n=Ge(7,n,c,r),n.lanes=o,n}function Iu(n,r,o){return n=Ge(6,n,null,r),n.lanes=o,n}function Qu(n,r,o){return r=Ge(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Jr=[],ta=0,Wo=null,Io=0,on=[],ln=0,dr=null,$n=1,Wn="";function gr(n,r){Jr[ta++]=Io,Jr[ta++]=Wo,Wo=n,Io=r}function Dp(n,r,o){on[ln++]=$n,on[ln++]=Wn,on[ln++]=dr,dr=n;var c=$n;n=Wn;var f=32-Fe(c)-1;c&=~(1<<f),o+=1;var p=32-Fe(r)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,$n=1<<32-Fe(r)+f|o<<f|c,Wn=p+n}else $n=1<<p|o<<f|c,Wn=n}function Zu(n){n.return!==null&&(gr(n,1),Dp(n,1,0))}function Ku(n){for(;n===Wo;)Wo=Jr[--ta],Jr[ta]=null,Io=Jr[--ta],Jr[ta]=null;for(;n===dr;)dr=on[--ln],on[ln]=null,Wn=on[--ln],on[ln]=null,$n=on[--ln],on[ln]=null}var Oe=null,It=null,At=!1,pr=null,Rn=!1,Ju=Error(i(519));function mr(n){var r=Error(i(418,""));throw ds(an(r,n)),Ju}function Mp(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[_e]=n,r[Ae]=c,o){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(o=0;o<Ns.length;o++)Tt(Ns[o],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":Tt("invalid",r),Vg(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),zo(r);break;case"select":Tt("invalid",r);break;case"textarea":Tt("invalid",r),qg(r,c.value,c.defaultValue,c.children),zo(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||q0(r.textContent,o)?(c.popover!=null&&(Tt("beforetoggle",r),Tt("toggle",r)),c.onScroll!=null&&Tt("scroll",r),c.onScrollEnd!=null&&Tt("scrollend",r),c.onClick!=null&&(r.onclick=Ml),r=!0):r=!1,r||mr(n)}function Ap(n){for(Oe=n.return;Oe;)switch(Oe.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Oe=Oe.return}}function hs(n){if(n!==Oe)return!1;if(!At)return Ap(n),At=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||mf(n.type,n.memoizedProps)),o=!o),o&&It&&mr(n),Ap(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){It=Sn(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}It=null}}else r===27?(r=It,Fi(n.type)?(n=Sf,Sf=null,It=n):It=r):It=Oe?Sn(n.stateNode.nextSibling):null;return!0}function fs(){It=Oe=null,At=!1}function Rp(){var n=pr;return n!==null&&(Le===null?Le=n:Le.push.apply(Le,n),pr=null),n}function ds(n){pr===null?pr=[n]:pr.push(n)}var th=G(null),vr=null,In=null;function Di(n,r,o){Z(th,r._currentValue),r._currentValue=o}function Qn(n){n._currentValue=th.current,tt(th)}function eh(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function nh(n,r,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=f;for(var O=0;O<r.length;O++)if(C.context===r[O]){p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),eh(p.return,o,n),c||(b=null);break t}p=C.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),eh(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function gs(n,r,o,c){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var C=f.type;Ve(f.pendingProps.value,b.value)||(n!==null?n.push(C):n=[C])}}else if(f===jt.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fs):n=[Fs])}f=f.return}n!==null&&nh(r,n,o,c),r.flags|=262144}function Qo(n){for(n=n.firstContext;n!==null;){if(!Ve(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yr(n){vr=n,In=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ce(n){return jp(vr,n)}function Zo(n,r){return vr===null&&yr(n),jp(n,r)}function jp(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},In===null){if(n===null)throw Error(i(308));In=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else In=In.next=r;return o}var ax=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},sx=a.unstable_scheduleCallback,ox=a.unstable_NormalPriority,ae={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new ax,data:new Map,refCount:0}}function ps(n){n.refCount--,n.refCount===0&&sx(ox,function(){n.controller.abort()})}var ms=null,rh=0,ea=0,na=null;function lx(n,r){if(ms===null){var o=ms=[];rh=0,ea=of(),na={status:"pending",value:void 0,then:function(c){o.push(c)}}}return rh++,r.then(kp,kp),r}function kp(){if(--rh===0&&ms!==null){na!==null&&(na.status="fulfilled");var n=ms;ms=null,ea=0,na=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function cx(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Lp=P.S;P.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lx(n,r),Lp!==null&&Lp(n,r)};var br=G(null);function ah(){var n=br.current;return n!==null?n:Pt.pooledCache}function Ko(n,r){r===null?Z(br,br.current):Z(br,r.pool)}function zp(){var n=ah();return n===null?null:{parent:ae._currentValue,pool:n}}var vs=Error(i(460)),Bp=Error(i(474)),Jo=Error(i(542)),sh={then:function(){}};function Np(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tl(){}function Hp(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(tl,tl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yp(n),n;default:if(typeof r.status=="string")r.then(tl,tl);else{if(n=Pt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yp(n),n}throw ys=r,vs}}var ys=null;function Up(){if(ys===null)throw Error(i(459));var n=ys;return ys=null,n}function Yp(n){if(n===vs||n===Jo)throw Error(i(483))}var Mi=!1;function oh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ai(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(zt&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=qo(n),Op(n,null,o),r}return Go(n,c,r,o),qo(n)}function bs(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,kg(n,o)}}function ch(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var uh=!1;function Ss(){if(uh){var n=na;if(n!==null)throw n}}function xs(n,r,o,c){uh=!1;var f=n.updateQueue;Mi=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var O=C,B=O.next;O.next=null,b===null?p=B:b.next=B,b=O;var q=n.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==b&&(C===null?q.firstBaseUpdate=B:C.next=B,q.lastBaseUpdate=O))}if(p!==null){var Q=f.baseState;b=0,q=B=O=null,C=p;do{var U=C.lane&-536870913,Y=U!==C.lane;if(Y?(Et&U)===U:(c&U)===U){U!==0&&U===ea&&(uh=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var mt=n,ft=C;U=r;var Yt=o;switch(ft.tag){case 1:if(mt=ft.payload,typeof mt=="function"){Q=mt.call(Yt,Q,U);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ft.payload,U=typeof mt=="function"?mt.call(Yt,Q,U):mt,U==null)break t;Q=m({},Q,U);break t;case 2:Mi=!0}}U=C.callback,U!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[U]:Y.push(U))}else Y={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(B=q=Y,O=Q):q=q.next=Y,b|=U;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);q===null&&(O=Q),f.baseState=O,f.firstBaseUpdate=B,f.lastBaseUpdate=q,p===null&&(f.shared.lanes=0),Ui|=b,n.lanes=b,n.memoizedState=Q}}function Xp(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function Pp(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Xp(o[n],r)}var ia=G(null),el=G(0);function Fp(n,r){n=ii,Z(el,n),Z(ia,r),ii=n|r.baseLanes}function hh(){Z(el,ii),Z(ia,ia.current)}function fh(){ii=el.current,tt(ia),tt(el)}var ji=0,St=null,Ht=null,ne=null,nl=!1,ra=!1,Sr=!1,il=0,_s=0,aa=null,ux=0;function Kt(){throw Error(i(321))}function dh(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Ve(n[o],r[o]))return!1;return!0}function gh(n,r,o,c,f,p){return ji=p,St=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=n===null||n.memoizedState===null?Om:Em,Sr=!1,p=o(c,f),Sr=!1,ra&&(p=Gp(r,o,c,f)),Vp(n),p}function Vp(n){P.H=cl;var r=Ht!==null&&Ht.next!==null;if(ji=0,ne=Ht=St=null,nl=!1,_s=0,aa=null,r)throw Error(i(300));n===null||fe||(n=n.dependencies,n!==null&&Qo(n)&&(fe=!0))}function Gp(n,r,o,c){St=n;var f=0;do{if(ra&&(aa=null),_s=0,ra=!1,25<=f)throw Error(i(301));if(f+=1,ne=Ht=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=vx,p=r(o,c)}while(ra);return p}function hx(){var n=P.H,r=n.useState()[0];return r=typeof r.then=="function"?Cs(r):r,n=n.useState()[0],(Ht!==null?Ht.memoizedState:null)!==n&&(St.flags|=1024),r}function ph(){var n=il!==0;return il=0,n}function mh(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function vh(n){if(nl){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}nl=!1}ji=0,ne=Ht=St=null,ra=!1,_s=il=0,aa=null}function je(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?St.memoizedState=ne=n:ne=ne.next=n,ne}function ie(){if(Ht===null){var n=St.alternate;n=n!==null?n.memoizedState:null}else n=Ht.next;var r=ne===null?St.memoizedState:ne.next;if(r!==null)ne=r,Ht=n;else{if(n===null)throw St.alternate===null?Error(i(467)):Error(i(310));Ht=n,n={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},ne===null?St.memoizedState=ne=n:ne=ne.next=n}return ne}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cs(n){var r=_s;return _s+=1,aa===null&&(aa=[]),n=Hp(aa,n,r),r=St,(ne===null?r.memoizedState:ne.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?Om:Em),n}function rl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cs(n);if(n.$$typeof===M)return Ce(n)}throw Error(i(438,String(n)))}function bh(n){var r=null,o=St.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=St.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=yh(),St.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=lt;return r.index++,o}function Zn(n,r){return typeof r=="function"?r(n):r}function al(n){var r=ie();return Sh(r,Ht,n)}function Sh(n,r,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=n.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,c.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var C=b=null,O=null,B=r,q=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Et&Q)===Q:(ji&Q)===Q){var U=B.revertLane;if(U===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===ea&&(q=!0);else if((ji&U)===U){B=B.next,U===ea&&(q=!0);continue}else Q={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=Q,b=p):O=O.next=Q,St.lanes|=U,Ui|=U;Q=B.action,Sr&&o(p,Q),p=B.hasEagerState?B.eagerState:o(p,Q)}else U={lane:Q,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=U,b=p):O=O.next=U,St.lanes|=Q,Ui|=Q;B=B.next}while(B!==null&&B!==r);if(O===null?b=p:O.next=C,!Ve(p,n.memoizedState)&&(fe=!0,q&&(o=na,o!==null)))throw o;n.memoizedState=p,n.baseState=b,n.baseQueue=O,c.lastRenderedState=p}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function xh(n){var r=ie(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=n(p,b.action),b=b.next;while(b!==f);Ve(p,r.memoizedState)||(fe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function qp(n,r,o){var c=St,f=ie(),p=At;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!Ve((Ht||f).memoizedState,o);b&&(f.memoizedState=o,fe=!0),f=f.queue;var C=Ip.bind(null,c,f,n);if(ws(2048,8,C,[n]),f.getSnapshot!==r||b||ne!==null&&ne.memoizedState.tag&1){if(c.flags|=2048,sa(9,sl(),Wp.bind(null,c,f,o,r),null),Pt===null)throw Error(i(349));p||(ji&124)!==0||$p(c,r,o)}return o}function $p(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=St.updateQueue,r===null?(r=yh(),St.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Wp(n,r,o,c){r.value=o,r.getSnapshot=c,Qp(r)&&Zp(n)}function Ip(n,r,o){return o(function(){Qp(r)&&Zp(n)})}function Qp(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Ve(n,o)}catch{return!0}}function Zp(n){var r=Zr(n,2);r!==null&&Qe(r,n,2)}function _h(n){var r=je();if(typeof n=="function"){var o=n;if(n=o(),Sr){Ti(!0);try{o()}finally{Ti(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:n},r}function Kp(n,r,o,c){return n.baseState=o,Sh(n,Ht,typeof c=="function"?c:Zn)}function fx(n,r,o,c,f){if(ll(n))throw Error(i(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};P.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,Jp(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Jp(n,r){var o=r.action,c=r.payload,f=n.state;if(r.isTransition){var p=P.T,b={};P.T=b;try{var C=o(f,c),O=P.S;O!==null&&O(b,C),tm(n,r,C)}catch(B){Ch(n,r,B)}finally{P.T=p}}else try{p=o(f,c),tm(n,r,p)}catch(B){Ch(n,r,B)}}function tm(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){em(n,r,c)},function(c){return Ch(n,r,c)}):em(n,r,o)}function em(n,r,o){r.status="fulfilled",r.value=o,nm(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Jp(n,o)))}function Ch(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,nm(r),r=r.next;while(r!==c)}n.action=null}function nm(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function im(n,r){return r}function rm(n,r){if(At){var o=Pt.formState;if(o!==null){t:{var c=St;if(At){if(It){e:{for(var f=It,p=Rn;f.nodeType!==8;){if(!p){f=null;break e}if(f=Sn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){It=Sn(f.nextSibling),c=f.data==="F!";break t}}mr(c)}c=!1}c&&(r=o[0])}}return o=je(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:r},o.queue=c,o=Cm.bind(null,St,c),c.dispatch=o,c=_h(!1),p=Dh.bind(null,St,!1,c.queue),c=je(),f={state:r,dispatch:null,action:n,pending:null},c.queue=f,o=fx.bind(null,St,f,p,o),f.dispatch=o,c.memoizedState=n,[r,o,!1]}function am(n){var r=ie();return sm(r,Ht,n)}function sm(n,r,o){if(r=Sh(n,r,im)[0],n=al(Zn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Cs(r)}catch(b){throw b===vs?Jo:b}else c=r;r=ie();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(St.flags|=2048,sa(9,sl(),dx.bind(null,f,o),null)),[c,p,n]}function dx(n,r){n.action=r}function om(n){var r=ie(),o=Ht;if(o!==null)return sm(r,o,n);ie(),r=r.memoizedState,o=ie();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function sa(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=St.updateQueue,r===null&&(r=yh(),St.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function sl(){return{destroy:void 0,resource:void 0}}function lm(){return ie().memoizedState}function ol(n,r,o,c){var f=je();c=c===void 0?null:c,St.flags|=n,f.memoizedState=sa(1|r,sl(),o,c)}function ws(n,r,o,c){var f=ie();c=c===void 0?null:c;var p=f.memoizedState.inst;Ht!==null&&c!==null&&dh(c,Ht.memoizedState.deps)?f.memoizedState=sa(r,p,o,c):(St.flags|=n,f.memoizedState=sa(1|r,p,o,c))}function cm(n,r){ol(8390656,8,n,r)}function um(n,r){ws(2048,8,n,r)}function hm(n,r){return ws(4,2,n,r)}function fm(n,r){return ws(4,4,n,r)}function dm(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function gm(n,r,o){o=o!=null?o.concat([n]):null,ws(4,4,dm.bind(null,r,n),o)}function wh(){}function pm(n,r){var o=ie();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&dh(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function mm(n,r){var o=ie();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&dh(r,c[1]))return c[0];if(c=n(),Sr){Ti(!0);try{n()}finally{Ti(!1)}}return o.memoizedState=[c,r],c}function Th(n,r,o){return o===void 0||(ji&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=b0(),St.lanes|=n,Ui|=n,o)}function vm(n,r,o,c){return Ve(o,r)?o:ia.current!==null?(n=Th(n,o,c),Ve(n,r)||(fe=!0),n):(ji&42)===0?(fe=!0,n.memoizedState=o):(n=b0(),St.lanes|=n,Ui|=n,r)}function ym(n,r,o,c,f){var p=J.p;J.p=p!==0&&8>p?p:8;var b=P.T,C={};P.T=C,Dh(n,!1,r,o);try{var O=f(),B=P.S;if(B!==null&&B(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=cx(O,c);Ts(n,r,q,Ie(n))}else Ts(n,r,c,Ie(n))}catch(Q){Ts(n,r,{then:function(){},status:"rejected",reason:Q},Ie())}finally{J.p=p,P.T=b}}function gx(){}function Oh(n,r,o,c){if(n.tag!==5)throw Error(i(476));var f=bm(n).queue;ym(n,f,r,et,o===null?gx:function(){return Sm(n),o(c)})}function bm(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:et},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Sm(n){var r=bm(n).next.queue;Ts(n,r,{},Ie())}function Eh(){return Ce(Fs)}function xm(){return ie().memoizedState}function _m(){return ie().memoizedState}function px(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ie();n=Ai(o);var c=Ri(r,n,o);c!==null&&(Qe(c,r,o),bs(c,r,o)),r={cache:ih()},n.payload=r;return}r=r.return}}function mx(n,r,o){var c=Ie();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ll(n)?wm(r,o):(o=$u(n,r,o,c),o!==null&&(Qe(o,n,c),Tm(o,r,c)))}function Cm(n,r,o){var c=Ie();Ts(n,r,o,c)}function Ts(n,r,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ll(n))wm(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,C=p(b,o);if(f.hasEagerState=!0,f.eagerState=C,Ve(C,b))return Go(n,r,f,0),Pt===null&&Vo(),!1}catch{}finally{}if(o=$u(n,r,f,c),o!==null)return Qe(o,n,c),Tm(o,r,c),!0}return!1}function Dh(n,r,o,c){if(c={lane:2,revertLane:of(),action:c,hasEagerState:!1,eagerState:null,next:null},ll(n)){if(r)throw Error(i(479))}else r=$u(n,o,c,2),r!==null&&Qe(r,n,2)}function ll(n){var r=n.alternate;return n===St||r!==null&&r===St}function wm(n,r){ra=nl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Tm(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,kg(n,o)}}var cl={readContext:Ce,use:rl,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},Om={readContext:Ce,use:rl,useCallback:function(n,r){return je().memoizedState=[n,r===void 0?null:r],n},useContext:Ce,useEffect:cm,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,ol(4194308,4,dm.bind(null,r,n),o)},useLayoutEffect:function(n,r){return ol(4194308,4,n,r)},useInsertionEffect:function(n,r){ol(4,2,n,r)},useMemo:function(n,r){var o=je();r=r===void 0?null:r;var c=n();if(Sr){Ti(!0);try{n()}finally{Ti(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=je();if(o!==void 0){var f=o(r);if(Sr){Ti(!0);try{o(r)}finally{Ti(!1)}}}else f=r;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=mx.bind(null,St,n),[c.memoizedState,n]},useRef:function(n){var r=je();return n={current:n},r.memoizedState=n},useState:function(n){n=_h(n);var r=n.queue,o=Cm.bind(null,St,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:wh,useDeferredValue:function(n,r){var o=je();return Th(o,n,r)},useTransition:function(){var n=_h(!1);return n=ym.bind(null,St,n.queue,!0,!1),je().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=St,f=je();if(At){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Pt===null)throw Error(i(349));(Et&124)!==0||$p(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,cm(Ip.bind(null,c,p,n),[n]),c.flags|=2048,sa(9,sl(),Wp.bind(null,c,p,o,r),null),o},useId:function(){var n=je(),r=Pt.identifierPrefix;if(At){var o=Wn,c=$n;o=(c&~(1<<32-Fe(c)-1)).toString(32)+o,r="Â«"+r+"R"+o,o=il++,0<o&&(r+="H"+o.toString(32)),r+="Â»"}else o=ux++,r="Â«"+r+"r"+o.toString(32)+"Â»";return n.memoizedState=r},useHostTransitionStatus:Eh,useFormState:rm,useActionState:rm,useOptimistic:function(n){var r=je();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dh.bind(null,St,!0,o),o.dispatch=r,[n,r]},useMemoCache:bh,useCacheRefresh:function(){return je().memoizedState=px.bind(null,St)}},Em={readContext:Ce,use:rl,useCallback:pm,useContext:Ce,useEffect:um,useImperativeHandle:gm,useInsertionEffect:hm,useLayoutEffect:fm,useMemo:mm,useReducer:al,useRef:lm,useState:function(){return al(Zn)},useDebugValue:wh,useDeferredValue:function(n,r){var o=ie();return vm(o,Ht.memoizedState,n,r)},useTransition:function(){var n=al(Zn)[0],r=ie().memoizedState;return[typeof n=="boolean"?n:Cs(n),r]},useSyncExternalStore:qp,useId:xm,useHostTransitionStatus:Eh,useFormState:am,useActionState:am,useOptimistic:function(n,r){var o=ie();return Kp(o,Ht,n,r)},useMemoCache:bh,useCacheRefresh:_m},vx={readContext:Ce,use:rl,useCallback:pm,useContext:Ce,useEffect:um,useImperativeHandle:gm,useInsertionEffect:hm,useLayoutEffect:fm,useMemo:mm,useReducer:xh,useRef:lm,useState:function(){return xh(Zn)},useDebugValue:wh,useDeferredValue:function(n,r){var o=ie();return Ht===null?Th(o,n,r):vm(o,Ht.memoizedState,n,r)},useTransition:function(){var n=xh(Zn)[0],r=ie().memoizedState;return[typeof n=="boolean"?n:Cs(n),r]},useSyncExternalStore:qp,useId:xm,useHostTransitionStatus:Eh,useFormState:om,useActionState:om,useOptimistic:function(n,r){var o=ie();return Ht!==null?Kp(o,Ht,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:bh,useCacheRefresh:_m},oa=null,Os=0;function ul(n){var r=Os;return Os+=1,oa===null&&(oa=[]),Hp(oa,n,r)}function Es(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function hl(n,r){throw r.$$typeof===v?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Dm(n){var r=n._init;return r(n._payload)}function Mm(n){function r(L,A){if(n){var z=L.deletions;z===null?(L.deletions=[A],L.flags|=16):z.push(A)}}function o(L,A){if(!n)return null;for(;A!==null;)r(L,A),A=A.sibling;return null}function c(L){for(var A=new Map;L!==null;)L.key!==null?A.set(L.key,L):A.set(L.index,L),L=L.sibling;return A}function f(L,A){return L=qn(L,A),L.index=0,L.sibling=null,L}function p(L,A,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<A?(L.flags|=67108866,A):z):(L.flags|=67108866,A)):(L.flags|=1048576,A)}function b(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function C(L,A,z,$){return A===null||A.tag!==6?(A=Iu(z,L.mode,$),A.return=L,A):(A=f(A,z),A.return=L,A)}function O(L,A,z,$){var st=z.type;return st===x?q(L,A,z.props.children,$,z.key):A!==null&&(A.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===W&&Dm(st)===A.type)?(A=f(A,z.props),Es(A,z),A.return=L,A):(A=$o(z.type,z.key,z.props,null,L.mode,$),Es(A,z),A.return=L,A)}function B(L,A,z,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=Qu(z,L.mode,$),A.return=L,A):(A=f(A,z.children||[]),A.return=L,A)}function q(L,A,z,$,st){return A===null||A.tag!==7?(A=fr(z,L.mode,$,st),A.return=L,A):(A=f(A,z),A.return=L,A)}function Q(L,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Iu(""+A,L.mode,z),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case y:return z=$o(A.type,A.key,A.props,null,L.mode,z),Es(z,A),z.return=L,z;case S:return A=Qu(A,L.mode,z),A.return=L,A;case W:var $=A._init;return A=$(A._payload),Q(L,A,z)}if(yt(A)||ht(A))return A=fr(A,L.mode,z,null),A.return=L,A;if(typeof A.then=="function")return Q(L,ul(A),z);if(A.$$typeof===M)return Q(L,Zo(L,A),z);hl(L,A)}return null}function U(L,A,z,$){var st=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:C(L,A,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return z.key===st?O(L,A,z,$):null;case S:return z.key===st?B(L,A,z,$):null;case W:return st=z._init,z=st(z._payload),U(L,A,z,$)}if(yt(z)||ht(z))return st!==null?null:q(L,A,z,$,null);if(typeof z.then=="function")return U(L,A,ul(z),$);if(z.$$typeof===M)return U(L,A,Zo(L,z),$);hl(L,z)}return null}function Y(L,A,z,$,st){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(z)||null,C(A,L,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return L=L.get($.key===null?z:$.key)||null,O(A,L,$,st);case S:return L=L.get($.key===null?z:$.key)||null,B(A,L,$,st);case W:var _t=$._init;return $=_t($._payload),Y(L,A,z,$,st)}if(yt($)||ht($))return L=L.get(z)||null,q(A,L,$,st,null);if(typeof $.then=="function")return Y(L,A,z,ul($),st);if($.$$typeof===M)return Y(L,A,z,Zo(A,$),st);hl(A,$)}return null}function mt(L,A,z,$){for(var st=null,_t=null,ct=A,dt=A=0,ge=null;ct!==null&&dt<z.length;dt++){ct.index>dt?(ge=ct,ct=null):ge=ct.sibling;var Dt=U(L,ct,z[dt],$);if(Dt===null){ct===null&&(ct=ge);break}n&&ct&&Dt.alternate===null&&r(L,ct),A=p(Dt,A,dt),_t===null?st=Dt:_t.sibling=Dt,_t=Dt,ct=ge}if(dt===z.length)return o(L,ct),At&&gr(L,dt),st;if(ct===null){for(;dt<z.length;dt++)ct=Q(L,z[dt],$),ct!==null&&(A=p(ct,A,dt),_t===null?st=ct:_t.sibling=ct,_t=ct);return At&&gr(L,dt),st}for(ct=c(ct);dt<z.length;dt++)ge=Y(ct,L,dt,z[dt],$),ge!==null&&(n&&ge.alternate!==null&&ct.delete(ge.key===null?dt:ge.key),A=p(ge,A,dt),_t===null?st=ge:_t.sibling=ge,_t=ge);return n&&ct.forEach(function(Wi){return r(L,Wi)}),At&&gr(L,dt),st}function ft(L,A,z,$){if(z==null)throw Error(i(151));for(var st=null,_t=null,ct=A,dt=A=0,ge=null,Dt=z.next();ct!==null&&!Dt.done;dt++,Dt=z.next()){ct.index>dt?(ge=ct,ct=null):ge=ct.sibling;var Wi=U(L,ct,Dt.value,$);if(Wi===null){ct===null&&(ct=ge);break}n&&ct&&Wi.alternate===null&&r(L,ct),A=p(Wi,A,dt),_t===null?st=Wi:_t.sibling=Wi,_t=Wi,ct=ge}if(Dt.done)return o(L,ct),At&&gr(L,dt),st;if(ct===null){for(;!Dt.done;dt++,Dt=z.next())Dt=Q(L,Dt.value,$),Dt!==null&&(A=p(Dt,A,dt),_t===null?st=Dt:_t.sibling=Dt,_t=Dt);return At&&gr(L,dt),st}for(ct=c(ct);!Dt.done;dt++,Dt=z.next())Dt=Y(ct,L,dt,Dt.value,$),Dt!==null&&(n&&Dt.alternate!==null&&ct.delete(Dt.key===null?dt:Dt.key),A=p(Dt,A,dt),_t===null?st=Dt:_t.sibling=Dt,_t=Dt);return n&&ct.forEach(function(y_){return r(L,y_)}),At&&gr(L,dt),st}function Yt(L,A,z,$){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case y:t:{for(var st=z.key;A!==null;){if(A.key===st){if(st=z.type,st===x){if(A.tag===7){o(L,A.sibling),$=f(A,z.props.children),$.return=L,L=$;break t}}else if(A.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===W&&Dm(st)===A.type){o(L,A.sibling),$=f(A,z.props),Es($,z),$.return=L,L=$;break t}o(L,A);break}else r(L,A);A=A.sibling}z.type===x?($=fr(z.props.children,L.mode,$,z.key),$.return=L,L=$):($=$o(z.type,z.key,z.props,null,L.mode,$),Es($,z),$.return=L,L=$)}return b(L);case S:t:{for(st=z.key;A!==null;){if(A.key===st)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){o(L,A.sibling),$=f(A,z.children||[]),$.return=L,L=$;break t}else{o(L,A);break}else r(L,A);A=A.sibling}$=Qu(z,L.mode,$),$.return=L,L=$}return b(L);case W:return st=z._init,z=st(z._payload),Yt(L,A,z,$)}if(yt(z))return mt(L,A,z,$);if(ht(z)){if(st=ht(z),typeof st!="function")throw Error(i(150));return z=st.call(z),ft(L,A,z,$)}if(typeof z.then=="function")return Yt(L,A,ul(z),$);if(z.$$typeof===M)return Yt(L,A,Zo(L,z),$);hl(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(o(L,A.sibling),$=f(A,z),$.return=L,L=$):(o(L,A),$=Iu(z,L.mode,$),$.return=L,L=$),b(L)):o(L,A)}return function(L,A,z,$){try{Os=0;var st=Yt(L,A,z,$);return oa=null,st}catch(ct){if(ct===vs||ct===Jo)throw ct;var _t=Ge(29,ct,null,L.mode);return _t.lanes=$,_t.return=L,_t}finally{}}}var la=Mm(!0),Am=Mm(!1),cn=G(null),jn=null;function ki(n){var r=n.alternate;Z(se,se.current&1),Z(cn,n),jn===null&&(r===null||ia.current!==null||r.memoizedState!==null)&&(jn=n)}function Rm(n){if(n.tag===22){if(Z(se,se.current),Z(cn,n),jn===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(jn=n)}}else Li()}function Li(){Z(se,se.current),Z(cn,cn.current)}function Kn(n){tt(cn),jn===n&&(jn=null),tt(se)}var se=G(0);function fl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bf(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Mh(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:m({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ah={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Ie(),f=Ai(c);f.payload=r,o!=null&&(f.callback=o),r=Ri(n,f,c),r!==null&&(Qe(r,n,c),bs(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Ie(),f=Ai(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ri(n,f,c),r!==null&&(Qe(r,n,c),bs(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ie(),c=Ai(o);c.tag=2,r!=null&&(c.callback=r),r=Ri(n,c,o),r!==null&&(Qe(r,n,o),bs(r,n,o))}};function jm(n,r,o,c,f,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!cs(o,c)||!cs(f,p):!0}function km(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Ah.enqueueReplaceState(r,r.state,null)}function xr(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=m({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var dl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Lm(n){dl(n)}function zm(n){console.error(n)}function Bm(n){dl(n)}function gl(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Nm(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rh(n,r,o){return o=Ai(o),o.tag=3,o.payload={element:null},o.callback=function(){gl(n,r)},o}function Hm(n){return n=Ai(n),n.tag=3,n}function Um(n,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;n.payload=function(){return f(p)},n.callback=function(){Nm(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Nm(r,o,c),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function yx(n,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&gs(r,o,f,!0),o=cn.current,o!==null){switch(o.tag){case 13:return jn===null?ef():o.alternate===null&&Qt===0&&(Qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),rf(n,c,f)),!1;case 22:return o.flags|=65536,c===sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),rf(n,c,f)),!1}throw Error(i(435,o.tag))}return rf(n,c,f),ef(),!1}if(At)return r=cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==Ju&&(n=Error(i(422),{cause:c}),ds(an(n,o)))):(c!==Ju&&(r=Error(i(423),{cause:c}),ds(an(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=an(c,o),f=Rh(n.stateNode,c,f),ch(n,f),Qt!==4&&(Qt=2)),!1;var p=Error(i(520),{cause:c});if(p=an(p,o),Ls===null?Ls=[p]:Ls.push(p),Qt!==4&&(Qt=2),r===null)return!0;c=an(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Rh(o.stateNode,c,n),ch(o,n),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Hm(f),Um(f,n,o,c),ch(o,f),!1}o=o.return}while(o!==null);return!1}var Ym=Error(i(461)),fe=!1;function pe(n,r,o,c){r.child=n===null?Am(r,null,o,c):la(r,n.child,o,c)}function Xm(n,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return yr(r),c=gh(n,r,o,b,p,f),C=ph(),n!==null&&!fe?(mh(n,r,f),Jn(n,r,f)):(At&&C&&Zu(r),r.flags|=1,pe(n,r,c,f),r.child)}function Pm(n,r,o,c,f){if(n===null){var p=o.type;return typeof p=="function"&&!Wu(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Fm(n,r,p,c,f)):(n=$o(o.type,null,c,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Uh(n,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:cs,o(b,c)&&n.ref===r.ref)return Jn(n,r,f)}return r.flags|=1,n=qn(p,c),n.ref=r.ref,n.return=r,r.child=n}function Fm(n,r,o,c,f){if(n!==null){var p=n.memoizedProps;if(cs(p,c)&&n.ref===r.ref)if(fe=!1,r.pendingProps=c=p,Uh(n,f))(n.flags&131072)!==0&&(fe=!0);else return r.lanes=n.lanes,Jn(n,r,f)}return jh(n,r,o,c,f)}function Vm(n,r,o){var c=r.pendingProps,f=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return Gm(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ko(r,p!==null?p.cachePool:null),p!==null?Fp(r,p):hh(),Rm(r);else return r.lanes=r.childLanes=536870912,Gm(n,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Ko(r,p.cachePool),Fp(r,p),Li(),r.memoizedState=null):(n!==null&&Ko(r,null),hh(),Li());return pe(n,r,f,o),r.child}function Gm(n,r,o,c){var f=ah();return f=f===null?null:{parent:ae._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&Ko(r,null),hh(),Rm(r),n!==null&&gs(n,r,c,!0),null}function pl(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function jh(n,r,o,c,f){return yr(r),o=gh(n,r,o,c,void 0,f),c=ph(),n!==null&&!fe?(mh(n,r,f),Jn(n,r,f)):(At&&c&&Zu(r),r.flags|=1,pe(n,r,o,f),r.child)}function qm(n,r,o,c,f,p){return yr(r),r.updateQueue=null,o=Gp(r,c,o,f),Vp(n),c=ph(),n!==null&&!fe?(mh(n,r,p),Jn(n,r,p)):(At&&c&&Zu(r),r.flags|=1,pe(n,r,o,p),r.child)}function $m(n,r,o,c,f){if(yr(r),r.stateNode===null){var p=Kr,b=o.contextType;typeof b=="object"&&b!==null&&(p=Ce(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ah,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},oh(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?Ce(b):Kr,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Mh(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Ah.enqueueReplaceState(p,p.state,null),xs(r,c,p,f),Ss(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){p=r.stateNode;var C=r.memoizedProps,O=xr(o,C);p.props=O;var B=p.context,q=o.contextType;b=Kr,typeof q=="object"&&q!==null&&(b=Ce(q));var Q=o.getDerivedStateFromProps;q=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||B!==b)&&km(r,p,c,b),Mi=!1;var U=r.memoizedState;p.state=U,xs(r,c,p,f),Ss(),B=r.memoizedState,C||U!==B||Mi?(typeof Q=="function"&&(Mh(r,o,Q,c),B=r.memoizedState),(O=Mi||jm(r,o,O,c,U,B,b))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=B),p.props=c,p.state=B,p.context=b,c=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,lh(n,r),b=r.memoizedProps,q=xr(o,b),p.props=q,Q=r.pendingProps,U=p.context,B=o.contextType,O=Kr,typeof B=="object"&&B!==null&&(O=Ce(B)),C=o.getDerivedStateFromProps,(B=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==Q||U!==O)&&km(r,p,c,O),Mi=!1,U=r.memoizedState,p.state=U,xs(r,c,p,f),Ss();var Y=r.memoizedState;b!==Q||U!==Y||Mi||n!==null&&n.dependencies!==null&&Qo(n.dependencies)?(typeof C=="function"&&(Mh(r,o,C,c),Y=r.memoizedState),(q=Mi||jm(r,o,q,c,U,Y,O)||n!==null&&n.dependencies!==null&&Qo(n.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Y,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Y,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=O,c=q):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),c=!1)}return p=c,pl(n,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&c?(r.child=la(r,n.child,null,f),r.child=la(r,null,o,f)):pe(n,r,o,f),r.memoizedState=p.state,n=r.child):n=Jn(n,r,f),n}function Wm(n,r,o,c){return fs(),r.flags|=256,pe(n,r,o,c),r.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(n){return{baseLanes:n,cachePool:zp()}}function zh(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=un),n}function Im(n,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(se.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,n===null){if(At){if(f?ki(r):Li(),At){var C=It,O;if(O=C){t:{for(O=C,C=Rn;O.nodeType!==8;){if(!C){C=null;break t}if(O=Sn(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(r.memoizedState={dehydrated:C,treeContext:dr!==null?{id:$n,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},O=Ge(18,null,null,0),O.stateNode=C,O.return=r,r.child=O,Oe=r,It=null,O=!0):O=!1}O||mr(r)}if(C=r.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return bf(C)?r.lanes=32:r.lanes=536870912,null;Kn(r)}return C=c.children,c=c.fallback,f?(Li(),f=r.mode,C=ml({mode:"hidden",children:C},f),c=fr(c,f,o,null),C.return=r,c.return=r,C.sibling=c,r.child=C,f=r.child,f.memoizedState=Lh(o),f.childLanes=zh(n,b,o),r.memoizedState=kh,c):(ki(r),Bh(r,C))}if(O=n.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(p)r.flags&256?(ki(r),r.flags&=-257,r=Nh(n,r,o)):r.memoizedState!==null?(Li(),r.child=n.child,r.flags|=128,r=null):(Li(),f=c.fallback,C=r.mode,c=ml({mode:"visible",children:c.children},C),f=fr(f,C,o,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,la(r,n.child,null,o),c=r.child,c.memoizedState=Lh(o),c.childLanes=zh(n,b,o),r.memoizedState=kh,r=f);else if(ki(r),bf(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var B=b.dgst;b=B,c=Error(i(419)),c.stack="",c.digest=b,ds({value:c,source:null,stack:null}),r=Nh(n,r,o)}else if(fe||gs(n,r,o,!1),b=(o&n.childLanes)!==0,fe||b){if(b=Pt,b!==null&&(c=o&-o,c=(c&42)!==0?1:bu(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Zr(n,c),Qe(b,n,c),Ym;C.data==="$?"||ef(),r=Nh(n,r,o)}else C.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,It=Sn(C.nextSibling),Oe=r,At=!0,pr=null,Rn=!1,n!==null&&(on[ln++]=$n,on[ln++]=Wn,on[ln++]=dr,$n=n.id,Wn=n.overflow,dr=r),r=Bh(r,c.children),r.flags|=4096);return r}return f?(Li(),f=c.fallback,C=r.mode,O=n.child,B=O.sibling,c=qn(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,B!==null?f=qn(B,f):(f=fr(f,C,o,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,C=n.child.memoizedState,C===null?C=Lh(o):(O=C.cachePool,O!==null?(B=ae._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=zp(),C={baseLanes:C.baseLanes|o,cachePool:O}),f.memoizedState=C,f.childLanes=zh(n,b,o),r.memoizedState=kh,c):(ki(r),o=n.child,n=o.sibling,o=qn(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(b=r.deletions,b===null?(r.deletions=[n],r.flags|=16):b.push(n)),r.child=o,r.memoizedState=null,o)}function Bh(n,r){return r=ml({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ml(n,r){return n=Ge(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Nh(n,r,o){return la(r,n.child,null,o),n=Bh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Qm(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),eh(n.return,r,o)}function Hh(n,r,o,c,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Zm(n,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(pe(n,r,c.children,o),c=se.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qm(n,o,r);else if(n.tag===19)Qm(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(Z(se,c),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&fl(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hh(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&fl(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Hh(r,!0,o,null,p);break;case"together":Hh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Jn(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Ui|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(gs(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=qn(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=qn(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Uh(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Qo(n)))}function bx(n,r,o){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Di(r,ae,n.memoizedState.cache),fs();break;case 27:case 5:Zt(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ki(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Im(n,r,o):(ki(r),n=Jn(n,r,o),n!==null?n.sibling:null);ki(r);break;case 19:var f=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(gs(n,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return Zm(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(se,se.current),c)break;return null;case 22:case 23:return r.lanes=0,Vm(n,r,o);case 24:Di(r,ae,n.memoizedState.cache)}return Jn(n,r,o)}function Km(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)fe=!0;else{if(!Uh(n,o)&&(r.flags&128)===0)return fe=!1,bx(n,r,o);fe=(n.flags&131072)!==0}else fe=!1,At&&(r.flags&1048576)!==0&&Dp(r,Io,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,f=c._init;if(c=f(c._payload),r.type=c,typeof c=="function")Wu(c)?(n=xr(c,n),r.tag=1,r=$m(null,r,c,n,o)):(r.tag=0,r=jh(null,r,c,n,o));else{if(c!=null){if(f=c.$$typeof,f===H){r.tag=11,r=Xm(null,r,c,n,o);break t}else if(f===K){r.tag=14,r=Pm(null,r,c,n,o);break t}}throw r=ut(c)||c,Error(i(306,r,""))}}return r;case 0:return jh(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=xr(c,r.pendingProps),$m(n,r,c,f,o);case 3:t:{if(Ot(r,r.stateNode.containerInfo),n===null)throw Error(i(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,lh(n,r),xs(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Di(r,ae,c),c!==p.cache&&nh(r,[ae],o,!0),Ss(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Wm(n,r,c,o);break t}else if(c!==f){f=an(Error(i(424)),r),ds(f),r=Wm(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=Sn(n.firstChild),Oe=r,At=!0,pr=null,Rn=!0,o=Am(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fs(),c===f){r=Jn(n,r,o);break t}pe(n,r,c,o)}r=r.child}return r;case 26:return pl(n,r),n===null?(o=nv(r.type,null,r.pendingProps,null))?r.memoizedState=o:At||(o=r.type,n=r.pendingProps,c=Al(at.current).createElement(o),c[_e]=r,c[Ae]=n,ve(c,o,n),he(c),r.stateNode=c):r.memoizedState=nv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Zt(r),n===null&&At&&(c=r.stateNode=J0(r.type,r.pendingProps,at.current),Oe=r,Rn=!0,f=It,Fi(r.type)?(Sf=f,It=Sn(c.firstChild)):It=f),pe(n,r,r.pendingProps.children,o),pl(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&At&&((f=c=It)&&(c=$x(c,r.type,r.pendingProps,Rn),c!==null?(r.stateNode=c,Oe=r,It=Sn(c.firstChild),Rn=!1,f=!0):f=!1),f||mr(r)),Zt(r),f=r.type,p=r.pendingProps,b=n!==null?n.memoizedProps:null,c=p.children,mf(f,p)?c=null:b!==null&&mf(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=gh(n,r,hx,null,null,o),Fs._currentValue=f),pl(n,r),pe(n,r,c,o),r.child;case 6:return n===null&&At&&((n=o=It)&&(o=Wx(o,r.pendingProps,Rn),o!==null?(r.stateNode=o,Oe=r,It=null,n=!0):n=!1),n||mr(r)),null;case 13:return Im(n,r,o);case 4:return Ot(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=la(r,null,c,o):pe(n,r,c,o),r.child;case 11:return Xm(n,r,r.type,r.pendingProps,o);case 7:return pe(n,r,r.pendingProps,o),r.child;case 8:return pe(n,r,r.pendingProps.children,o),r.child;case 12:return pe(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Di(r,r.type,c.value),pe(n,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,yr(r),f=Ce(f),c=c(f),r.flags|=1,pe(n,r,c,o),r.child;case 14:return Pm(n,r,r.type,r.pendingProps,o);case 15:return Fm(n,r,r.type,r.pendingProps,o);case 19:return Zm(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=ml(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=qn(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Vm(n,r,o);case 24:return yr(r),c=Ce(ae),n===null?(f=ah(),f===null&&(f=Pt,p=ih(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},oh(r),Di(r,ae,f)):((n.lanes&o)!==0&&(lh(n,r),xs(r,null,null,o),Ss()),f=n.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Di(r,ae,c)):(c=p.cache,Di(r,ae,c),c!==f.cache&&nh(r,[ae],o,!0))),pe(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ti(n){n.flags|=4}function Jm(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ov(r)){if(r=cn.current,r!==null&&((Et&4194048)===Et?jn!==null:(Et&62914560)!==Et&&(Et&536870912)===0||r!==jn))throw ys=sh,Bp;n.flags|=8192}}function vl(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Rg():536870912,n.lanes|=r,fa|=r)}function Ds(n,r){if(!At)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function qt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function Sx(n,r,o){var c=r.pendingProps;switch(Ku(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Qn(ae),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(hs(r)?ti(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rp())),qt(r),null;case 26:return o=r.memoizedState,n===null?(ti(r),o!==null?(qt(r),Jm(r,o)):(qt(r),r.flags&=-16777217)):o?o!==n.memoizedState?(ti(r),qt(r),Jm(r,o)):(qt(r),r.flags&=-16777217):(n.memoizedProps!==c&&ti(r),qt(r),r.flags&=-16777217),null;case 27:wi(r),o=at.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ti(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return qt(r),null}n=it.current,hs(r)?Mp(r):(n=J0(f,c,o),r.stateNode=n,ti(r))}return qt(r),null;case 5:if(wi(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ti(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(n=it.current,hs(r))Mp(r);else{switch(f=Al(at.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}n[_e]=r,n[Ae]=c;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(ve(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ti(r)}}return qt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&ti(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(n=at.current,hs(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,f=Oe,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[_e]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||q0(n.nodeValue,o)),n||mr(r)}else n=Al(n).createTextNode(c),n[_e]=r,r.stateNode=n}return qt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=hs(r),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_e]=r}else fs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),f=!1}else f=Rp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Kn(r),r):(Kn(r),null)}if(Kn(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),vl(r,r.updateQueue),qt(r),null;case 4:return ue(),n===null&&hf(r.stateNode.containerInfo),qt(r),null;case 10:return Qn(r.type),qt(r),null;case 19:if(tt(se),f=r.memoizedState,f===null)return qt(r),null;if(c=(r.flags&128)!==0,p=f.rendering,p===null)if(c)Ds(f,!1);else{if(Qt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=fl(n),p!==null){for(r.flags|=128,Ds(f,!1),n=p.updateQueue,r.updateQueue=n,vl(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Ep(o,n),o=o.sibling;return Z(se,se.current&1|2),r.child}n=n.sibling}f.tail!==null&&Lt()>Sl&&(r.flags|=128,c=!0,Ds(f,!1),r.lanes=4194304)}else{if(!c)if(n=fl(p),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,vl(r,n),Ds(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!At)return qt(r),null}else 2*Lt()-f.renderingStartTime>Sl&&o!==536870912&&(r.flags|=128,c=!0,Ds(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Lt(),r.sibling=null,n=se.current,Z(se,c?n&1|2:n&1),r):(qt(r),null);case 22:case 23:return Kn(r),fh(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),o=r.updateQueue,o!==null&&vl(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&tt(br),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Qn(ae),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function xx(n,r){switch(Ku(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qn(ae),ue(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(Kn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));fs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return tt(se),null;case 4:return ue(),null;case 10:return Qn(r.type),null;case 22:case 23:return Kn(r),fh(),n!==null&&tt(br),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Qn(ae),null;case 25:return null;default:return null}}function t0(n,r){switch(Ku(r),r.tag){case 3:Qn(ae),ue();break;case 26:case 27:case 5:wi(r);break;case 4:ue();break;case 13:Kn(r);break;case 19:tt(se);break;case 10:Qn(r.type);break;case 22:case 23:Kn(r),fh(),n!==null&&tt(br);break;case 24:Qn(ae)}}function Ms(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(C){Xt(r,r.return,C)}}function zi(n,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&n)===n){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,f=r;var O=o,B=C;try{B()}catch(q){Xt(f,O,q)}}}c=c.next}while(c!==p)}}catch(q){Xt(r,r.return,q)}}function e0(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Pp(r,o)}catch(c){Xt(n,n.return,c)}}}function n0(n,r,o){o.props=xr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Xt(n,r,c)}}function As(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){Xt(n,r,f)}}function kn(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Xt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(n,r,f)}else o.current=null}function i0(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Xt(n,n.return,f)}}function Yh(n,r,o){try{var c=n.stateNode;Px(c,n.type,o,r),c[Ae]=r}catch(f){Xt(n,n.return,f)}}function r0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fi(n.type)||n.tag===4}function Xh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||r0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ph(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ml));else if(c!==4&&(c===27&&Fi(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Ph(n,r,o),n=n.sibling;n!==null;)Ph(n,r,o),n=n.sibling}function yl(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Fi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(yl(n,r,o),n=n.sibling;n!==null;)yl(n,r,o),n=n.sibling}function a0(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);ve(r,c,o),r[_e]=n,r[Ae]=o}catch(p){Xt(n,n.return,p)}}var ei=!1,Jt=!1,Fh=!1,s0=typeof WeakSet=="function"?WeakSet:Set,de=null;function _x(n,r){if(n=n.containerInfo,gf=Bl,n=vp(n),Xu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var b=0,C=-1,O=-1,B=0,q=0,Q=n,U=null;e:for(;;){for(var Y;Q!==o||f!==0&&Q.nodeType!==3||(C=b+f),Q!==p||c!==0&&Q.nodeType!==3||(O=b+c),Q.nodeType===3&&(b+=Q.nodeValue.length),(Y=Q.firstChild)!==null;)U=Q,Q=Y;for(;;){if(Q===n)break e;if(U===o&&++B===f&&(C=b),U===p&&++q===c&&(O=b),(Y=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=Y}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(pf={focusedElem:n,selectionRange:o},Bl=!1,de=r;de!==null;)if(r=de,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,de=n;else for(;de!==null;){switch(r=de,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var mt=xr(o.type,f,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(mt,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(ft){Xt(o,o.return,ft)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)yf(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,de=n;break}de=r.return}}function o0(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Bi(n,o),c&4&&Ms(5,o);break;case 1:if(Bi(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(b){Xt(o,o.return,b)}else{var f=xr(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Xt(o,o.return,b)}}c&64&&e0(o),c&512&&As(o,o.return);break;case 3:if(Bi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Pp(n,r)}catch(b){Xt(o,o.return,b)}}break;case 27:r===null&&c&4&&a0(o);case 26:case 5:Bi(n,o),r===null&&c&4&&i0(o),c&512&&As(o,o.return);break;case 12:Bi(n,o);break;case 13:Bi(n,o),c&4&&u0(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Rx.bind(null,o),Ix(n,o))));break;case 22:if(c=o.memoizedState!==null||ei,!c){r=r!==null&&r.memoizedState!==null||Jt,f=ei;var p=Jt;ei=c,(Jt=r)&&!p?Ni(n,o,(o.subtreeFlags&8772)!==0):Bi(n,o),ei=f,Jt=p}break;case 30:break;default:Bi(n,o)}}function l0(n){var r=n.alternate;r!==null&&(n.alternate=null,l0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&_u(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ft=null,ke=!1;function ni(n,r,o){for(o=o.child;o!==null;)c0(n,r,o),o=o.sibling}function c0(n,r,o){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Za,o)}catch{}switch(o.tag){case 26:Jt||kn(o,r),ni(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Jt||kn(o,r);var c=Ft,f=ke;Fi(o.type)&&(Ft=o.stateNode,ke=!1),ni(n,r,o),Us(o.stateNode),Ft=c,ke=f;break;case 5:Jt||kn(o,r);case 6:if(c=Ft,f=ke,Ft=null,ni(n,r,o),Ft=c,ke=f,Ft!==null)if(ke)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(o.stateNode)}catch(p){Xt(o,r,p)}else try{Ft.removeChild(o.stateNode)}catch(p){Xt(o,r,p)}break;case 18:Ft!==null&&(ke?(n=Ft,Z0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),$s(n)):Z0(Ft,o.stateNode));break;case 4:c=Ft,f=ke,Ft=o.stateNode.containerInfo,ke=!0,ni(n,r,o),Ft=c,ke=f;break;case 0:case 11:case 14:case 15:Jt||zi(2,o,r),Jt||zi(4,o,r),ni(n,r,o);break;case 1:Jt||(kn(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&n0(o,r,c)),ni(n,r,o);break;case 21:ni(n,r,o);break;case 22:Jt=(c=Jt)||o.memoizedState!==null,ni(n,r,o),Jt=c;break;default:ni(n,r,o)}}function u0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$s(n)}catch(o){Xt(r,r.return,o)}}function Cx(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new s0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new s0),r;default:throw Error(i(435,n.tag))}}function Vh(n,r){var o=Cx(n);r.forEach(function(c){var f=jx.bind(null,n,c);o.has(c)||(o.add(c),c.then(f,f))})}function qe(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=n,b=r,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(Fi(C.type)){Ft=C.stateNode,ke=!1;break t}break;case 5:Ft=C.stateNode,ke=!1;break t;case 3:case 4:Ft=C.stateNode.containerInfo,ke=!0;break t}C=C.return}if(Ft===null)throw Error(i(160));c0(p,b,f),Ft=null,ke=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)h0(r,n),r=r.sibling}var bn=null;function h0(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qe(r,n),$e(n),c&4&&(zi(3,n,n.return),Ms(3,n),zi(5,n,n.return));break;case 1:qe(r,n),$e(n),c&512&&(Jt||o===null||kn(o,o.return)),c&64&&ei&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=bn;if(qe(r,n),$e(n),c&512&&(Jt||o===null||kn(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ts]||p[_e]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),ve(p,c,o),p[_e]=n,he(p),c=p;break t;case"link":var b=av("link","href",f).get(c+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(p=b[C],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}p=f.createElement(c),ve(p,c,o),f.head.appendChild(p);break;case"meta":if(b=av("meta","content",f).get(c+(o.content||""))){for(C=0;C<b.length;C++)if(p=b[C],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}p=f.createElement(c),ve(p,c,o),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[_e]=n,he(p),c=p}n.stateNode=c}else sv(f,n.type,n.stateNode);else n.stateNode=rv(f,c,n.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?sv(f,n.type,n.stateNode):rv(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Yh(n,n.memoizedProps,o.memoizedProps)}break;case 27:qe(r,n),$e(n),c&512&&(Jt||o===null||kn(o,o.return)),o!==null&&c&4&&Yh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(qe(r,n),$e(n),c&512&&(Jt||o===null||kn(o,o.return)),n.flags&32){f=n.stateNode;try{Vr(f,"")}catch(Y){Xt(n,n.return,Y)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,Yh(n,f,o!==null?o.memoizedProps:f)),c&1024&&(Fh=!0);break;case 6:if(qe(r,n),$e(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Y){Xt(n,n.return,Y)}}break;case 3:if(kl=null,f=bn,bn=Rl(r.containerInfo),qe(r,n),bn=f,$e(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{$s(r.containerInfo)}catch(Y){Xt(n,n.return,Y)}Fh&&(Fh=!1,f0(n));break;case 4:c=bn,bn=Rl(n.stateNode.containerInfo),qe(r,n),$e(n),bn=c;break;case 12:qe(r,n),$e(n);break;case 13:qe(r,n),$e(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qh=Lt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Vh(n,c)));break;case 22:f=n.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,B=ei,q=Jt;if(ei=B||f,Jt=q||O,qe(r,n),Jt=q,ei=B,$e(n),c&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||ei||Jt||_r(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=O.stateNode;var Q=O.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Y){Xt(O,O.return,Y)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Y){Xt(O,O.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Vh(n,o))));break;case 19:qe(r,n),$e(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Vh(n,c)));break;case 30:break;case 21:break;default:qe(r,n),$e(n)}}function $e(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(r0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Xh(n);yl(n,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(Vr(b,""),o.flags&=-33);var C=Xh(n);yl(n,C,b);break;case 3:case 4:var O=o.stateNode.containerInfo,B=Xh(n);Ph(n,B,O);break;default:throw Error(i(161))}}catch(q){Xt(n,n.return,q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function f0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;f0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Bi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)o0(n,r.alternate,r),r=r.sibling}function _r(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:zi(4,r,r.return),_r(r);break;case 1:kn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&n0(r,r.return,o),_r(r);break;case 27:Us(r.stateNode);case 26:case 5:kn(r,r.return),_r(r);break;case 22:r.memoizedState===null&&_r(r);break;case 30:_r(r);break;default:_r(r)}n=n.sibling}}function Ni(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=n,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ni(f,p,o),Ms(4,p);break;case 1:if(Ni(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(c,c.return,B)}if(c=p,f=c.updateQueue,f!==null){var C=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Xp(O[f],C)}catch(B){Xt(c,c.return,B)}}o&&b&64&&e0(p),As(p,p.return);break;case 27:a0(p);case 26:case 5:Ni(f,p,o),o&&c===null&&b&4&&i0(p),As(p,p.return);break;case 12:Ni(f,p,o);break;case 13:Ni(f,p,o),o&&b&4&&u0(f,p);break;case 22:p.memoizedState===null&&Ni(f,p,o),As(p,p.return);break;case 30:break;default:Ni(f,p,o)}r=r.sibling}}function Gh(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ps(o))}function qh(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ps(n))}function Ln(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d0(n,r,o,c),r=r.sibling}function d0(n,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ln(n,r,o,c),f&2048&&Ms(9,r);break;case 1:Ln(n,r,o,c);break;case 3:Ln(n,r,o,c),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ps(n)));break;case 12:if(f&2048){Ln(n,r,o,c),n=r.stateNode;try{var p=r.memoizedProps,b=p.id,C=p.onPostCommit;typeof C=="function"&&C(b,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Xt(r,r.return,O)}}else Ln(n,r,o,c);break;case 13:Ln(n,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Ln(n,r,o,c):Rs(n,r):p._visibility&2?Ln(n,r,o,c):(p._visibility|=2,ca(n,r,o,c,(r.subtreeFlags&10256)!==0)),f&2048&&Gh(b,r);break;case 24:Ln(n,r,o,c),f&2048&&qh(r.alternate,r);break;default:Ln(n,r,o,c)}}function ca(n,r,o,c,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,b=r,C=o,O=c,B=b.flags;switch(b.tag){case 0:case 11:case 15:ca(p,b,C,O,f),Ms(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?ca(p,b,C,O,f):Rs(p,b):(q._visibility|=2,ca(p,b,C,O,f)),f&&B&2048&&Gh(b.alternate,b);break;case 24:ca(p,b,C,O,f),f&&B&2048&&qh(b.alternate,b);break;default:ca(p,b,C,O,f)}r=r.sibling}}function Rs(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,f=c.flags;switch(c.tag){case 22:Rs(o,c),f&2048&&Gh(c.alternate,c);break;case 24:Rs(o,c),f&2048&&qh(c.alternate,c);break;default:Rs(o,c)}r=r.sibling}}var js=8192;function ua(n){if(n.subtreeFlags&js)for(n=n.child;n!==null;)g0(n),n=n.sibling}function g0(n){switch(n.tag){case 26:ua(n),n.flags&js&&n.memoizedState!==null&&l_(bn,n.memoizedState,n.memoizedProps);break;case 5:ua(n);break;case 3:case 4:var r=bn;bn=Rl(n.stateNode.containerInfo),ua(n),bn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=js,js=16777216,ua(n),js=r):ua(n));break;default:ua(n)}}function p0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ks(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];de=c,v0(c,n)}p0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)m0(n),n=n.sibling}function m0(n){switch(n.tag){case 0:case 11:case 15:ks(n),n.flags&2048&&zi(9,n,n.return);break;case 3:ks(n);break;case 12:ks(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,bl(n)):ks(n);break;default:ks(n)}}function bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];de=c,v0(c,n)}p0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:zi(8,r,r.return),bl(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,bl(r));break;default:bl(r)}n=n.sibling}}function v0(n,r){for(;de!==null;){var o=de;switch(o.tag){case 0:case 11:case 15:zi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ps(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,de=c;else t:for(o=n;de!==null;){c=de;var f=c.sibling,p=c.return;if(l0(c),c===o){de=null;break t}if(f!==null){f.return=p,de=f;break t}de=p}}}var wx={getCacheForType:function(n){var r=Ce(ae),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},Tx=typeof WeakMap=="function"?WeakMap:Map,zt=0,Pt=null,wt=null,Et=0,Bt=0,We=null,Hi=!1,ha=!1,$h=!1,ii=0,Qt=0,Ui=0,Cr=0,Wh=0,un=0,fa=0,Ls=null,Le=null,Ih=!1,Qh=0,Sl=1/0,xl=null,Yi=null,me=0,Xi=null,da=null,ga=0,Zh=0,Kh=null,y0=null,zs=0,Jh=null;function Ie(){if((zt&2)!==0&&Et!==0)return Et&-Et;if(P.T!==null){var n=ea;return n!==0?n:of()}return Lg()}function b0(){un===0&&(un=(Et&536870912)===0||At?Ag():536870912);var n=cn.current;return n!==null&&(n.flags|=32),un}function Qe(n,r,o){(n===Pt&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)&&(pa(n,0),Pi(n,Et,un,!1)),Ja(n,o),((zt&2)===0||n!==Pt)&&(n===Pt&&((zt&2)===0&&(Cr|=o),Qt===4&&Pi(n,Et,un,!1)),zn(n))}function S0(n,r,o){if((zt&6)!==0)throw Error(i(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Ka(n,r),f=c?Dx(n,r):nf(n,r,!0),p=c;do{if(f===0){ha&&!c&&Pi(n,r,0,!1);break}else{if(o=n.current.alternate,p&&!Ox(o)){f=nf(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var C=n;f=Ls;var O=C.current.memoizedState.isDehydrated;if(O&&(pa(C,b).flags|=256),b=nf(C,b,!1),b!==2){if($h&&!O){C.errorRecoveryDisabledLanes|=p,Cr|=p,f=4;break t}p=Le,Le=f,p!==null&&(Le===null?Le=p:Le.push.apply(Le,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){pa(n,0),Pi(n,r,0,!0);break}t:{switch(c=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Pi(c,r,un,!Hi);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Qh+300-Lt(),10<f)){if(Pi(c,r,un,!Hi),jo(c,0,!0)!==0)break t;c.timeoutHandle=I0(x0.bind(null,c,o,Le,xl,Ih,r,un,Cr,fa,Hi,p,2,-0,0),f);break t}x0(c,o,Le,xl,Ih,r,un,Cr,fa,Hi,p,0,-0,0)}}break}while(!0);zn(n)}function x0(n,r,o,c,f,p,b,C,O,B,q,Q,U,Y){if(n.timeoutHandle=-1,Q=r.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ps={stylesheets:null,count:0,unsuspend:o_},g0(r),Q=c_(),Q!==null)){n.cancelPendingCommit=Q(D0.bind(null,n,r,p,o,c,f,b,C,O,q,1,U,Y)),Pi(n,p,b,!B);return}D0(n,r,p,o,c,f,b,C,O)}function Ox(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Ve(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pi(n,r,o,c){r&=~Wh,r&=~Cr,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var f=r;0<f;){var p=31-Fe(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&jg(n,o,r)}function _l(){return(zt&6)===0?(Bs(0),!1):!0}function tf(){if(wt!==null){if(Bt===0)var n=wt.return;else n=wt,In=vr=null,vh(n),oa=null,Os=0,n=wt;for(;n!==null;)t0(n.alternate,n),n=n.return;wt=null}}function pa(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Vx(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),tf(),Pt=n,wt=o=qn(n.current,null),Et=r,Bt=0,We=null,Hi=!1,ha=Ka(n,r),$h=!1,fa=un=Wh=Cr=Ui=Qt=0,Le=Ls=null,Ih=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var f=31-Fe(c),p=1<<f;r|=n[f],c&=~p}return ii=r,Vo(),o}function _0(n,r){St=null,P.H=cl,r===vs||r===Jo?(r=Up(),Bt=3):r===Bp?(r=Up(),Bt=4):Bt=r===Ym?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,We=r,wt===null&&(Qt=1,gl(n,an(r,n.current)))}function C0(){var n=P.H;return P.H=cl,n===null?cl:n}function w0(){var n=P.A;return P.A=wx,n}function ef(){Qt=4,Hi||(Et&4194048)!==Et&&cn.current!==null||(ha=!0),(Ui&134217727)===0&&(Cr&134217727)===0||Pt===null||Pi(Pt,Et,un,!1)}function nf(n,r,o){var c=zt;zt|=2;var f=C0(),p=w0();(Pt!==n||Et!==r)&&(xl=null,pa(n,r)),r=!1;var b=Qt;t:do try{if(Bt!==0&&wt!==null){var C=wt,O=We;switch(Bt){case 8:tf(),b=6;break t;case 3:case 2:case 9:case 6:cn.current===null&&(r=!0);var B=Bt;if(Bt=0,We=null,ma(n,C,O,B),o&&ha){b=0;break t}break;default:B=Bt,Bt=0,We=null,ma(n,C,O,B)}}Ex(),b=Qt;break}catch(q){_0(n,q)}while(!0);return r&&n.shellSuspendCounter++,In=vr=null,zt=c,P.H=f,P.A=p,wt===null&&(Pt=null,Et=0,Vo()),b}function Ex(){for(;wt!==null;)T0(wt)}function Dx(n,r){var o=zt;zt|=2;var c=C0(),f=w0();Pt!==n||Et!==r?(xl=null,Sl=Lt()+500,pa(n,r)):ha=Ka(n,r);t:do try{if(Bt!==0&&wt!==null){r=wt;var p=We;e:switch(Bt){case 1:Bt=0,We=null,ma(n,r,p,1);break;case 2:case 9:if(Np(p)){Bt=0,We=null,O0(r);break}r=function(){Bt!==2&&Bt!==9||Pt!==n||(Bt=7),zn(n)},p.then(r,r);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Np(p)?(Bt=0,We=null,O0(r)):(Bt=0,We=null,ma(n,r,p,7));break;case 5:var b=null;switch(wt.tag){case 26:b=wt.memoizedState;case 5:case 27:var C=wt;if(!b||ov(b)){Bt=0,We=null;var O=C.sibling;if(O!==null)wt=O;else{var B=C.return;B!==null?(wt=B,Cl(B)):wt=null}break e}}Bt=0,We=null,ma(n,r,p,5);break;case 6:Bt=0,We=null,ma(n,r,p,6);break;case 8:tf(),Qt=6;break t;default:throw Error(i(462))}}Mx();break}catch(q){_0(n,q)}while(!0);return In=vr=null,P.H=c,P.A=f,zt=o,wt!==null?0:(Pt=null,Et=0,Vo(),Qt)}function Mx(){for(;wt!==null&&!xe();)T0(wt)}function T0(n){var r=Km(n.alternate,n,ii);n.memoizedProps=n.pendingProps,r===null?Cl(n):wt=r}function O0(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=qm(o,r,r.pendingProps,r.type,void 0,Et);break;case 11:r=qm(o,r,r.pendingProps,r.type.render,r.ref,Et);break;case 5:vh(r);default:t0(o,r),r=wt=Ep(r,ii),r=Km(o,r,ii)}n.memoizedProps=n.pendingProps,r===null?Cl(n):wt=r}function ma(n,r,o,c){In=vr=null,vh(r),oa=null,Os=0;var f=r.return;try{if(yx(n,f,r,o,Et)){Qt=1,gl(n,an(o,n.current)),wt=null;return}}catch(p){if(f!==null)throw wt=f,p;Qt=1,gl(n,an(o,n.current)),wt=null;return}r.flags&32768?(At||c===1?n=!0:ha||(Et&536870912)!==0?n=!1:(Hi=n=!0,(c===2||c===9||c===3||c===6)&&(c=cn.current,c!==null&&c.tag===13&&(c.flags|=16384))),E0(r,n)):Cl(r)}function Cl(n){var r=n;do{if((r.flags&32768)!==0){E0(r,Hi);return}n=r.return;var o=Sx(r.alternate,r,ii);if(o!==null){wt=o;return}if(r=r.sibling,r!==null){wt=r;return}wt=r=n}while(r!==null);Qt===0&&(Qt=5)}function E0(n,r){do{var o=xx(n.alternate,n);if(o!==null){o.flags&=32767,wt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){wt=n;return}wt=n=o}while(n!==null);Qt=6,wt=null}function D0(n,r,o,c,f,p,b,C,O){n.cancelPendingCommit=null;do wl();while(me!==0);if((zt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=qu,o1(n,o,p,b,C,O),n===Pt&&(wt=Pt=null,Et=0),da=r,Xi=n,ga=o,Zh=p,Kh=f,y0=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kx(sr,function(){return k0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=P.T,P.T=null,f=J.p,J.p=2,b=zt,zt|=4;try{_x(n,r,o)}finally{zt=b,J.p=f,P.T=c}}me=1,M0(),A0(),R0()}}function M0(){if(me===1){me=0;var n=Xi,r=da,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var c=J.p;J.p=2;var f=zt;zt|=4;try{h0(r,n);var p=pf,b=vp(n.containerInfo),C=p.focusedElem,O=p.selectionRange;if(b!==C&&C&&C.ownerDocument&&mp(C.ownerDocument.documentElement,C)){if(O!==null&&Xu(C)){var B=O.start,q=O.end;if(q===void 0&&(q=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(q,C.value.length);else{var Q=C.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var Y=U.getSelection(),mt=C.textContent.length,ft=Math.min(O.start,mt),Yt=O.end===void 0?ft:Math.min(O.end,mt);!Y.extend&&ft>Yt&&(b=Yt,Yt=ft,ft=b);var L=pp(C,ft),A=pp(C,Yt);if(L&&A&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==A.node||Y.focusOffset!==A.offset)){var z=Q.createRange();z.setStart(L.node,L.offset),Y.removeAllRanges(),ft>Yt?(Y.addRange(z),Y.extend(A.node,A.offset)):(z.setEnd(A.node,A.offset),Y.addRange(z))}}}}for(Q=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&Q.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var $=Q[C];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Bl=!!gf,pf=gf=null}finally{zt=f,J.p=c,P.T=o}}n.current=r,me=2}}function A0(){if(me===2){me=0;var n=Xi,r=da,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var c=J.p;J.p=2;var f=zt;zt|=4;try{o0(n,r.alternate,r)}finally{zt=f,J.p=c,P.T=o}}me=3}}function R0(){if(me===4||me===3){me=0,Ia();var n=Xi,r=da,o=ga,c=y0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?me=5:(me=0,da=Xi=null,j0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Yi=null),Su(o),r=r.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Za,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=P.T,f=J.p,J.p=2,P.T=null;try{for(var p=n.onRecoverableError,b=0;b<c.length;b++){var C=c[b];p(C.value,{componentStack:C.stack})}}finally{P.T=r,J.p=f}}(ga&3)!==0&&wl(),zn(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Jh?zs++:(zs=0,Jh=n):zs=0,Bs(0)}}function j0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ps(r)))}function wl(n){return M0(),A0(),R0(),k0()}function k0(){if(me!==5)return!1;var n=Xi,r=Zh;Zh=0;var o=Su(ga),c=P.T,f=J.p;try{J.p=32>o?32:o,P.T=null,o=Kh,Kh=null;var p=Xi,b=ga;if(me=0,da=Xi=null,ga=0,(zt&6)!==0)throw Error(i(331));var C=zt;if(zt|=4,m0(p.current),d0(p,p.current,b,o),zt=C,Bs(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Za,p)}catch{}return!0}finally{J.p=f,P.T=c,j0(n,r)}}function L0(n,r,o){r=an(o,r),r=Rh(n.stateNode,r,2),n=Ri(n,r,2),n!==null&&(Ja(n,2),zn(n))}function Xt(n,r,o){if(n.tag===3)L0(n,n,o);else for(;r!==null;){if(r.tag===3){L0(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yi===null||!Yi.has(c))){n=an(o,n),o=Hm(2),c=Ri(r,o,2),c!==null&&(Um(o,c,r,n),Ja(c,2),zn(c));break}}r=r.return}}function rf(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new Tx;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||($h=!0,f.add(o),n=Ax.bind(null,n,r,o),r.then(n,n))}function Ax(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Pt===n&&(Et&o)===o&&(Qt===4||Qt===3&&(Et&62914560)===Et&&300>Lt()-Qh?(zt&2)===0&&pa(n,0):Wh|=o,fa===Et&&(fa=0)),zn(n)}function z0(n,r){r===0&&(r=Rg()),n=Zr(n,r),n!==null&&(Ja(n,r),zn(n))}function Rx(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),z0(n,o)}function jx(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),z0(n,o)}function kx(n,r){return rr(n,r)}var Tl=null,va=null,af=!1,Ol=!1,sf=!1,wr=0;function zn(n){n!==va&&n.next===null&&(va===null?Tl=va=n:va=va.next=n),Ol=!0,af||(af=!0,zx())}function Bs(n,r){if(!sf&&Ol){sf=!0;do for(var o=!1,c=Tl;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,C=c.pingedLanes;p=(1<<31-Fe(42|n)+1)-1,p&=f&~(b&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,U0(c,p))}else p=Et,p=jo(c,c===Pt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ka(c,p)||(o=!0,U0(c,p));c=c.next}while(o);sf=!1}}function Lx(){B0()}function B0(){Ol=af=!1;var n=0;wr!==0&&(Fx()&&(n=wr),wr=0);for(var r=Lt(),o=null,c=Tl;c!==null;){var f=c.next,p=N0(c,r);p===0?(c.next=null,o===null?Tl=f:o.next=f,f===null&&(va=o)):(o=c,(n!==0||(p&3)!==0)&&(Ol=!0)),c=f}Bs(n)}function N0(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-Fe(p),C=1<<b,O=f[b];O===-1?((C&o)===0||(C&c)!==0)&&(f[b]=s1(C,r)):O<=r&&(n.expiredLanes|=C),p&=~C}if(r=Pt,o=Et,o=jo(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ar(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ka(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&ar(c),Su(o)){case 2:case 8:o=Br;break;case 32:o=sr;break;case 268435456:o=Qa;break;default:o=sr}return c=H0.bind(null,n),o=rr(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&ar(c),n.callbackPriority=2,n.callbackNode=null,2}function H0(n,r){if(me!==0&&me!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(wl()&&n.callbackNode!==o)return null;var c=Et;return c=jo(n,n===Pt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(S0(n,c,r),N0(n,Lt()),n.callbackNode!=null&&n.callbackNode===o?H0.bind(null,n):null)}function U0(n,r){if(wl())return null;S0(n,r,!0)}function zx(){Gx(function(){(zt&6)!==0?rr(Fn,Lx):B0()})}function of(){return wr===0&&(wr=Ag()),wr}function Y0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:No(""+n)}function X0(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function Bx(n,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=Y0((f[Ae]||null).action),b=c.submitter;b&&(r=(r=b[Ae]||null)?Y0(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var C=new Xo("action","action",null,c,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wr!==0){var O=b?X0(f,b):new FormData(f);Oh(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(C.preventDefault(),O=b?X0(f,b):new FormData(f),Oh(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var lf=0;lf<Gu.length;lf++){var cf=Gu[lf],Nx=cf.toLowerCase(),Hx=cf[0].toUpperCase()+cf.slice(1);yn(Nx,"on"+Hx)}yn(Sp,"onAnimationEnd"),yn(xp,"onAnimationIteration"),yn(_p,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(ex,"onTransitionRun"),yn(nx,"onTransitionStart"),yn(ix,"onTransitionCancel"),yn(Cp,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function P0(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;t:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var C=c[b],O=C.instance,B=C.currentTarget;if(C=C.listener,O!==p&&f.isPropagationStopped())break t;p=C,f.currentTarget=B;try{p(f)}catch(q){dl(q)}f.currentTarget=null,p=O}else for(b=0;b<c.length;b++){if(C=c[b],O=C.instance,B=C.currentTarget,C=C.listener,O!==p&&f.isPropagationStopped())break t;p=C,f.currentTarget=B;try{p(f)}catch(q){dl(q)}f.currentTarget=null,p=O}}}}function Tt(n,r){var o=r[xu];o===void 0&&(o=r[xu]=new Set);var c=n+"__bubble";o.has(c)||(F0(r,n,2,!1),o.add(c))}function uf(n,r,o){var c=0;r&&(c|=4),F0(o,n,c,r)}var El="_reactListening"+Math.random().toString(36).slice(2);function hf(n){if(!n[El]){n[El]=!0,Bg.forEach(function(o){o!=="selectionchange"&&(Ux.has(o)||uf(o,!1,n),uf(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[El]||(r[El]=!0,uf("selectionchange",!1,r))}}function F0(n,r,o,c){switch(dv(r)){case 2:var f=f_;break;case 8:f=d_;break;default:f=Tf}o=f.bind(null,r,o,n),f=void 0,!ju||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function ff(n,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===f)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;C!==null;){if(b=Hr(C),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=p=b;continue t}C=C.parentNode}}c=c.return}Qg(function(){var B=p,q=Au(o),Q=[];t:{var U=wp.get(n);if(U!==void 0){var Y=Xo,mt=n;switch(n){case"keypress":if(Uo(o)===0)break t;case"keydown":case"keyup":Y=k1;break;case"focusin":mt="focus",Y=Bu;break;case"focusout":mt="blur",Y=Bu;break;case"beforeblur":case"afterblur":Y=Bu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=B1;break;case Sp:case xp:case _p:Y=w1;break;case Cp:Y=H1;break;case"scroll":case"scrollend":Y=b1;break;case"wheel":Y=Y1;break;case"copy":case"cut":case"paste":Y=O1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ep;break;case"toggle":case"beforetoggle":Y=P1}var ft=(r&4)!==0,Yt=!ft&&(n==="scroll"||n==="scrollend"),L=ft?U!==null?U+"Capture":null:U;ft=[];for(var A=B,z;A!==null;){var $=A;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||L===null||($=ns(A,L),$!=null&&ft.push(Hs(A,$,z))),Yt)break;A=A.return}0<ft.length&&(U=new Y(U,mt,null,o,q),Q.push({event:U,listeners:ft}))}}if((r&7)===0){t:{if(U=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",U&&o!==Mu&&(mt=o.relatedTarget||o.fromElement)&&(Hr(mt)||mt[Nr]))break t;if((Y||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(mt=o.relatedTarget||o.toElement,Y=B,mt=mt?Hr(mt):null,mt!==null&&(Yt=l(mt),ft=mt.tag,mt!==Yt||ft!==5&&ft!==27&&ft!==6)&&(mt=null)):(Y=null,mt=B),Y!==mt)){if(ft=Jg,$="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ft=ep,$="onPointerLeave",L="onPointerEnter",A="pointer"),Yt=Y==null?U:es(Y),z=mt==null?U:es(mt),U=new ft($,A+"leave",Y,o,q),U.target=Yt,U.relatedTarget=z,$=null,Hr(q)===B&&(ft=new ft(L,A+"enter",mt,o,q),ft.target=z,ft.relatedTarget=Yt,$=ft),Yt=$,Y&&mt)e:{for(ft=Y,L=mt,A=0,z=ft;z;z=ya(z))A++;for(z=0,$=L;$;$=ya($))z++;for(;0<A-z;)ft=ya(ft),A--;for(;0<z-A;)L=ya(L),z--;for(;A--;){if(ft===L||L!==null&&ft===L.alternate)break e;ft=ya(ft),L=ya(L)}ft=null}else ft=null;Y!==null&&V0(Q,U,Y,ft,!1),mt!==null&&Yt!==null&&V0(Q,Yt,mt,ft,!0)}}t:{if(U=B?es(B):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var st=cp;else if(op(U))if(up)st=K1;else{st=Q1;var _t=I1}else Y=U.nodeName,!Y||Y.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&Du(B.elementType)&&(st=cp):st=Z1;if(st&&(st=st(n,B))){lp(Q,st,o,q);break t}_t&&_t(n,U,B),n==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&Eu(U,"number",U.value)}switch(_t=B?es(B):window,n){case"focusin":(op(_t)||_t.contentEditable==="true")&&(Wr=_t,Pu=B,us=null);break;case"focusout":us=Pu=Wr=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,yp(Q,o,q);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":yp(Q,o,q)}var ct;if(Hu)t:{switch(n){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else $r?ap(n,o)&&(dt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(dt="onCompositionStart");dt&&(np&&o.locale!=="ko"&&($r||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&$r&&(ct=Zg()):(Ei=q,ku="value"in Ei?Ei.value:Ei.textContent,$r=!0)),_t=Dl(B,dt),0<_t.length&&(dt=new tp(dt,n,null,o,q),Q.push({event:dt,listeners:_t}),ct?dt.data=ct:(ct=sp(o),ct!==null&&(dt.data=ct)))),(ct=V1?G1(n,o):q1(n,o))&&(dt=Dl(B,"onBeforeInput"),0<dt.length&&(_t=new tp("onBeforeInput","beforeinput",null,o,q),Q.push({event:_t,listeners:dt}),_t.data=ct)),Bx(Q,n,B,o,q)}P0(Q,r)})}function Hs(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Dl(n,r){for(var o=r+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ns(n,o),f!=null&&c.unshift(Hs(n,f,p)),f=ns(n,r),f!=null&&c.push(Hs(n,f,p))),n.tag===3)return c;n=n.return}return[]}function ya(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function V0(n,r,o,c,f){for(var p=r._reactName,b=[];o!==null&&o!==c;){var C=o,O=C.alternate,B=C.stateNode;if(C=C.tag,O!==null&&O===c)break;C!==5&&C!==26&&C!==27||B===null||(O=B,f?(B=ns(o,p),B!=null&&b.unshift(Hs(o,B,O))):f||(B=ns(o,p),B!=null&&b.push(Hs(o,B,O)))),o=o.return}b.length!==0&&n.push({event:r,listeners:b})}var Yx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function G0(n){return(typeof n=="string"?n:""+n).replace(Yx,`
`).replace(Xx,"")}function q0(n,r){return r=G0(r),G0(n)===r}function Ml(){}function Ut(n,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Vr(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Vr(n,""+c);break;case"className":Lo(n,"class",c);break;case"tabIndex":Lo(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(n,o,c);break;case"style":Wg(n,c,p);break;case"data":if(r!=="object"){Lo(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=No(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Ut(n,r,"name",f.name,f,null),Ut(n,r,"formEncType",f.formEncType,f,null),Ut(n,r,"formMethod",f.formMethod,f,null),Ut(n,r,"formTarget",f.formTarget,f,null)):(Ut(n,r,"encType",f.encType,f,null),Ut(n,r,"method",f.method,f,null),Ut(n,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=No(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Ml);break;case"onScroll":c!=null&&Tt("scroll",n);break;case"onScrollEnd":c!=null&&Tt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=No(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Tt("beforetoggle",n),Tt("toggle",n),ko(n,"popover",c);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ko(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=v1.get(o)||o,ko(n,o,c))}}function df(n,r,o,c,f,p){switch(o){case"style":Wg(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Vr(n,c):(typeof c=="number"||typeof c=="bigint")&&Vr(n,""+c);break;case"onScroll":c!=null&&Tt("scroll",n);break;case"onScrollEnd":c!=null&&Tt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ng.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=n[Ae]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,f);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ko(n,o,c)}}}function ve(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",n),Tt("load",n);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ut(n,r,p,b,o,null)}}f&&Ut(n,r,"srcSet",o.srcSet,o,null),c&&Ut(n,r,"src",o.src,o,null);return;case"input":Tt("invalid",n);var C=p=b=f=null,O=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var q=o[c];if(q!=null)switch(c){case"name":f=q;break;case"type":b=q;break;case"checked":O=q;break;case"defaultChecked":B=q;break;case"value":p=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ut(n,r,c,q,o,null)}}Vg(n,p,C,O,B,b,f,!1),zo(n);return;case"select":Tt("invalid",n),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:Ut(n,r,f,C,o,null)}r=p,o=b,n.multiple=!!c,r!=null?Fr(n,!!c,r,!1):o!=null&&Fr(n,!!c,o,!0);return;case"textarea":Tt("invalid",n),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ut(n,r,b,C,o,null)}qg(n,c,f,p),zo(n);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ut(n,r,O,c,o,null)}return;case"dialog":Tt("beforetoggle",n),Tt("toggle",n),Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":Tt("load",n);break;case"video":case"audio":for(c=0;c<Ns.length;c++)Tt(Ns[c],n);break;case"image":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"embed":case"source":case"link":Tt("error",n),Tt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ut(n,r,B,c,o,null)}return;default:if(Du(r)){for(q in o)o.hasOwnProperty(q)&&(c=o[q],c!==void 0&&df(n,r,q,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Ut(n,r,C,c,o,null))}function Px(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,C=null,O=null,B=null,q=null;for(Y in o){var Q=o[Y];if(o.hasOwnProperty(Y)&&Q!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=Q;default:c.hasOwnProperty(Y)||Ut(n,r,Y,null,c,Q)}}for(var U in c){var Y=c[U];if(Q=o[U],c.hasOwnProperty(U)&&(Y!=null||Q!=null))switch(U){case"type":p=Y;break;case"name":f=Y;break;case"checked":B=Y;break;case"defaultChecked":q=Y;break;case"value":b=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Y!==Q&&Ut(n,r,U,Y,c,Q)}}Ou(n,b,C,O,B,q,p,f);return;case"select":Y=b=C=U=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":Y=O;default:c.hasOwnProperty(p)||Ut(n,r,p,null,c,O)}for(f in c)if(p=c[f],O=o[f],c.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":U=p;break;case"defaultValue":C=p;break;case"multiple":b=p;default:p!==O&&Ut(n,r,f,p,c,O)}r=C,o=b,c=Y,U!=null?Fr(n,!!o,U,!1):!!c!=!!o&&(r!=null?Fr(n,!!o,r,!0):Fr(n,!!o,o?[]:"",!1));return;case"textarea":Y=U=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ut(n,r,C,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":U=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&Ut(n,r,b,f,c,p)}Gg(n,U,Y);return;case"option":for(var mt in o)if(U=o[mt],o.hasOwnProperty(mt)&&U!=null&&!c.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:Ut(n,r,mt,null,c,U)}for(O in c)if(U=c[O],Y=o[O],c.hasOwnProperty(O)&&U!==Y&&(U!=null||Y!=null))switch(O){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ut(n,r,O,U,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in o)U=o[ft],o.hasOwnProperty(ft)&&U!=null&&!c.hasOwnProperty(ft)&&Ut(n,r,ft,null,c,U);for(B in c)if(U=c[B],Y=o[B],c.hasOwnProperty(B)&&U!==Y&&(U!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,r));break;default:Ut(n,r,B,U,c,Y)}return;default:if(Du(r)){for(var Yt in o)U=o[Yt],o.hasOwnProperty(Yt)&&U!==void 0&&!c.hasOwnProperty(Yt)&&df(n,r,Yt,void 0,c,U);for(q in c)U=c[q],Y=o[q],!c.hasOwnProperty(q)||U===Y||U===void 0&&Y===void 0||df(n,r,q,U,c,Y);return}}for(var L in o)U=o[L],o.hasOwnProperty(L)&&U!=null&&!c.hasOwnProperty(L)&&Ut(n,r,L,null,c,U);for(Q in c)U=c[Q],Y=o[Q],!c.hasOwnProperty(Q)||U===Y||U==null&&Y==null||Ut(n,r,Q,U,c,Y)}var gf=null,pf=null;function Al(n){return n.nodeType===9?n:n.ownerDocument}function $0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function mf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vf=null;function Fx(){var n=window.event;return n&&n.type==="popstate"?n===vf?!1:(vf=n,!0):(vf=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,Vx=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(n){return Q0.resolve(null).then(n).catch(qx)}:I0;function qx(n){setTimeout(function(){throw n})}function Fi(n){return n==="head"}function Z0(n,r){var o=r,c=0,f=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var b=n.ownerDocument;if(o&1&&Us(b.documentElement),o&2&&Us(b.body),o&4)for(o=b.head,Us(o),b=o.firstChild;b;){var C=b.nextSibling,O=b.nodeName;b[ts]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=C}}if(f===0){n.removeChild(p),$s(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);$s(r)}function yf(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yf(o),_u(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function $x(n,r,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ts])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Sn(n.nextSibling),n===null)break}return null}function Wx(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Sn(n.nextSibling),n===null))return null;return n}function bf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Ix(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Sn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Sf=null;function K0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function J0(n,r,o){switch(r=Al(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Us(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);_u(n)}var hn=new Map,tv=new Set;function Rl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ri=J.d;J.d={f:Qx,r:Zx,D:Kx,C:Jx,L:t_,m:e_,X:i_,S:n_,M:r_};function Qx(){var n=ri.f(),r=_l();return n||r}function Zx(n){var r=Ur(n);r!==null&&r.tag===5&&r.type==="form"?Sm(r):ri.r(n)}var ba=typeof document>"u"?null:document;function ev(n,r,o){var c=ba;if(c&&typeof r=="string"&&r){var f=rn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),tv.has(f)||(tv.add(f),n={rel:n,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),ve(r,"link",n),he(r),c.head.appendChild(r)))}}function Kx(n){ri.D(n),ev("dns-prefetch",n,null)}function Jx(n,r){ri.C(n,r),ev("preconnect",n,r)}function t_(n,r,o){ri.L(n,r,o);var c=ba;if(c&&n&&r){var f='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+rn(o.imageSizes)+'"]')):f+='[href="'+rn(n)+'"]';var p=f;switch(r){case"style":p=Sa(n);break;case"script":p=xa(n)}hn.has(p)||(n=m({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),hn.set(p,n),c.querySelector(f)!==null||r==="style"&&c.querySelector(Ys(p))||r==="script"&&c.querySelector(Xs(p))||(r=c.createElement("link"),ve(r,"link",n),he(r),c.head.appendChild(r)))}}function e_(n,r){ri.m(n,r);var o=ba;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(n)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=xa(n)}if(!hn.has(p)&&(n=m({rel:"modulepreload",href:n},r),hn.set(p,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xs(p)))return}c=o.createElement("link"),ve(c,"link",n),he(c),o.head.appendChild(c)}}}function n_(n,r,o){ri.S(n,r,o);var c=ba;if(c&&n){var f=Yr(c).hoistableStyles,p=Sa(n);r=r||"default";var b=f.get(p);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(Ys(p)))C.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":r},o),(o=hn.get(p))&&xf(n,o);var O=b=c.createElement("link");he(O),ve(O,"link",n),O._p=new Promise(function(B,q){O.onload=B,O.onerror=q}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,jl(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:C},f.set(p,b)}}}function i_(n,r){ri.X(n,r);var o=ba;if(o&&n){var c=Yr(o).hoistableScripts,f=xa(n),p=c.get(f);p||(p=o.querySelector(Xs(f)),p||(n=m({src:n,async:!0},r),(r=hn.get(f))&&_f(n,r),p=o.createElement("script"),he(p),ve(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function r_(n,r){ri.M(n,r);var o=ba;if(o&&n){var c=Yr(o).hoistableScripts,f=xa(n),p=c.get(f);p||(p=o.querySelector(Xs(f)),p||(n=m({src:n,async:!0,type:"module"},r),(r=hn.get(f))&&_f(n,r),p=o.createElement("script"),he(p),ve(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function nv(n,r,o,c){var f=(f=at.current)?Rl(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Sa(o.href),o=Yr(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Sa(o.href);var p=Yr(f).hoistableStyles,b=p.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=f.querySelector(Ys(n)))&&!p._p&&(b.instance=p,b.state.loading=5),hn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hn.set(n,o),p||a_(f,n,o,b.state))),r&&c===null)throw Error(i(528,""));return b}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xa(o),o=Yr(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Sa(n){return'href="'+rn(n)+'"'}function Ys(n){return'link[rel="stylesheet"]['+n+"]"}function iv(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function a_(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),ve(r,"link",o),he(r),n.head.appendChild(r))}function xa(n){return'[src="'+rn(n)+'"]'}function Xs(n){return"script[async]"+n}function rv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+rn(o.href)+'"]');if(c)return r.instance=c,he(c),c;var f=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),he(c),ve(c,"style",f),jl(c,o.precedence,n),r.instance=c;case"stylesheet":f=Sa(o.href);var p=n.querySelector(Ys(f));if(p)return r.state.loading|=4,r.instance=p,he(p),p;c=iv(o),(f=hn.get(f))&&xf(c,f),p=(n.ownerDocument||n).createElement("link"),he(p);var b=p;return b._p=new Promise(function(C,O){b.onload=C,b.onerror=O}),ve(p,"link",c),r.state.loading|=4,jl(p,o.precedence,n),r.instance=p;case"script":return p=xa(o.src),(f=n.querySelector(Xs(p)))?(r.instance=f,he(f),f):(c=o,(f=hn.get(p))&&(c=m({},o),_f(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),he(f),ve(f,"link",c),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,jl(c,o.precedence,n));return r.instance}function jl(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===r)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function xf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function _f(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var kl=null;function av(n,r,o){if(kl===null){var c=new Map,f=kl=new Map;f.set(o,c)}else f=kl,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[ts]||p[_e]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=n+b;var C=c.get(b);C?C.push(p):c.set(b,[p])}}return c}function sv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function s_(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ov(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ps=null;function o_(){}function l_(n,r,o){if(Ps===null)throw Error(i(475));var c=Ps;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Sa(o.href),p=n.querySelector(Ys(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Ll.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=p,he(p);return}p=n.ownerDocument||n,o=iv(o),(f=hn.get(f))&&xf(o,f),p=p.createElement("link"),he(p);var b=p;b._p=new Promise(function(C,O){b.onload=C,b.onerror=O}),ve(p,"link",o),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Ll.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function c_(){if(Ps===null)throw Error(i(475));var n=Ps;return n.stylesheets&&n.count===0&&Cf(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Cf(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Ll(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zl=null;function Cf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zl=new Map,r.forEach(u_,n),zl=null,Ll.call(n))}function u_(n,r){if(!(r.state.loading&4)){var o=zl.get(n);if(o)var c=o.get(null);else{o=new Map,zl.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Ll.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Fs={$$typeof:M,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function h_(n,r,o,c,f,p,b,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.hiddenUpdates=yu(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function lv(n,r,o,c,f,p,b,C,O,B,q,Q){return n=new h_(n,r,o,b,C,O,B,Q),r=1,p===!0&&(r|=24),p=Ge(3,null,null,r),n.current=p,p.stateNode=n,r=ih(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},oh(p),n}function cv(n){return n?(n=Kr,n):Kr}function uv(n,r,o,c,f,p){f=cv(f),c.context===null?c.context=f:c.pendingContext=f,c=Ai(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Ri(n,c,r),o!==null&&(Qe(o,n,r),bs(o,n,r))}function hv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function wf(n,r){hv(n,r),(n=n.alternate)&&hv(n,r)}function fv(n){if(n.tag===13){var r=Zr(n,67108864);r!==null&&Qe(r,n,67108864),wf(n,67108864)}}var Bl=!0;function f_(n,r,o,c){var f=P.T;P.T=null;var p=J.p;try{J.p=2,Tf(n,r,o,c)}finally{J.p=p,P.T=f}}function d_(n,r,o,c){var f=P.T;P.T=null;var p=J.p;try{J.p=8,Tf(n,r,o,c)}finally{J.p=p,P.T=f}}function Tf(n,r,o,c){if(Bl){var f=Of(c);if(f===null)ff(n,r,c,Nl,o),gv(n,c);else if(p_(f,n,r,o,c))c.stopPropagation();else if(gv(n,c),r&4&&-1<g_.indexOf(n)){for(;f!==null;){var p=Ur(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=or(p.pendingLanes);if(b!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var O=1<<31-Fe(b);C.entanglements[1]|=O,b&=~O}zn(p),(zt&6)===0&&(Sl=Lt()+500,Bs(0))}}break;case 13:C=Zr(p,2),C!==null&&Qe(C,p,2),_l(),wf(p,2)}if(p=Of(c),p===null&&ff(n,r,c,Nl,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else ff(n,r,c,null,o)}}function Of(n){return n=Au(n),Ef(n)}var Nl=null;function Ef(n){if(Nl=null,n=Hr(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=u(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Nl=n,null}function dv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Fn:return 2;case Br:return 8;case sr:case Mo:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var Df=!1,Vi=null,Gi=null,qi=null,Vs=new Map,Gs=new Map,$i=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(n,r){switch(n){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Vs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(r.pointerId)}}function qs(n,r,o,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Ur(r),r!==null&&fv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function p_(n,r,o,c,f){switch(r){case"focusin":return Vi=qs(Vi,n,r,o,c,f),!0;case"dragenter":return Gi=qs(Gi,n,r,o,c,f),!0;case"mouseover":return qi=qs(qi,n,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Vs.set(p,qs(Vs.get(p)||null,n,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Gs.set(p,qs(Gs.get(p)||null,n,r,o,c,f)),!0}return!1}function pv(n){var r=Hr(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){n.blockedOn=r,l1(n.priority,function(){if(o.tag===13){var c=Ie();c=bu(c);var f=Zr(o,c);f!==null&&Qe(f,o,c),wf(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Of(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Mu=c,o.target.dispatchEvent(c),Mu=null}else return r=Ur(o),r!==null&&fv(r),n.blockedOn=o,!1;r.shift()}return!0}function mv(n,r,o){Hl(n)&&o.delete(r)}function m_(){Df=!1,Vi!==null&&Hl(Vi)&&(Vi=null),Gi!==null&&Hl(Gi)&&(Gi=null),qi!==null&&Hl(qi)&&(qi=null),Vs.forEach(mv),Gs.forEach(mv)}function Ul(n,r){n.blockedOn===r&&(n.blockedOn=null,Df||(Df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,m_)))}var Yl=null;function vv(n){Yl!==n&&(Yl=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Yl===n&&(Yl=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],f=n[r+2];if(typeof c!="function"){if(Ef(c||o)===null)continue;break}var p=Ur(o);p!==null&&(n.splice(r,3),r-=3,Oh(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function $s(n){function r(O){return Ul(O,n)}Vi!==null&&Ul(Vi,n),Gi!==null&&Ul(Gi,n),qi!==null&&Ul(qi,n),Vs.forEach(r),Gs.forEach(r);for(var o=0;o<$i.length;o++){var c=$i[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<$i.length&&(o=$i[0],o.blockedOn===null);)pv(o),o.blockedOn===null&&$i.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[Ae]||null;if(typeof p=="function")b||vv(o);else if(b){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Ae]||null)C=b.formAction;else if(Ef(f)!==null)continue}else C=b.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),vv(o)}}}function Mf(n){this._internalRoot=n}Xl.prototype.render=Mf.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Ie();uv(o,c,n,r,null,null)},Xl.prototype.unmount=Mf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;uv(n.current,2,null,n,null,null),_l(),r[Nr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Lg();n={blockedOn:null,target:n,priority:r};for(var o=0;o<$i.length&&r!==0&&r<$i[o].priority;o++);$i.splice(o,0,n),o===0&&pv(n)}};var yv=t.version;if(yv!=="19.1.0")throw Error(i(527,yv,"19.1.0"));J.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var v_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{Za=Pl.inject(v_),Pe=Pl}catch{}}return Ks.createRoot=function(n,r){if(!s(n))throw Error(i(299));var o=!1,c="",f=Lm,p=zm,b=Bm,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks)),r=lv(n,1,!1,null,null,o,c,f,p,b,C,null),n[Nr]=r.current,hf(n),new Mf(r)},Ks.hydrateRoot=function(n,r,o){if(!s(n))throw Error(i(299));var c=!1,f="",p=Lm,b=zm,C=Bm,O=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),r=lv(n,1,!0,r,o??null,c,f,p,b,C,O,B),r.context=cv(null),o=r.current,c=Ie(),c=bu(c),f=Ai(c),f.callback=null,Ri(o,f,c),o=c,r.current.lanes=o,Ja(r,o),zn(r),n[Nr]=r.current,hf(n),new Xl(r)},Ks.version="19.1.0",Ks}var Zv;function Z2(){if(Zv)return Wf.exports;Zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Wf.exports=Q2(),Wf.exports}var K2=Z2();const J2=kd(K2);var Js={},Kv;function tT(){if(Kv)return Js;Kv=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.parse=u,Js.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,S){const x=new l,_=y.length;if(_<2)return x;const w=(S==null?void 0:S.decode)||m;let T=0;do{const j=y.indexOf("=",T);if(j===-1)break;const M=y.indexOf(";",T),H=M===-1?_:M;if(j>H){T=y.lastIndexOf(";",j-1)+1;continue}const N=h(y,T,j),V=d(y,j,N),K=y.slice(N,V);if(x[K]===void 0){let W=h(y,j+1,H),nt=d(y,H,W);const lt=w(y.slice(W,nt));x[K]=lt}T=H+1}while(T<_);return x}function h(y,S,x){do{const _=y.charCodeAt(S);if(_!==32&&_!==9)return S}while(++S<x);return x}function d(y,S,x){for(;S>x;){const _=y.charCodeAt(--S);if(_!==32&&_!==9)return S+1}return x}function g(y,S,x){const _=(x==null?void 0:x.encode)||encodeURIComponent;if(!a.test(y))throw new TypeError(`argument name is invalid: ${y}`);const w=_(S);if(!t.test(w))throw new TypeError(`argument val is invalid: ${S}`);let T=y+"="+w;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return s.call(y)==="[object Date]"}return Js}tT();var Jv="popstate";function eT(a={}){function t(s,l){let{pathname:u="/",search:h="",hash:d=""}=kr(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yd("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(s,l){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=s.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof l=="string"?l:uo(l))}function i(s,l){Mn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iT(t,e,i,a)}function Wt(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Mn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nT(){return Math.random().toString(36).substring(2,10)}function ty(a,t){return{usr:a.state,key:a.key,idx:t}}function yd(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?kr(t):t,state:e,key:t&&t.key||i||nT()}}function uo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function kr(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function iT(a,t,e,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,u=s.history,h="POP",d=null,g=m();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function m(){return(u.state||{idx:null}).idx}function v(){h="POP";let w=m(),T=w==null?null:w-g;g=w,d&&d({action:h,location:_.location,delta:T})}function y(w,T){h="PUSH";let j=yd(_.location,w,T);e&&e(j,w),g=m()+1;let M=ty(j,g),H=_.createHref(j);try{u.pushState(M,"",H)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(H)}l&&d&&d({action:h,location:_.location,delta:1})}function S(w,T){h="REPLACE";let j=yd(_.location,w,T);e&&e(j,w),g=m();let M=ty(j,g),H=_.createHref(j);u.replaceState(M,"",H),l&&d&&d({action:h,location:_.location,delta:0})}function x(w){let T=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof w=="string"?w:uo(w);return j=j.replace(/ $/,"%20"),Wt(T,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,T)}let _={get action(){return h},get location(){return a(s,u)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Jv,v),d=w,()=>{s.removeEventListener(Jv,v),d=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:S,go(w){return u.go(w)}};return _}function Bb(a,t,e="/"){return rT(a,t,e,!1)}function rT(a,t,e,i){let s=typeof t=="string"?kr(t):t,l=gi(s.pathname||"/",e);if(l==null)return null;let u=Nb(a);aT(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let g=mT(l);h=gT(u[d],g,i)}return h}function Nb(a,t=[],e=[],i=""){let s=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(Wt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let g=hi([i,d.relativePath]),m=e.concat(d);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Nb(l.children,t,m,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:fT(g,l.index),routesMeta:m})};return a.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,u);else for(let d of Hb(l.path))s(l,u,d)}),t}function Hb(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let u=Hb(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),s&&h.push(...u),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function aT(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:dT(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var sT=/^:[\w-]+$/,oT=3,lT=2,cT=1,uT=10,hT=-2,ey=a=>a==="*";function fT(a,t){let e=a.split("/"),i=e.length;return e.some(ey)&&(i+=hT),t&&(i+=lT),e.filter(s=>!ey(s)).reduce((s,l)=>s+(sT.test(l)?oT:l===""?cT:uT),i)}function dT(a,t){return a.length===t.length&&a.slice(0,-1).every((i,s)=>i===t[s])?a[a.length-1]-t[t.length-1]:0}function gT(a,t,e=!1){let{routesMeta:i}=a,s={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],g=h===i.length-1,m=l==="/"?t:t.slice(l.length)||"/",v=kc({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},m),y=d.route;if(!v&&g&&e&&!i[i.length-1].route.index&&(v=kc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:hi([l,v.pathname]),pathnameBase:ST(hi([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=hi([l,v.pathnameBase]))}return u}function kc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=pT(a.path,a.caseSensitive,a.end),s=t.match(e);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:v},y)=>{if(m==="*"){let x=h[y]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const S=h[y];return v&&!S?g[m]=void 0:g[m]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:a}}function pT(a,t=!1,e=!0){Mn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],s="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),s+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":a!==""&&a!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function mT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function gi(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function vT(a,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof a=="string"?kr(a):a;return{pathname:e?e.startsWith("/")?e:yT(e,t):t,search:xT(i),hash:_T(s)}}function yT(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Zf(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bT(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ub(a){let t=bT(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Yb(a,t,e,i=!1){let s;typeof a=="string"?s=kr(a):(s={...a},Wt(!s.pathname||!s.pathname.includes("?"),Zf("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),Zf("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),Zf("#","search","hash",s)));let l=a===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}h=v>=0?t[v]:"/"}let d=vT(s,h),g=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||m)&&(d.pathname+="/"),d}var hi=a=>a.join("/").replace(/\/\/+/g,"/"),ST=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,_T=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function CT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var wT=["GET",...Xb];new Set(wT);var Xa=E.createContext(null);Xa.displayName="DataRouter";var su=E.createContext(null);su.displayName="DataRouterState";var Pb=E.createContext({isTransitioning:!1});Pb.displayName="ViewTransition";var TT=E.createContext(new Map);TT.displayName="Fetchers";var OT=E.createContext(null);OT.displayName="Await";var Pn=E.createContext(null);Pn.displayName="Navigation";var Co=E.createContext(null);Co.displayName="Location";var xi=E.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var ag=E.createContext(null);ag.displayName="RouteError";function ET(a,{relative:t}={}){Wt(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=E.useContext(Pn),{hash:s,pathname:l,search:u}=To(a,{relative:t}),h=l;return e!=="/"&&(h=l==="/"?e:hi([e,l])),i.createHref({pathname:h,search:u,hash:s})}function wo(){return E.useContext(Co)!=null}function Lr(){return Wt(wo(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Co).location}var Fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vb(a){E.useContext(Pn).static||E.useLayoutEffect(a)}function DT(){let{isDataRoute:a}=E.useContext(xi);return a?XT():MT()}function MT(){Wt(wo(),"useNavigate() may be used only in the context of a <Router> component.");let a=E.useContext(Xa),{basename:t,navigator:e}=E.useContext(Pn),{matches:i}=E.useContext(xi),{pathname:s}=Lr(),l=JSON.stringify(Ub(i)),u=E.useRef(!1);return Vb(()=>{u.current=!0}),E.useCallback((d,g={})=>{if(Mn(u.current,Fb),!u.current)return;if(typeof d=="number"){e.go(d);return}let m=Yb(d,JSON.parse(l),s,g.relative==="path");a==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:hi([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,l,s,a])}E.createContext(null);function To(a,{relative:t}={}){let{matches:e}=E.useContext(xi),{pathname:i}=Lr(),s=JSON.stringify(Ub(e));return E.useMemo(()=>Yb(a,JSON.parse(s),i,t==="path"),[a,s,i,t])}function AT(a,t){return Gb(a,t)}function Gb(a,t,e,i){var j;Wt(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=E.useContext(Pn),{matches:u}=E.useContext(xi),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",v=h&&h.route;{let M=v&&v.path||"";qb(g,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=Lr(),S;if(t){let M=typeof t=="string"?kr(t):t;Wt(m==="/"||((j=M.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=y;let x=S.pathname||"/",_=x;if(m!=="/"){let M=m.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=!l&&e&&e.matches&&e.matches.length>0?e.matches:Bb(a,{pathname:_});Mn(v||w!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=zT(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:hi([m,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:hi([m,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,e,i);return t&&T?E.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},T):T}function RT(){let a=YT(),t=CT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=E.createElement(E.Fragment,null,E.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),e?E.createElement("pre",{style:s},e):null,u)}var jT=E.createElement(RT,null),kT=class extends E.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?E.createElement(xi.Provider,{value:this.props.routeContext},E.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LT({routeContext:a,match:t,children:e}){let i=E.useContext(Xa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(xi.Provider,{value:a},e)}function zT(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let s=a,l=e==null?void 0:e.errors;if(l!=null){let d=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:m,errors:v}=e,y=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||y){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,g,m)=>{let v,y=!1,S=null,x=null;e&&(v=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||jT,u&&(h<0&&m===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):h===m&&(y=!0,x=g.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,m+1)),w=()=>{let T;return v?T=S:y?T=x:g.route.Component?T=E.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=d,E.createElement(LT,{match:g,routeContext:{outlet:d,matches:_,isDataRoute:e!=null},children:T})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?E.createElement(kT,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}function sg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(a){let t=E.useContext(Xa);return Wt(t,sg(a)),t}function NT(a){let t=E.useContext(su);return Wt(t,sg(a)),t}function HT(a){let t=E.useContext(xi);return Wt(t,sg(a)),t}function og(a){let t=HT(a),e=t.matches[t.matches.length-1];return Wt(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function UT(){return og("useRouteId")}function YT(){var i;let a=E.useContext(ag),t=NT("useRouteError"),e=og("useRouteError");return a!==void 0?a:(i=t.errors)==null?void 0:i[e]}function XT(){let{router:a}=BT("useNavigate"),t=og("useNavigate"),e=E.useRef(!1);return Vb(()=>{e.current=!0}),E.useCallback(async(s,l={})=>{Mn(e.current,Fb),e.current&&(typeof s=="number"?a.navigate(s):await a.navigate(s,{fromRouteId:t,...l}))},[a,t])}var ny={};function qb(a,t,e){!t&&!ny[a]&&(ny[a]=!0,Mn(!1,e))}E.memo(PT);function PT({routes:a,future:t,state:e}){return Gb(a,void 0,e,t)}function $b(a){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FT({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:l=!1}){Wt(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof e=="string"&&(e=kr(e));let{pathname:d="/",search:g="",hash:m="",state:v=null,key:y="default"}=e,S=E.useMemo(()=>{let x=gi(d,u);return x==null?null:{location:{pathname:x,search:g,hash:m,state:v,key:y},navigationType:i}},[u,d,g,m,v,y,i]);return Mn(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(Pn.Provider,{value:h},E.createElement(Co.Provider,{children:t,value:S}))}function VT({children:a,location:t}){return AT(bd(a),t)}function bd(a,t=[]){let e=[];return E.Children.forEach(a,(i,s)=>{if(!E.isValidElement(i))return;let l=[...t,s];if(i.type===E.Fragment){e.push.apply(e,bd(i.props.children,l));return}Wt(i.type===$b,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=bd(i.props.children,l)),e.push(u)}),e}var wc="get",Tc="application/x-www-form-urlencoded";function ou(a){return a!=null&&typeof a.tagName=="string"}function GT(a){return ou(a)&&a.tagName.toLowerCase()==="button"}function qT(a){return ou(a)&&a.tagName.toLowerCase()==="form"}function $T(a){return ou(a)&&a.tagName.toLowerCase()==="input"}function WT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function IT(a,t){return a.button===0&&(!t||t==="_self")&&!WT(a)}var Il=null;function QT(){if(Il===null)try{new FormData(document.createElement("form"),0),Il=!1}catch{Il=!0}return Il}var ZT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(a){return a!=null&&!ZT.has(a)?(Mn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):a}function KT(a,t){let e,i,s,l,u;if(qT(a)){let h=a.getAttribute("action");i=h?gi(h,t):null,e=a.getAttribute("method")||wc,s=Kf(a.getAttribute("enctype"))||Tc,l=new FormData(a)}else if(GT(a)||$T(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(i=d?gi(d,t):null,e=a.getAttribute("formmethod")||h.getAttribute("method")||wc,s=Kf(a.getAttribute("formenctype"))||Kf(h.getAttribute("enctype"))||Tc,l=new FormData(h,a),!QT()){let{name:g,type:m,value:v}=a;if(m==="image"){let y=g?`${g}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else g&&l.append(g,v)}}else{if(ou(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=wc,i=null,s=Tc,u=a}return l&&s==="text/plain"&&(u=l,l=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:l,body:u}}function lg(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function JT(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tO(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function eO(a,t,e){let i=await Promise.all(a.map(async s=>{let l=t.routes[s.route.id];if(l){let u=await JT(l,e);return u.links?u.links():[]}return[]}));return aO(i.flat(1).filter(tO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iy(a,t,e,i,s,l){let u=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>{var m;return e[g].pathname!==d.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,g)=>u(d,g)||h(d,g)):l==="data"?t.filter((d,g)=>{var v;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function nO(a,t,{includeHydrateFallback:e}={}){return iO(a.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function iO(a){return[...new Set(a)]}function rO(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function aO(a,t){let e=new Set;return new Set(t),a.reduce((i,s)=>{let l=JSON.stringify(rO(s));return e.has(l)||(e.add(l),i.push({key:l,link:s})),i},[])}var sO=new Set([100,101,204,205]);function oO(a,t){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":t&&gi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Wb(){let a=E.useContext(Xa);return lg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function lO(){let a=E.useContext(su);return lg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var cg=E.createContext(void 0);cg.displayName="FrameworkContext";function Ib(){let a=E.useContext(cg);return lg(a,"You must render this element inside a <HydratedRouter> element"),a}function cO(a,t){let e=E.useContext(cg),[i,s]=E.useState(!1),[l,u]=E.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:m,onTouchStart:v}=t,y=E.useRef(null);E.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let _=T=>{T.forEach(j=>{u(j.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[a]),E.useEffect(()=>{if(i){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[i]);let S=()=>{s(!0)},x=()=>{s(!1),u(!1)};return e?a!=="intent"?[l,y,{}]:[l,y,{onFocus:to(h,S),onBlur:to(d,x),onMouseEnter:to(g,S),onMouseLeave:to(m,x),onTouchStart:to(v,S)}]:[!1,y,{}]}function to(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function uO({page:a,...t}){let{router:e}=Wb(),i=E.useMemo(()=>Bb(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?E.createElement(fO,{page:a,matches:i,...t}):null}function hO(a){let{manifest:t,routeModules:e}=Ib(),[i,s]=E.useState([]);return E.useEffect(()=>{let l=!1;return eO(a,t,e).then(u=>{l||s(u)}),()=>{l=!0}},[a,t,e]),i}function fO({page:a,matches:t,...e}){let i=Lr(),{manifest:s,routeModules:l}=Ib(),{basename:u}=Wb(),{loaderData:h,matches:d}=lO(),g=E.useMemo(()=>iy(a,t,d,s,i,"data"),[a,t,d,s,i]),m=E.useMemo(()=>iy(a,t,d,s,i,"assets"),[a,t,d,s,i]),v=E.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let x=new Set,_=!1;if(t.forEach(T=>{var M;let j=s.routes[T.route.id];!j||!j.hasLoader||(!g.some(H=>H.route.id===T.route.id)&&T.route.id in h&&((M=l[T.route.id])!=null&&M.shouldRevalidate)||j.hasClientLoader?_=!0:x.add(T.route.id))}),x.size===0)return[];let w=oO(a,u);return _&&x.size>0&&w.searchParams.set("_routes",t.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[u,h,i,s,g,t,a,l]),y=E.useMemo(()=>nO(m,s),[m,s]),S=hO(m);return E.createElement(E.Fragment,null,v.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),y.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),S.map(({key:x,link:_})=>E.createElement("link",{key:x,..._})))}function dO(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qb&&(window.__reactRouterVersion="7.5.2")}catch{}function gO({basename:a,children:t,window:e}){let i=E.useRef();i.current==null&&(i.current=eT({window:e,v5Compat:!0}));let s=i.current,[l,u]=E.useState({action:s.action,location:s.location}),h=E.useCallback(d=>{E.startTransition(()=>u(d))},[u]);return E.useLayoutEffect(()=>s.listen(h),[s,h]),E.createElement(FT,{basename:a,children:t,location:l.location,navigationType:l.action,navigator:s})}var Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kb=E.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:l,replace:u,state:h,target:d,to:g,preventScrollReset:m,viewTransition:v,...y},S){let{basename:x}=E.useContext(Pn),_=typeof g=="string"&&Zb.test(g),w,T=!1;if(typeof g=="string"&&_&&(w=g,Qb))try{let nt=new URL(window.location.href),lt=g.startsWith("//")?new URL(nt.protocol+g):new URL(g),vt=gi(lt.pathname,x);lt.origin===nt.origin&&vt!=null?g=vt+lt.search+lt.hash:T=!0}catch{Mn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=ET(g,{relative:s}),[M,H,N]=cO(i,y),V=yO(g,{replace:u,state:h,target:d,preventScrollReset:m,relative:s,viewTransition:v});function K(nt){t&&t(nt),nt.defaultPrevented||V(nt)}let W=E.createElement("a",{...y,...N,href:w||j,onClick:T||l?t:K,ref:dO(S,H),target:d,"data-discover":!_&&e==="render"?"true":void 0});return M&&!_?E.createElement(E.Fragment,null,W,E.createElement(uO,{page:j})):W});Kb.displayName="Link";var pO=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:l,to:u,viewTransition:h,children:d,...g},m){let v=To(u,{relative:g.relative}),y=Lr(),S=E.useContext(su),{navigator:x,basename:_}=E.useContext(Pn),w=S!=null&&CO(v)&&h===!0,T=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,j=y.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(j=j.toLowerCase(),M=M?M.toLowerCase():null,T=T.toLowerCase()),M&&_&&(M=gi(M,_)||M);const H=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=j===T||!s&&j.startsWith(T)&&j.charAt(H)==="/",V=M!=null&&(M===T||!s&&M.startsWith(T)&&M.charAt(T.length)==="/"),K={isActive:N,isPending:V,isTransitioning:w},W=N?t:void 0,nt;typeof i=="function"?nt=i(K):nt=[i,N?"active":null,V?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let lt=typeof l=="function"?l(K):l;return E.createElement(Kb,{...g,"aria-current":W,className:nt,ref:m,style:lt,to:u,viewTransition:h},typeof d=="function"?d(K):d)});pO.displayName="NavLink";var mO=E.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:l,method:u=wc,action:h,onSubmit:d,relative:g,preventScrollReset:m,viewTransition:v,...y},S)=>{let x=xO(),_=_O(h,{relative:g}),w=u.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&Zb.test(h),j=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,N=(H==null?void 0:H.getAttribute("formmethod"))||u;x(H||M.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:s,state:l,relative:g,preventScrollReset:m,viewTransition:v})};return E.createElement("form",{ref:S,method:w,action:_,onSubmit:i?d:j,...y,"data-discover":!T&&a==="render"?"true":void 0})});mO.displayName="Form";function vO(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jb(a){let t=E.useContext(Xa);return Wt(t,vO(a)),t}function yO(a,{target:t,replace:e,state:i,preventScrollReset:s,relative:l,viewTransition:u}={}){let h=DT(),d=Lr(),g=To(a,{relative:l});return E.useCallback(m=>{if(IT(m,t)){m.preventDefault();let v=e!==void 0?e:uo(d)===uo(g);h(a,{replace:v,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[d,h,g,e,i,t,a,s,l,u])}var bO=0,SO=()=>`__${String(++bO)}__`;function xO(){let{router:a}=Jb("useSubmit"),{basename:t}=E.useContext(Pn),e=UT();return E.useCallback(async(i,s={})=>{let{action:l,method:u,encType:h,formData:d,body:g}=KT(i,t);if(s.navigate===!1){let m=s.fetcherKey||SO();await a.fetch(m,e,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await a.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[a,t,e])}function _O(a,{relative:t}={}){let{basename:e}=E.useContext(Pn),i=E.useContext(xi);Wt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...To(a||".",{relative:t})},u=Lr();if(a==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let m=h.toString();l.search=m?`?${m}`:""}}return(!a||a===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:hi([e,l.pathname])),uo(l)}function CO(a,t={}){let e=E.useContext(Pb);Wt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jb("useViewTransitionState"),s=To(a,{relative:t.relative});if(!e.isTransitioning)return!1;let l=gi(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=gi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return kc(s.pathname,u)!=null||kc(s.pathname,l)!=null}new TextEncoder;[...sO];function R(a,t,e){return(t=function(i){var s=function(l,u){if(typeof l!="object"||!l)return l;var h=l[Symbol.toPrimitive];if(h!==void 0){var d=h.call(l,u);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(l)}(i,"string");return typeof s=="symbol"?s:s+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function ry(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),e.push.apply(e,i)}return e}function k(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(e),!0).forEach(function(i){R(a,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ry(Object(e)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))})}return a}function Gt(a,t){if(a==null)return{};var e,i,s=function(u,h){if(u==null)return{};var d={};for(var g in u)if({}.hasOwnProperty.call(u,g)){if(h.indexOf(g)>=0)continue;d[g]=u[g]}return d}(a,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(i=0;i<l.length;i++)e=l[i],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(a,e)&&(s[e]=a[e])}return s}function er(a,t){return t||(t=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(t)}}))}class ay{constructor(){R(this,"browserShadowBlurConstant",1),R(this,"DPI",96),R(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),R(this,"perfLimitSizeTotal",2097152),R(this,"maxCacheSideLimit",4096),R(this,"minCacheSideLimit",256),R(this,"disableStyleCopyPaste",!1),R(this,"enableGLFiltering",!0),R(this,"textureSize",4096),R(this,"forceGLPutImageData",!1),R(this,"cachesBoundsOfCurve",!1),R(this,"fontPaths",{}),R(this,"NUM_FRACTION_DIGITS",4)}}const Rt=new class extends ay{constructor(a){super(),this.configure(a)}configure(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,a)}addFonts(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=k(k({},this.fontPaths),a)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{delete this.fontPaths[a]})}clearFonts(){this.fontPaths={}}restoreDefaults(a){const t=new ay,e=(a==null?void 0:a.reduce((i,s)=>(i[s]=t[s],i),{}))||t;this.configure(e)}},Ki=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return console[a]("fabric",...e)};class Yn extends Error{constructor(t,e){super("fabric: ".concat(t),e)}}class wO extends Yn{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}}class TO{}class OO extends TO{testPrecision(t,e){const i="precision ".concat(e,` float;
void main(){}`),s=t.createShader(t.FRAGMENT_SHADER);return!!s&&(t.shaderSource(s,i),t.compileShader(s),!!t.getShaderParameter(s,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(e,i)),e.getExtension("WEBGL_lose_context").loseContext(),Ki("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const EO={};let sy;const Xn=()=>sy||(sy={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new OO,dispose(){},copyPasteData:EO}),Pa=()=>Xn().document,ug=()=>Xn().window,tS=()=>{var a;return Math.max((a=Rt.devicePixelRatio)!==null&&a!==void 0?a:ug().devicePixelRatio,1)},ro=new class{constructor(){R(this,"charWidthsCache",{}),R(this,"boundsOfCurveCache",{})}getFontCache(a){let{fontFamily:t,fontStyle:e,fontWeight:i}=a;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const s=this.charWidthsCache[t],l="".concat(e.toLowerCase(),"_").concat((i+"").toLowerCase());return s[l]||(s[l]={}),s[l]}clearFontCache(a){(a=(a||"").toLowerCase())?this.charWidthsCache[a]&&delete this.charWidthsCache[a]:this.charWidthsCache={}}limitDimsByArea(a){const{perfLimitSizeTotal:t}=Rt,e=Math.sqrt(t*a);return[Math.floor(e),Math.floor(t/e)]}},Sd="6.6.4";function Oc(){}const Oo=Math.PI/2,Lc=2*Math.PI,hg=Math.PI/180,Me=Object.freeze([1,0,0,1,0,0]),fg=16,Ii=.4477152502,xt="center",kt="left",Be="top",xd="bottom",te="right",Ne="none",dg=/\r?\n/,eS="moving",lu="scaling",nS="rotating",gg="rotate",iS="skewing",ho="resizing",DO="modifyPoly",MO="modifyPath",zc="changed",cu="scale",Ue="scaleX",pn="scaleY",Fa="skewX",Va="skewY",oe="fill",He="stroke",Bc="modified",Ea="json",Jf="svg",rt=new class{constructor(){this[Ea]=new Map,this[Jf]=new Map}has(a){return this[Ea].has(a)}getClass(a){const t=this[Ea].get(a);if(!t)throw new Yn("No class registered for ".concat(a));return t}setClass(a,t){t?this[Ea].set(t,a):(this[Ea].set(a.type,a),this[Ea].set(a.type.toLowerCase(),a))}getSVGClass(a){return this[Jf].get(a)}setSVGClass(a,t){this[Jf].set(t??a.type.toLowerCase(),a)}},Nc=new class extends Array{remove(a){const t=this.indexOf(a);t>-1&&this.splice(t,1)}cancelAll(){const a=this.splice(0);return a.forEach(t=>t.abort()),a}cancelByCanvas(a){if(!a)return[];const t=this.filter(e=>{var i;return e.target===a||typeof e.target=="object"&&((i=e.target)===null||i===void 0?void 0:i.canvas)===a});return t.forEach(e=>e.abort()),t}cancelByTarget(a){if(!a)return[];const t=this.filter(e=>e.target===a);return t.forEach(e=>e.abort()),t}};class AO{constructor(){R(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[s,l]=i;this.on(s,l)}),()=>this.off(t);if(e){const i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(e),()=>this.off(i,e)}return()=>!1}once(t,e){if(typeof t=="object"){const i=[];return Object.entries(t).forEach(s=>{let[l,u]=s;i.push(this.once(l,u))}),()=>i.forEach(s=>s())}if(e){const i=this.on(t,function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];e.call(this,...l),i()});return i}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const i=this.__eventListeners[t],s=i.indexOf(e);s>-1&&i.splice(s,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(const i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[s,l]=i;this._removeEventListener(s,l)}):this._removeEventListener(t,e)}fire(t,e){var i;if(!this.__eventListeners)return;const s=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(s)for(let l=0;l<s.length;l++)s[l].call(this,e||{})}}const Ma=(a,t)=>{const e=a.indexOf(t);return e!==-1&&a.splice(e,1),a},pi=a=>{if(a===0)return 1;switch(Math.abs(a)/Oo){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},mi=a=>{if(a===0)return 0;const t=a/Oo,e=Math.sign(a);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(a)};class X{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new X(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new X(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new X(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new X(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new X(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new X(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new X(this.x/t.x,this.y/t.y)}scalarDivide(t){return new X(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new X(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new X(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new X(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new X(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pg;const i=mi(t),s=pi(t),l=this.subtract(e);return new X(l.x*s-l.y*i,l.x*i+l.y*s).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new X(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}}const pg=new X(0,0),Ec=a=>!!a&&Array.isArray(a._objects);function rS(a){class t extends a{constructor(){super(...arguments),R(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];const u=this._objects.push(...s);return s.forEach(h=>this._onObjectAdded(h)),u}insertAt(i){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return this._objects.splice(i,0,...l),l.forEach(h=>this._onObjectAdded(h)),this._objects.length}remove(){const i=this._objects,s=[];for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return u.forEach(d=>{const g=i.indexOf(d);g!==-1&&(i.splice(g,1),s.push(d),this._onObjectRemoved(d))}),s}forEachObject(i){this.getObjects().forEach((s,l,u)=>i(s,l,u))}getObjects(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return s.length===0?[...this._objects]:this._objects.filter(u=>u.isType(...s))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,s){return!!this._objects.includes(i)||!!s&&this._objects.some(l=>l instanceof t&&l.contains(i,!0))}complexity(){return this._objects.reduce((i,s)=>i+=s.complexity?s.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(Ma(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(Ma(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,s){if(!i)return!1;const l=this._objects.indexOf(i);if(l!==0){const u=this.findNewLowerIndex(i,l,s);return Ma(this._objects,i),this._objects.splice(u,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,s){if(!i)return!1;const l=this._objects.indexOf(i);if(l!==this._objects.length-1){const u=this.findNewUpperIndex(i,l,s);return Ma(this._objects,i),this._objects.splice(u,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,s){return i!==this._objects[s]&&(Ma(this._objects,i),this._objects.splice(s,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,s,l){let u;if(l){u=s;for(let h=s-1;h>=0;--h)if(i.isOverlapping(this._objects[h])){u=h;break}}else u=s-1;return u}findNewUpperIndex(i,s,l){let u;if(l){u=s;for(let h=s+1;h<this._objects.length;++h)if(i.isOverlapping(this._objects[h])){u=h;break}}else u=s+1;return u}collectObjects(i){let{left:s,top:l,width:u,height:h}=i,{includeIntersecting:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=[],m=new X(s,l),v=m.add(new X(u,h));for(let y=this._objects.length-1;y>=0;y--){const S=this._objects[y];S.selectable&&S.visible&&(d&&S.intersectsWithRect(m,v)||S.isContainedWithinRect(m,v)||d&&S.containsPoint(m)||d&&S.containsPoint(v))&&g.push(S)}return g}}return t}class aS extends AO{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}}function Dc(a){return ug().requestAnimationFrame(a)}function RO(a){return ug().cancelAnimationFrame(a)}let jO=0;const Ji=()=>jO++,An=()=>{const a=Pa().createElement("canvas");if(!a||a.getContext===void 0)throw new Yn("Failed to create `canvas` element");return a},kO=()=>Pa().createElement("img"),mn=a=>{const t=An();return t.width=a.width,t.height=a.height,t},sS=(a,t,e)=>a.toDataURL("image/".concat(t),e),oS=(a,t,e)=>new Promise((i,s)=>{a.toBlob(i,"image/".concat(t),e)}),ee=a=>a*hg,vi=a=>a/hg,LO=a=>a.every((t,e)=>t===Me[e]),ze=(a,t,e)=>new X(a).transform(t,e),On=a=>{const t=1/(a[0]*a[3]-a[1]*a[2]),e=[t*a[3],-t*a[1],-t*a[2],t*a[0],0,0],{x:i,y:s}=new X(a[4],a[5]).transform(e,!0);return e[4]=-i,e[5]=-s,e},ye=(a,t,e)=>[a[0]*t[0]+a[2]*t[1],a[1]*t[0]+a[3]*t[1],a[0]*t[2]+a[2]*t[3],a[1]*t[2]+a[3]*t[3],e?0:a[0]*t[4]+a[2]*t[5]+a[4],e?0:a[1]*t[4]+a[3]*t[5]+a[5]],mg=(a,t)=>a.reduceRight((e,i)=>i&&e?ye(i,e,t):i||e,void 0)||Me.concat(),lS=a=>{let[t,e]=a;return Math.atan2(e,t)},Hc=a=>{const t=lS(a),e=Math.pow(a[0],2)+Math.pow(a[1],2),i=Math.sqrt(e),s=(a[0]*a[3]-a[2]*a[1])/i,l=Math.atan2(a[0]*a[2]+a[1]*a[3],e);return{angle:vi(t),scaleX:i,scaleY:s,skewX:vi(l),skewY:0,translateX:a[4]||0,translateY:a[5]||0}},Eo=function(a){return[1,0,0,1,a,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Ga(){let{angle:a=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=ee(a),s=pi(i),l=mi(i);return[s,l,-l,s,t?t-(s*t-l*e):0,e?e-(l*t+s*e):0]}const vg=function(a){return[a,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,0,0]},cS=a=>Math.tan(ee(a)),uS=a=>[1,0,cS(a),1,0,0],hS=a=>[1,cS(a),0,1,0,0],uu=a=>{let{scaleX:t=1,scaleY:e=1,flipX:i=!1,flipY:s=!1,skewX:l=0,skewY:u=0}=a,h=vg(i?-t:t,s?-e:e);return l&&(h=ye(h,uS(l),!0)),u&&(h=ye(h,hS(u),!0)),h},zO=a=>{const{translateX:t=0,translateY:e=0,angle:i=0}=a;let s=Eo(t,e);i&&(s=ye(s,Ga({angle:i})));const l=uu(a);return LO(l)||(s=ye(s,l)),s},Mc=function(a){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,s){if(t&&t.aborted)return s(new wO("loadImage"));const l=kO();let u;t&&(u=function(d){l.src="",s(d)},t.addEventListener("abort",u,{once:!0}));const h=function(){l.onload=l.onerror=null,u&&(t==null||t.removeEventListener("abort",u)),i(l)};a?(l.onload=h,l.onerror=function(){u&&(t==null||t.removeEventListener("abort",u)),s(new Yn("Error loading ".concat(l.src)))},e&&(l.crossOrigin=e),l.src=a):h()})},fo=function(a){let{signal:t,reviver:e=Oc}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,s)=>{const l=[];t&&t.addEventListener("abort",s,{once:!0}),Promise.all(a.map(u=>rt.getClass(u.type).fromObject(u,{signal:t}).then(h=>(e(u,h),l.push(h),h)))).then(i).catch(u=>{l.forEach(h=>{h.dispose&&h.dispose()}),s(u)}).finally(()=>{t&&t.removeEventListener("abort",s)})})},hu=function(a){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,i)=>{const s=[];t&&t.addEventListener("abort",i,{once:!0});const l=Object.values(a).map(h=>h&&h.type&&rt.has(h.type)?fo([h],{signal:t}).then(d=>{let[g]=d;return s.push(g),g}):h),u=Object.keys(a);Promise.all(l).then(h=>h.reduce((d,g,m)=>(d[u[m]]=g,d),{})).then(e).catch(h=>{s.forEach(d=>{d.dispose&&d.dispose()}),i(h)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},qa=function(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in a&&(t[e]=a[e]),t),{})},yg=(a,t)=>Object.keys(a).reduce((e,i)=>(t(a[i],i,a)&&(e[i]=a[i]),e),{}),Vt=(a,t)=>parseFloat(Number(a).toFixed(t)),go=a=>"matrix("+a.map(t=>Vt(t,Rt.NUM_FRACTION_DIGITS)).join(" ")+")",dn=a=>!!a&&a.toLive!==void 0,oy=a=>!!a&&typeof a.toObject=="function",ly=a=>!!a&&a.offsetX!==void 0&&"source"in a,Tr=a=>!!a&&"multiSelectionStacking"in a;function fS(a){const t=a&&wn(a);let e=0,i=0;if(!a||!t)return{left:e,top:i};let s=a;const l=t.documentElement,u=t.body||{scrollLeft:0,scrollTop:0};for(;s&&(s.parentNode||s.host)&&(s=s.parentNode||s.host,s===t?(e=u.scrollLeft||l.scrollLeft||0,i=u.scrollTop||l.scrollTop||0):(e+=s.scrollLeft||0,i+=s.scrollTop||0),s.nodeType!==1||s.style.position!=="fixed"););return{left:e,top:i}}const wn=a=>a.ownerDocument||null,dS=a=>{var t;return((t=a.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},gS=function(a,t,e){let{width:i,height:s}=e,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;a.width=i,a.height=s,l>1&&(a.setAttribute("width",(i*l).toString()),a.setAttribute("height",(s*l).toString()),t.scale(l,l))},_d=(a,t)=>{let{width:e,height:i}=t;e&&(a.style.width=typeof e=="number"?"".concat(e,"px"):e),i&&(a.style.height=typeof i=="number"?"".concat(i,"px"):i)};function cy(a){return a.onselectstart!==void 0&&(a.onselectstart=()=>!1),a.style.userSelect=Ne,a}class pS{constructor(t){R(this,"_originalCanvasStyle",void 0),R(this,"lower",void 0);const e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){const e=(i=t)&&i.getContext!==void 0?t:t&&Pa().getElementById(t)||An();var i;if(e.hasAttribute("data-fabric"))throw new Yn("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:i}=t;const{el:s}=this.lower;s.classList.remove("lower-canvas"),s.removeAttribute("data-fabric"),s.setAttribute("width","".concat(e)),s.setAttribute("height","".concat(i)),s.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:i,ctx:s}=this.lower;gS(i,s,t,e)}setCSSDimensions(t){_d(this.lower.el,t)}calcOffset(){return function(t){var e;const i=t&&wn(t),s={left:0,top:0};if(!i)return s;const l=((e=dS(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};s.left+=parseInt(l.borderLeftWidth,10)||0,s.top+=parseInt(l.borderTopWidth,10)||0,s.left+=parseInt(l.paddingLeft,10)||0,s.top+=parseInt(l.paddingTop,10)||0;let u={left:0,top:0};const h=i.documentElement;t.getBoundingClientRect!==void 0&&(u=t.getBoundingClientRect());const d=fS(t);return{left:u.left+d.left-(h.clientLeft||0)+s.left,top:u.top+d.top-(h.clientTop||0)+s.top}}(this.lower.el)}dispose(){Xn().dispose(this.lower.el),delete this.lower}}const BO={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Me]};class Do extends rS(aS){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return Do.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new pS(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const l=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),l}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(Ki("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?tS():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){const s=k({width:this.width,height:this.height},t);this.elements.setDimensions(s,this.getRetinaScaling()),this.hasLostContext=!0,this.width=s.width,this.height=s.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const i=t,s=[...this.viewportTransform],l=ze(t,On(s));s[0]=e,s[3]=e;const u=ze(l,s);s[4]+=i.x-u.x,s[5]+=i.y-u.y,this.setViewportTransform(s)}setZoom(t){this.zoomToPoint(new X(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new X(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Dc(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,e=this.height,i=On(this.viewportTransform),s=ze({x:0,y:0},i),l=ze({x:t,y:e},i),u=s.min(l),h=s.max(l);return this.vptCoords={tl:u,tr:new X(h.x,u.y),bl:new X(u.x,h.y),br:h}}cancelRequestedRender(){this.nextRenderHandle&&(RO(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const i=this.viewportTransform,s=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),s&&(s._set("canvas",this),s.shouldCache(),s._transformDone=!0,s.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,s)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let i=0,s=e.length;i<s;++i)e[i]&&e[i].render(t)}_renderBackgroundOrOverlay(t,e){const i=this["".concat(e,"Color")],s=this["".concat(e,"Image")],l=this.viewportTransform,u=this["".concat(e,"Vpt")];if(!i&&!s)return;const h=dn(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=h?i.toLive(t):i,u&&t.transform(...l),h){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);const d=i.gradientTransform||i.patternTransform;d&&t.transform(...d)}t.fill(),t.restore()}if(s){t.save();const{skipOffscreen:d}=this;this.skipOffscreen=u,u&&t.transform(...l),s.render(t),this.skipOffscreen=d,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new X(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new X(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new X(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new X(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new X(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ze(this.getCenterPoint(),On(this.viewportTransform))}_centerObject(t,e){t.setXY(e,xt,xt),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){const i=this.clipPath,s=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return k(k(k({version:Sd},qa(this,e)),{},{objects:this._objects.filter(l=>!l.excludeFromExport).map(l=>this._toObject(l,t,e))},this.__serializeBgOverlay(t,e)),s?{clipPath:s}:null)}_toObject(t,e,i){let s;this.includeDefaultValues||(s=t.includeDefaultValues,t.includeDefaultValues=!1);const l=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!s),l}__serializeBgOverlay(t,e){const i={},s=this.backgroundImage,l=this.overlayImage,u=this.backgroundColor,h=this.overlayColor;return dn(u)?u.excludeFromExport||(i.background=u.toObject(e)):u&&(i.background=u),dn(h)?h.excludeFromExport||(i.overlay=h.toObject(e)):h&&(i.overlay=h),s&&!s.excludeFromExport&&(i.backgroundImage=this._toObject(s,t,e)),l&&!l.excludeFromExport&&(i.overlayImage=this._toObject(l,t,e)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){const i=e.width||"".concat(this.width),s=e.height||"".concat(this.height),l=Rt.NUM_FRACTION_DIGITS,u=e.viewBox;let h;if(u)h='viewBox="'.concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height,'" ');else if(this.svgViewportTransformation){const d=this.viewportTransform;h='viewBox="'.concat(Vt(-d[4]/d[0],l)," ").concat(Vt(-d[5]/d[3],l)," ").concat(Vt(this.width/d[0],l)," ").concat(Vt(this.height/d[3],l),'" ')}else h='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',s,'" ',h,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Sd,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(Ji()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const e=this["".concat(t,"Color")];if(dn(e)){const i=this["".concat(t,"Vpt")],s=this.viewportTransform,l={isType:()=>!1,width:this.width/(i?s[0]:1),height:this.height/(i?s[3]:1)};return e.toSVG(l,{additionalTransform:i?go(s):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],e={},i=Rt.fontPaths;this._objects.forEach(function l(u){t.push(u),Ec(u)&&u._objects.forEach(l)}),t.forEach(l=>{if(!(u=l)||typeof u._renderText!="function")return;var u;const{styles:h,fontFamily:d}=l;!e[d]&&i[d]&&(e[d]=!0,h&&Object.values(h).forEach(g=>{Object.values(g).forEach(m=>{let{fontFamily:v=""}=m;!e[v]&&i[v]&&(e[v]=!0)})}))});const s=Object.keys(e).map(l=>`		@font-face {
			font-family: '`.concat(l,`';
			src: url('`).concat(i[l],`');
		}
`)).join("");return s?`	<style type="text/css"><![CDATA[
`.concat(s,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,e)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){const s=this[e];s&&!s.excludeFromExport&&s.toSVG&&t.push(s.toSVG(i))}_setSVGBgOverlayColor(t,e){const i=this["".concat(e,"Color")];if(i)if(dn(i)){const s=i.repeat||"",l=this.width,u=this.height,h=this["".concat(e,"Vpt")]?go(On(this.viewportTransform)):"";t.push('<rect transform="'.concat(h," translate(").concat(l/2,",").concat(u/2,')" x="').concat(i.offsetX-l/2,'" y="').concat(i.offsetY-u/2,'" width="').concat(s!=="repeat-y"&&s!=="no-repeat"||!ly(i)?l:i.source.width,'" height="').concat(s!=="repeat-x"&&s!=="no-repeat"||!ly(i)?u:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Yn("`json` is undefined"));const s=typeof t=="string"?JSON.parse(t):t,{objects:l=[],backgroundImage:u,background:h,overlayImage:d,overlay:g,clipPath:m}=s,v=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([fo(l,{reviver:e,signal:i}),hu({backgroundImage:u,backgroundColor:h,overlayImage:d,overlayColor:g,clipPath:m},{signal:i})]).then(y=>{let[S,x]=y;return this.clear(),this.add(...S),this.set(s),this.set(x),this.renderOnAddRemove=v,this})}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=mn(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:i=1,multiplier:s=1,enableRetinaScaling:l=!1}=t,u=s*(l?this.getRetinaScaling():1);return sS(this.toCanvasElement(u,t),e,i)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:i=1,multiplier:s=1,enableRetinaScaling:l=!1}=t,u=s*(l?this.getRetinaScaling():1);return oS(this.toCanvasElement(u,t),e,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:i,left:s,top:l,filter:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=(e||this.width)*t,d=(i||this.height)*t,g=this.getZoom(),m=this.width,v=this.height,y=this.skipControlsDrawing,S=g*t,x=this.viewportTransform,_=[S,0,0,S,(x[4]-(s||0))*t,(x[5]-(l||0))*t],w=this.enableRetinaScaling,T=mn({width:h,height:d}),j=u?this._objects.filter(M=>u(M)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=_,this.width=h,this.height=d,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(T.getContext("2d"),j),this.viewportTransform=x,this.width=m,this.height=v,this.calcViewportBoundaries(),this.enableRetinaScaling=w,this.skipControlsDrawing=y,T}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Nc.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{const i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}R(Do,"ownDefaults",BO);const NO=["touchstart","touchmove","touchend"],HO=a=>{const t=fS(a.target),e=function(i){const s=i.changedTouches;return s&&s[0]?s[0]:i}(a);return new X(e.clientX+t.left,e.clientY+t.top)},Cd=a=>NO.includes(a.type)||a.pointerType==="touch",uy=a=>{a.preventDefault(),a.stopPropagation()},fi=a=>{let t=0,e=0,i=0,s=0;for(let l=0,u=a.length;l<u;l++){const{x:h,y:d}=a[l];(h>i||!l)&&(i=h),(h<t||!l)&&(t=h),(d>s||!l)&&(s=d),(d<e||!l)&&(e=d)}return{left:t,top:e,width:i-t,height:s-e}},UO=["translateX","translateY","scaleX","scaleY"],YO=(a,t)=>Uc(a,ye(t,a.calcOwnMatrix())),Uc=(a,t)=>{const e=Hc(t),{translateX:i,translateY:s,scaleX:l,scaleY:u}=e,h=Gt(e,UO),d=new X(i,s);a.flipX=!1,a.flipY=!1,Object.assign(a,h),a.set({scaleX:l,scaleY:u}),a.setPositionByOrigin(d,xt,xt)},XO=a=>{a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},mS=a=>({scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}),bg=(a,t,e)=>{const i=a/2,s=t/2,l=[new X(-i,-s),new X(i,-s),new X(-i,s),new X(i,s)].map(h=>h.transform(e)),u=fi(l);return new X(u.width,u.height)},fu=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Me;return ye(On(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me),a)},La=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Me;return a.transform(fu(t,e))},PO=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Me;return a.transform(fu(t,e),!0)},FO=(a,t,e)=>{const i=fu(t,e);return Uc(a,ye(i,a.calcOwnMatrix())),i},vS=(a,t)=>{var e;const{transform:{target:i}}=t;(e=i.canvas)===null||e===void 0||e.fire("object:".concat(a),k(k({},t),{},{target:i})),i.fire(a,t)},VO={left:-.5,top:-.5,center:0,bottom:.5,right:.5},re=a=>typeof a=="string"?VO[a]:a-.5,Yc="not-allowed";function yS(a){return re(a.originX)===re(xt)&&re(a.originY)===re(xt)}function hy(a){return .5-re(a)}const Dn=(a,t)=>a[t],bS=(a,t,e,i)=>({e:a,transform:t,pointer:new X(e,i)});function SS(a,t){const e=a.getTotalAngle()+vi(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Sg(a,t,e,i,s){var l;let{target:u,corner:h}=a;const d=u.controls[h],g=((l=u.canvas)===null||l===void 0?void 0:l.getZoom())||1,m=u.padding/g,v=function(y,S,x,_){const w=y.getRelativeCenterPoint(),T=x!==void 0&&_!==void 0?y.translateToGivenOrigin(w,xt,xt,x,_):new X(y.left,y.top);return(y.angle?S.rotate(-ee(y.angle),w):S).subtract(T)}(u,new X(i,s),t,e);return v.x>=m&&(v.x-=m),v.x<=-m&&(v.x+=m),v.y>=m&&(v.y-=m),v.y<=m&&(v.y+=m),v.x-=d.offsetX,v.y-=d.offsetY,v}const GO=(a,t,e,i)=>{const{target:s,offsetX:l,offsetY:u}=t,h=e-l,d=i-u,g=!Dn(s,"lockMovementX")&&s.left!==h,m=!Dn(s,"lockMovementY")&&s.top!==d;return g&&s.set(kt,h),m&&s.set(Be,d),(g||m)&&vS(eS,bS(a,t,e,i)),g||m},fy={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},td=(a,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+6*(t-a)*e:e<.5?t:e<2/3?a+(t-a)*(2/3-e)*6:a),dy=(a,t,e,i)=>{a/=255,t/=255,e/=255;const s=Math.max(a,t,e),l=Math.min(a,t,e);let u,h;const d=(s+l)/2;if(s===l)u=h=0;else{const g=s-l;switch(h=d>.5?g/(2-s-l):g/(s+l),s){case a:u=(t-e)/g+(t<e?6:0);break;case t:u=(e-a)/g+2;break;case e:u=(a-t)/g+4}u/=6}return[Math.round(360*u),Math.round(100*h),Math.round(100*d),i]},gy=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(a)/(a.endsWith("%")?100:1)},Ql=a=>Math.min(Math.round(a),255).toString(16).toUpperCase().padStart(2,"0"),py=a=>{let[t,e,i,s=1]=a;const l=Math.round(.3*t+.59*e+.11*i);return[l,l,l,s]};class Nt{constructor(t){if(R(this,"isUnrecognised",!1),t)if(t instanceof Nt)this.setSource([...t._source]);else if(Array.isArray(t)){const[e,i,s,l=1]=t;this.setSource([e,i,s,l])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in fy&&(t=fy[t]),t==="transparent"?[255,255,255,0]:Nt.sourceFromHex(t)||Nt.sourceFromRgb(t)||Nt.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,e,i]=dy(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){const[t,e,i,s]=dy(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(s,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,i,s]=this.getSource();return"".concat(Ql(t)).concat(Ql(e)).concat(Ql(i)).concat(Ql(Math.round(255*s)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(py(this.getSource())),this}toBlackWhite(t){const[e,,,i]=py(this.getSource()),s=e<(t||127)?0:255;return this.setSource([s,s,s,i]),this}overlayWith(t){t instanceof Nt||(t=new Nt(t));const e=this.getSource(),i=t.getSource(),[s,l,u]=e.map((h,d)=>Math.round(.5*h+.5*i[d]));return this.setSource([s,l,u,e[3]]),this}static fromRgb(t){return Nt.fromRgba(t)}static fromRgba(t){return new Nt(Nt.sourceFromRgb(t))}static sourceFromRgb(t){const e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){const[i,s,l]=e.slice(1,4).map(u=>{const h=parseFloat(u);return u.endsWith("%")?Math.round(2.55*h):h});return[i,s,l,gy(e[4])]}}static fromHsl(t){return Nt.fromHsla(t)}static fromHsla(t){return new Nt(Nt.sourceFromHsl(t))}static sourceFromHsl(t){const e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;const i=(Nt.parseAngletoDegrees(e[1])%360+360)%360/360,s=parseFloat(e[2])/100,l=parseFloat(e[3])/100;let u,h,d;if(s===0)u=h=d=l;else{const g=l<=.5?l*(s+1):l+s-l*s,m=2*l-g;u=td(m,g,i+1/3),h=td(m,g,i),d=td(m,g,i-1/3)}return[Math.round(255*u),Math.round(255*h),Math.round(255*d),gy(e[4])]}static fromHex(t){return new Nt(Nt.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf("#")+1);let i;i=e.length<=4?e.split("").map(d=>d+d):e.match(/.{2}/g);const[s,l,u,h=255]=i.map(d=>parseInt(d,16));return[s,l,u,h/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),i=parseFloat(e);return e.includes("rad")?vi(i):e.includes("turn")?360*i:i}}const za=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fg;const e=/\D{0,2}$/.exec(a),i=parseFloat(a),s=Rt.DPI;switch(e==null?void 0:e[0]){case"mm":return i*s/25.4;case"cm":return i*s/2.54;case"in":return i*s;case"pt":return i*s/72;case"pc":return i*s/72*12;case"em":return i*t;default:return i}},qO=a=>{const[t,e]=a.trim().split(" "),[i,s]=(l=t)&&l!==Ne?[l.slice(1,4),l.slice(5,8)]:l===Ne?[l,l]:["Mid","Mid"];var l;return{meetOrSlice:e||"meet",alignX:i,alignY:s}},po=function(a,t){let e,i,s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{const l=new Nt(t),u=l.getAlpha();e=l.toRgb(),u!==1&&(i=u.toString())}else e="none";return s?"".concat(a,": ").concat(e,"; ").concat(i?"".concat(a,"-opacity: ").concat(i,"; "):""):"".concat(a,'="').concat(e,'" ').concat(i?"".concat(a,'-opacity="').concat(i,'" '):"")};class xS{getSvgStyles(t){const e=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):Ne,l=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",h=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=this.opacity!==void 0?this.opacity:"1",m=this.visible?"":" visibility: hidden;",v=t?"":this.getSvgFilter(),y=po(oe,this.fill);return[po(He,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",l,"; ","stroke-linejoin: ",h,"; ","stroke-miterlimit: ",d,"; ",y,"fill-rule: ",e,"; ","opacity: ",g,";",v,m].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=t?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'.concat(go(i));return"".concat(s).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),l=t.indexOf("COMMON_PARTS");return t[l]=s,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:i,withShadow:s,additionalTransform:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=e?"":'style="'.concat(this.getSvgStyles(),'" '),h=s?'style="'.concat(this.getSvgFilter(),'" '):"",d=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=d&&d.absolutePositioned,v=this.stroke,y=this.fill,S=this.shadow,x=[],_=t.indexOf("COMMON_PARTS");let w;d&&(d.clipPathId="CLIPPATH_".concat(Ji()),w='<clipPath id="'.concat(d.clipPathId,`" >
`).concat(d.toClipPathSVG(i),`</clipPath>
`)),m&&x.push("<g ",h,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),m?"":h+this.getSvgCommons(),` >
`);const T=[u,g,e?"":this.addPaintOrder()," ",l?'transform="'.concat(l,'" '):""].join("");return t[_]=T,dn(y)&&x.push(y.toSVG(this)),dn(v)&&x.push(v.toSVG(this)),S&&x.push(S.toSVG(this)),d&&x.push(w),x.push(t.join("")),x.push(`</g>
`),m&&x.push(`</g>
`),i?i(x.join("")):x.join("")}addPaintOrder(){return this.paintFirst!==oe?' paint-order="'.concat(this.paintFirst,'" '):""}}function du(a){return new RegExp("^("+a.join("|")+")\\b","i")}var my;const Rr=String.raw(my||(my=er(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),$O=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Rr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Rr+"))?\\s+(.*)"),WO={cx:kt,x:kt,r:"radius",cy:Be,y:Be,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},ed="font-size",nd="clip-path";du(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);du(["symbol","image","marker","pattern","view","svg"]);const vy=du(["symbol","g","a","svg","clipPath","defs"]),IO=new X(1,0),_S=new X,CS=(a,t)=>a.rotate(t),wd=(a,t)=>new X(t).subtract(a),Td=a=>a.distanceFrom(_S),Od=(a,t)=>Math.atan2(ao(a,t),ZO(a,t)),QO=a=>Od(IO,a),xg=a=>a.eq(_S)?a:a.scalarDivide(Td(a)),wS=function(a){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return xg(new X(-a.y,a.x).scalarMultiply(t?1:-1))},ao=(a,t)=>a.x*t.y-a.y*t.x,ZO=(a,t)=>a.x*t.x+a.y*t.y,yy=(a,t,e)=>{if(a.eq(t)||a.eq(e))return!0;const i=ao(t,e),s=ao(t,a),l=ao(e,a);return i>=0?s>=0&&l<=0:!(s<=0&&l>=0)},by="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Sy=new RegExp("(?:\\s|^)"+by+by+"("+Rr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class di{constructor(t){const e=typeof t=="string"?di.parseShadow(t):t;Object.assign(this,di.ownDefaults,e),this.id=Ji()}static parseShadow(t){const e=t.trim(),[,i=0,s=0,l=0]=(Sy.exec(e)||[]).map(u=>parseFloat(u)||0);return{color:(e.replace(Sy,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:s,blur:l}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const e=CS(new X(this.offsetX,this.offsetY),ee(-t.angle)),i=new Nt(this.color);let s=40,l=40;return t.width&&t.height&&(s=100*Vt((Math.abs(e.x)+this.blur)/t.width,Rt.NUM_FRACTION_DIGITS)+20,l=100*Vt((Math.abs(e.y)+this.blur)/t.height,Rt.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(l,'%" height="').concat(100+2*l,'%" x="-').concat(s,'%" width="').concat(100+2*s,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Vt(this.blur?this.blur/2:0,Rt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Vt(e.x,Rt.NUM_FRACTION_DIGITS),'" dy="').concat(Vt(e.y,Rt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=di.ownDefaults;return this.includeDefaultValues?t:yg(t,(i,s)=>i!==e[s])}static async fromObject(t){return new this(t)}}R(di,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),R(di,"type","shadow"),rt.setClass(di,"shadow");const Ha=(a,t,e)=>Math.max(a,Math.min(t,e)),KO=[Be,kt,Ue,pn,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Fa,Va],_i=[oe,He,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],JO={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:kt,originY:Be,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:oe,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},tE=(a,t,e,i)=>-e*Math.cos(a/i*Oo)+e+t,eE=()=>!1;class _g{constructor(t){let{startValue:e,byValue:i,duration:s=500,delay:l=0,easing:u=tE,onStart:h=Oc,onChange:d=Oc,onComplete:g=Oc,abort:m=eE,target:v}=t;R(this,"_state","pending"),R(this,"durationProgress",0),R(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=s,this.delay=l,this.easing=u,this._onStart=h,this._onChange=d,this._onComplete=g,this._abort=m,this.target=v,this.startValue=e,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Dc(t),this.delay):Dc(t)}tick(t){const e=(t||+new Date)-this.startTime,i=Math.min(e,this.duration);this.durationProgress=i/this.duration;const{value:s,valueProgress:l}=this.calculate(i);this.value=Object.freeze(s),this.valueProgress=l,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Dc(this.tick)))}register(){Nc.push(this)}unregister(){Nc.remove(this)}abort(){this._state="aborted",this.unregister()}}const nE=["startValue","endValue"];class iE extends _g{constructor(t){let{startValue:e=0,endValue:i=100}=t;super(k(k({},Gt(t,nE)),{},{startValue:e,byValue:i-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const rE=["startValue","endValue"];class aE extends _g{constructor(t){let{startValue:e=[0],endValue:i=[100]}=t;super(k(k({},Gt(t,rE)),{},{startValue:e,byValue:i.map((s,l)=>s-e[l])}))}calculate(t){const e=this.startValue.map((i,s)=>this.easing(t,i,this.byValue[s],this.duration,s));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const sE=["startValue","endValue","easing","onChange","onComplete","abort"],oE=(a,t,e,i)=>t+e*(1-Math.cos(a/i*Oo)),id=a=>a&&((t,e,i)=>a(new Nt(t).toRgba(),e,i));class lE extends _g{constructor(t){let{startValue:e,endValue:i,easing:s=oE,onChange:l,onComplete:u,abort:h}=t,d=Gt(t,sE);const g=new Nt(e).getSource(),m=new Nt(i).getSource();super(k(k({},d),{},{startValue:g,byValue:m.map((v,y)=>v-g[y]),easing:s,onChange:id(l),onComplete:id(u),abort:id(h)}))}calculate(t){const[e,i,s,l]=this.startValue.map((h,d)=>this.easing(t,h,this.byValue[d],this.duration,d)),u=[...[e,i,s].map(Math.round),Ha(0,l,1)];return{value:u,valueProgress:u.map((h,d)=>this.byValue[d]!==0?Math.abs((h-this.startValue[d])/this.byValue[d]):0).find(h=>h!==0)||0}}}function TS(a){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(a)?new aE(a):new iE(a);return t.start(),t}function cE(a){const t=new lE(a);return t.start(),t}class $t{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(s=>!this.includes(s))),this}static isPointContained(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(i))return t.eq(e);if(e.x===i.x)return t.x===e.x&&(s||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y));if(e.y===i.y)return t.y===e.y&&(s||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x));{const l=wd(e,i),u=wd(e,t).divide(l);return s?Math.abs(u.x)===Math.abs(u.y):u.x===u.y&&u.x>=0&&u.x<=1}}static isPointInPolygon(t,e){const i=new X(t).setX(Math.min(t.x-1,...e.map(l=>l.x)));let s=0;for(let l=0;l<e.length;l++){const u=this.intersectSegmentSegment(e[l],e[(l+1)%e.length],t,i);if(u.includes(t))return!0;s+=+(u.status==="Intersection")}return s%2==1}static intersectLineLine(t,e,i,s){let l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],u=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const h=e.x-t.x,d=e.y-t.y,g=s.x-i.x,m=s.y-i.y,v=t.x-i.x,y=t.y-i.y,S=g*y-m*v,x=h*y-d*v,_=m*h-g*d;if(_!==0){const w=S/_,T=x/_;return(l||0<=w&&w<=1)&&(u||0<=T&&T<=1)?new $t("Intersection").append(new X(t.x+w*h,t.y+w*d)):new $t}if(S===0||x===0){const w=l||u||$t.isPointContained(t,i,s)||$t.isPointContained(e,i,s)||$t.isPointContained(i,t,e)||$t.isPointContained(s,t,e);return new $t(w?"Coincident":void 0)}return new $t("Parallel")}static intersectSegmentLine(t,e,i,s){return $t.intersectLineLine(t,e,i,s,!1,!0)}static intersectSegmentSegment(t,e,i,s){return $t.intersectLineLine(t,e,i,s,!1,!1)}static intersectLinePolygon(t,e,i){let s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const l=new $t,u=i.length;for(let h,d,g,m=0;m<u;m++){if(h=i[m],d=i[(m+1)%u],g=$t.intersectLineLine(t,e,h,d,s,!1),g.status==="Coincident")return g;l.append(...g.points)}return l.points.length>0&&(l.status="Intersection"),l}static intersectSegmentPolygon(t,e,i){return $t.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(t,e){const i=new $t,s=t.length,l=[];for(let u=0;u<s;u++){const h=t[u],d=t[(u+1)%s],g=$t.intersectSegmentPolygon(h,d,e);g.status==="Coincident"?(l.push(g),i.append(h,d)):i.append(...g.points)}return l.length>0&&l.length===t.length?new $t("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,e,i){const s=e.min(i),l=e.max(i),u=new X(l.x,s.y),h=new X(s.x,l.y);return $t.intersectPolygonPolygon(t,[s,u,l,h])}}class uE extends aS{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?ze(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=ze(t,On(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new X(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:i,bl:s}=this.aCoords||(this.aCoords=this.calcACoords()),l=[t,e,i,s];if(this.group){const u=this.group.calcTransformMatrix();return l.map(h=>ze(h,u))}return l}intersectsWithRect(t,e){return $t.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){const e=$t.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){const{left:i,top:s,width:l,height:u}=this.getBoundingRect();return i>=t.x&&i+l<=e.x&&s>=t.y&&s+u<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return $t.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=e.x&&i.x>=t.x&&i.y<=e.y&&i.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(i=>(i.x>=e.x||i.x<=t.x)&&(i.y>=e.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return fi(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(Ue,t),this._set(pn,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?vi(lS(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||Me.concat()}calcACoords(){const t=Ga({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),s=Eo(e,i),l=ye(s,t),u=this._getTransformedDimensions(),h=u.x/2,d=u.y/2;return{tl:ze({x:-h,y:-d},l),tr:ze({x:h,y:-d},l),bl:ze({x:-h,y:d},l),br:ze({x:h,y:d},l)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,re(this.originX),re(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const i=this.transformMatrixKey(t),s=this.matrixCache;return s&&s.key.every((l,u)=>l===i[u])?s.value:(this.group&&(e=ye(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const i=this.getRelativeCenterPoint(),s={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},l=zO(s);return this.ownMatrixCache={key:t,value:l},l}_getNonTransformedDimensions(){return new X(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth;let s=i,l=0;this.strokeUniform&&(s=0,l=i);const u=e.width+s,h=e.height+s;let d;return d=e.skewX===0&&e.skewY===0?new X(u*e.scaleX,h*e.scaleY):bg(u,h,uu(e)),d.scalarAdd(l)}translateToGivenOrigin(t,e,i,s,l){let u=t.x,h=t.y;const d=re(s)-re(e),g=re(l)-re(i);if(d||g){const m=this._getTransformedDimensions();u+=d*m.x,h+=g*m.y}return new X(u,h)}translateToCenterPoint(t,e,i){if(e===xt&&i===xt)return t;const s=this.translateToGivenOrigin(t,e,i,xt,xt);return this.angle?s.rotate(ee(this.angle),t):s}translateToOriginPoint(t,e,i){const s=this.translateToGivenOrigin(t,xt,xt,e,i);return this.angle?s.rotate(ee(this.angle),t):s}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?ze(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new X(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){const s=this.translateToCenterPoint(t,e,i),l=this.translateToOriginPoint(s,this.originX,this.originY);this.set({left:l.x,top:l.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),kt,Be)}}const hE=["type"],fE=["extraParam"];let si=class Ac extends uE{static getDefaults(){return Ac.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){Ki("warn","Setting type has no effect",t)}constructor(t){super(),R(this,"_cacheContext",null),Object.assign(this,Ac.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=An(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,i=t.height,s=Rt.maxCacheSideLimit,l=Rt.minCacheSideLimit;if(e<=s&&i<=s&&e*i<=Rt.perfLimitSizeTotal)return e<l&&(t.width=l),i<l&&(t.height=l),t;const u=e/i,[h,d]=ro.limitDimsByArea(u),g=Ha(l,h,s),m=Ha(l,d,s);return e>g&&(t.zoomX/=e/g,t.width=g,t.capped=!0),i>m&&(t.zoomY/=i/m,t.height=m,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,s=e.y*t.y/this.scaleY;return{width:Math.ceil(i+2),height:Math.ceil(s+2),zoomX:t.x,zoomY:t.y,x:i,y:s}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:i,height:s,zoomX:l,zoomY:u,x:h,y:d}=this._limitCacheSize(this._getCacheCanvasDimensions()),g=i!==t.width||s!==t.height,m=this.zoomX!==l||this.zoomY!==u;if(!t||!e)return!1;if(g||m){i!==t.width||s!==t.height?(t.width=i,t.height=s):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const v=h/2,y=d/2;return this.cacheTranslationX=Math.round(t.width/2-v)+v,this.cacheTranslationY=Math.round(t.height/2-y)+y,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(l,u),this.zoomX=l,this.zoomY=u,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new X(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=Hc(this.calcTransformMatrix());return new X(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(e*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==Ue&&t!==pn||(e=this._constrainScale(e)),t===Ue&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof di||(e=new di(e));const i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:i,cacheTranslationX:s,cacheTranslationY:l}=this,{width:u,height:h}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:i,cacheTranslationX:s,cacheTranslationY:l,width:u,height:h,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===He&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,i){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0),t.restore()}drawObject(t,e,i){const s=this.fill,l=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,i),this.fill=s,this.stroke=l}createClipPathLayer(t,e){const i=mn(e),s=i.getContext("2d");if(s.translate(e.cacheTranslationX,e.cacheTranslationY),s.scale(e.zoomX,e.zoomY),t._cacheCanvas=i,e.parentClipPaths.forEach(l=>{l.transform(s)}),e.parentClipPaths.push(t),t.absolutePositioned){const l=On(this.calcTransformMatrix());s.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return t.transform(s),t.drawObject(s,!0,e),i}_drawClipPath(t,e,i){if(!e)return;e._transformDone=!0;const s=this.createClipPathLayer(e,i);this.drawClipPathOnCache(t,e,s)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,i=this._cacheContext;return!(!e||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,dn(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:i}=e;i&&(dn(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,i=this.canvas,s=this.getCanvasRetinaScaling(),[l,,,u]=(i==null?void 0:i.viewportTransform)||Me,h=l*s,d=u*s,g=e.nonScaling?new X(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Rt.browserShadowBlurConstant*(h+d)*(g.x+g.y)/4,t.shadowOffsetX=e.offsetX*h*g.x,t.shadowOffsetY=e.offsetY*d*g.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!dn(e))return{offsetX:0,offsetY:0};const i=e.gradientTransform||e.patternTransform,s=-this.width/2+e.offsetX||0,l=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,s,l):t.transform(1,0,0,1,s,l),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:s,offsetY:l}}_renderPaintInOrder(t){this.paintFirst===He?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var i;const s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=this.getCanvasRetinaScaling(),u=s.x/this.scaleX/l,h=s.y/this.scaleY/l,d=mn({width:Math.ceil(u),height:Math.ceil(h)}),g=d.getContext("2d");g&&(g.beginPath(),g.moveTo(0,0),g.lineTo(u,0),g.lineTo(u,h),g.lineTo(0,h),g.closePath(),g.translate(u/2,h/2),g.scale(s.zoomX/this.scaleX/l,s.zoomY/this.scaleY/l),this._applyPatternGradientTransform(g,e),g.fillStyle=e.toLive(t),g.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(l*this.scaleX/s.zoomX,l*this.scaleY/s.zoomY),t.strokeStyle=(i=g.createPattern(d,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new X(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(rt.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=mS(this),i=this.group,s=this.shadow,l=Math.abs,u=t.enableRetinaScaling?tS():1,h=(t.multiplier||1)*u,d=t.canvasProvider||(j=>new Do(j,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&XO(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&FO(this,this.getViewportTransform()),this.setCoords();const g=An(),m=this.getBoundingRect(),v=this.shadow,y=new X;if(v){const j=v.blur,M=v.nonScaling?new X(1,1):this.getObjectScaling();y.x=2*Math.round(l(v.offsetX)+j)*l(M.x),y.y=2*Math.round(l(v.offsetY)+j)*l(M.y)}const S=m.width+y.x,x=m.height+y.y;g.width=Math.ceil(S),g.height=Math.ceil(x);const _=d(g);t.format==="jpeg"&&(_.backgroundColor="#fff"),this.setPositionByOrigin(new X(_.width/2,_.height/2),xt,xt);const w=this.canvas;_._objects=[this],this.set("canvas",_),this.setCoords();const T=_.toCanvasElement(h||1,t);return this.set("canvas",w),this.shadow=s,i&&(this.group=i),this.set(e),this.setCoords(),_._objects=[],_.destroy(),T}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return sS(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oS(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:i,originY:s}=this;if(e){const{x:l,y:u}=this.getRelativeCenterPoint();this.originX=xt,this.originY=xt,this.left=l,this.top=u}if(this.set("angle",t),e){const{x:l,y:u}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,s);this.left=l,this.top=u,this.originX=i,this.originY=s}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Nc.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Xn().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((i,s)=>{let[l,u]=s;return i[l]=this._animate(l,u,e),i},{})}_animate(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=t.split("."),l=this.constructor.colorProperties.includes(s[s.length-1]),{abort:u,startValue:h,onChange:d,onComplete:g}=i,m=k(k({},i),{},{target:this,startValue:h??s.reduce((v,y)=>v[y],this),endValue:e,abort:u==null?void 0:u.bind(this),onChange:(v,y,S)=>{s.reduce((x,_,w)=>(w===s.length-1&&(x[_]=v),x[_]),this),d&&d(v,y,S)},onComplete:(v,y,S)=>{this.setCoords(),g&&g(v,y,S)}});return l?cE(m):TS(m)}isDescendantOf(t){const{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),i=t.getAncestors();if(e.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let s,l=0;l<e.length;l++){if(s=e[l],s===t)return{fork:[this,...e.slice(0,l)],otherFork:[],common:e.slice(l)};for(let u=0;u<i.length;u++){if(this===i[u])return{fork:[],otherFork:[t,...i.slice(0,u)],common:[this,...e]};if(s===i[u])return{fork:[this,...e.slice(0,l)],otherFork:[t,...i.slice(0,u)],common:e.slice(l)}}}return{fork:[this,...e],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const i=e.common[0]||this.canvas;if(!i)return;const s=e.fork.pop(),l=e.otherFork.pop(),u=i._objects.indexOf(s),h=i._objects.indexOf(l);return u>-1&&u>h}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Ac.customProperties,this.constructor.customProperties||[]);let e;const i=Rt.NUM_FRACTION_DIGITS,{clipPath:s,fill:l,stroke:u,shadow:h,strokeDashArray:d,left:g,top:m,originX:v,originY:y,width:S,height:x,strokeWidth:_,strokeLineCap:w,strokeDashOffset:T,strokeLineJoin:j,strokeUniform:M,strokeMiterLimit:H,scaleX:N,scaleY:V,angle:K,flipX:W,flipY:nt,opacity:lt,visible:vt,backgroundColor:ht,fillRule:ot,paintFirst:ut,globalCompositeOperation:yt,skewX:P,skewY:J}=this;s&&!s.excludeFromExport&&(e=s.toObject(t.concat("inverted","absolutePositioned")));const et=D=>Vt(D,i),pt=k(k({},qa(this,t)),{},{type:this.constructor.type,version:Sd,originX:v,originY:y,left:et(g),top:et(m),width:et(S),height:et(x),fill:oy(l)?l.toObject():l,stroke:oy(u)?u.toObject():u,strokeWidth:et(_),strokeDashArray:d&&d.concat(),strokeLineCap:w,strokeDashOffset:T,strokeLineJoin:j,strokeUniform:M,strokeMiterLimit:et(H),scaleX:et(N),scaleY:et(V),angle:et(K),flipX:W,flipY:nt,opacity:et(lt),shadow:h&&h.toObject(),visible:vt,backgroundColor:ht,fillRule:ot,paintFirst:ut,globalCompositeOperation:yt,skewX:et(P),skewY:et(J)},e?{clipPath:e}:null);return this.includeDefaultValues?pt:this._removeDefaultValues(pt)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),i=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return yg(t,(s,l)=>{if(l===kt||l===Be||l==="type")return!0;const u=i[l];return s!==u&&!(Array.isArray(s)&&Array.isArray(u)&&s.length===0&&u.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=Gt(t,hE),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:s}=i,l=Gt(i,fE);return hu(e,l).then(u=>s?(delete u[s],new this(e[s],u)):new this(u))}static fromObject(t,e){return this._fromObject(t,e)}};R(si,"stateProperties",KO),R(si,"cacheProperties",_i),R(si,"ownDefaults",JO),R(si,"type","FabricObject"),R(si,"colorProperties",[oe,He,"backgroundColor"]),R(si,"customProperties",[]),rt.setClass(si),rt.setClass(si,"object");const $a=(a,t,e)=>(i,s,l,u)=>{const h=t(i,s,l,u);return h&&vS(a,k(k({},bS(i,s,l,u)),e)),h};function Wa(a){return(t,e,i,s)=>{const{target:l,originX:u,originY:h}=e,d=l.getRelativeCenterPoint(),g=l.translateToOriginPoint(d,u,h),m=a(t,e,i,s);return l.setPositionByOrigin(g,e.originX,e.originY),m}}const xy=$a(ho,Wa((a,t,e,i)=>{const s=Sg(t,t.originX,t.originY,e,i);if(re(t.originX)===re(xt)||re(t.originX)===re(te)&&s.x<0||re(t.originX)===re(kt)&&s.x>0){const{target:l}=t,u=l.strokeWidth/(l.strokeUniform?l.scaleX:1),h=yS(t)?2:1,d=l.width,g=Math.abs(s.x*h/l.scaleX)-u;return l.set("width",Math.max(g,1)),d!==l.width}return!1}));function dE(a,t,e,i,s){i=i||{};const l=this.sizeX||i.cornerSize||s.cornerSize,u=this.sizeY||i.cornerSize||s.cornerSize,h=i.transparentCorners!==void 0?i.transparentCorners:s.transparentCorners,d=h?He:oe,g=!h&&(i.cornerStrokeColor||s.cornerStrokeColor);let m,v=t,y=e;a.save(),a.fillStyle=i.cornerColor||s.cornerColor||"",a.strokeStyle=i.cornerStrokeColor||s.cornerStrokeColor||"",l>u?(m=l,a.scale(1,u/l),y=e*l/u):u>l?(m=u,a.scale(l/u,1),v=t*u/l):m=l,a.beginPath(),a.arc(v,y,m/2,0,Lc,!1),a[d](),g&&a.stroke(),a.restore()}function gE(a,t,e,i,s){i=i||{};const l=this.sizeX||i.cornerSize||s.cornerSize,u=this.sizeY||i.cornerSize||s.cornerSize,h=i.transparentCorners!==void 0?i.transparentCorners:s.transparentCorners,d=h?He:oe,g=!h&&(i.cornerStrokeColor||s.cornerStrokeColor),m=l/2,v=u/2;a.save(),a.fillStyle=i.cornerColor||s.cornerColor||"",a.strokeStyle=i.cornerStrokeColor||s.cornerStrokeColor||"",a.translate(t,e);const y=s.getTotalAngle();a.rotate(ee(y)),a["".concat(d,"Rect")](-m,-v,l,u),g&&a.strokeRect(-m,-v,l,u),a.restore()}class _n{constructor(t){R(this,"visible",!0),R(this,"actionName",cu),R(this,"angle",0),R(this,"x",0),R(this,"y",0),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"sizeX",0),R(this,"sizeY",0),R(this,"touchSizeX",0),R(this,"touchSizeY",0),R(this,"cursorStyle","crosshair"),R(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,s){var l;let{tl:u,tr:h,br:d,bl:g}=s;return((l=e.canvas)===null||l===void 0?void 0:l.getActiveObject())===e&&e.isControlVisible(t)&&$t.isPointInPolygon(i,[u,h,d,g])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){var i,s;return(i=(s=t._controlsVisibility)===null||s===void 0?void 0:s[e])!==null&&i!==void 0?i:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,s){return new X(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,s,l,u){const h=mg([Eo(i,s),Ga({angle:t}),vg((l?this.touchSizeX:this.sizeX)||e,(l?this.touchSizeY:this.sizeY)||e)]);return{tl:new X(-.5,-.5).transform(h),tr:new X(.5,-.5).transform(h),br:new X(.5,.5).transform(h),bl:new X(-.5,.5).transform(h)}}render(t,e,i,s,l){((s=s||{}).cornerStyle||l.cornerStyle)==="circle"?dE.call(this,t,e,i,s,l):gE.call(this,t,e,i,s,l)}}const pE=(a,t,e)=>e.lockRotation?Yc:t.cursorStyle,mE=$a(nS,Wa((a,t,e,i)=>{let{target:s,ex:l,ey:u,theta:h,originX:d,originY:g}=t;const m=s.translateToOriginPoint(s.getRelativeCenterPoint(),d,g);if(Dn(s,"lockRotation"))return!1;const v=Math.atan2(u-m.y,l-m.x),y=Math.atan2(i-m.y,e-m.x);let S=vi(y-v+h);if(s.snapAngle&&s.snapAngle>0){const _=s.snapAngle,w=s.snapThreshold||_,T=Math.ceil(S/_)*_,j=Math.floor(S/_)*_;Math.abs(S-j)<w?S=j:Math.abs(S-T)<w&&(S=T)}S<0&&(S=360+S),S%=360;const x=s.angle!==S;return s.angle=S,x}));function OS(a,t){const e=t.canvas,i=a[e.uniScaleKey];return e.uniformScaling&&!i||!e.uniformScaling&&i}function ES(a,t,e){const i=Dn(a,"lockScalingX"),s=Dn(a,"lockScalingY");if(i&&s||!t&&(i||s)&&e||i&&t==="x"||s&&t==="y")return!0;const{width:l,height:u,strokeWidth:h}=a;return l===0&&h===0&&t!=="y"||u===0&&h===0&&t!=="x"}const vE=["e","se","s","sw","w","nw","n","ne","e"],no=(a,t,e)=>{const i=OS(a,e);if(ES(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return Yc;const s=SS(e,t);return"".concat(vE[s],"-resize")};function Cg(a,t,e,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const l=t.target,u=s.by,h=OS(a,l);let d,g,m,v,y,S;if(ES(l,u,h))return!1;if(t.gestureScale)g=t.scaleX*t.gestureScale,m=t.scaleY*t.gestureScale;else{if(d=Sg(t,t.originX,t.originY,e,i),y=u!=="y"?Math.sign(d.x||t.signX||1):1,S=u!=="x"?Math.sign(d.y||t.signY||1):1,t.signX||(t.signX=y),t.signY||(t.signY=S),Dn(l,"lockScalingFlip")&&(t.signX!==y||t.signY!==S))return!1;if(v=l._getTransformedDimensions(),h&&!u){const w=Math.abs(d.x)+Math.abs(d.y),{original:T}=t,j=w/(Math.abs(v.x*T.scaleX/l.scaleX)+Math.abs(v.y*T.scaleY/l.scaleY));g=T.scaleX*j,m=T.scaleY*j}else g=Math.abs(d.x*l.scaleX/v.x),m=Math.abs(d.y*l.scaleY/v.y);yS(t)&&(g*=2,m*=2),t.signX!==y&&u!=="y"&&(t.originX=hy(t.originX),g*=-1,t.signX=y),t.signY!==S&&u!=="x"&&(t.originY=hy(t.originY),m*=-1,t.signY=S)}const x=l.scaleX,_=l.scaleY;return u?(u==="x"&&l.set(Ue,g),u==="y"&&l.set(pn,m)):(!Dn(l,"lockScalingX")&&l.set(Ue,g),!Dn(l,"lockScalingY")&&l.set(pn,m)),x!==l.scaleX||_!==l.scaleY}const Zl=$a(lu,Wa((a,t,e,i)=>Cg(a,t,e,i))),yE=$a(lu,Wa((a,t,e,i)=>Cg(a,t,e,i,{by:"x"}))),bE=$a(lu,Wa((a,t,e,i)=>Cg(a,t,e,i,{by:"y"}))),SE=["target","ex","ey","skewingSide"],rd={x:{counterAxis:"y",scale:Ue,skew:Fa,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:pn,skew:Va,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},xE=["ns","nesw","ew","nwse"],_E=(a,t,e)=>{if(t.x!==0&&Dn(e,"lockSkewingY")||t.y!==0&&Dn(e,"lockSkewingX"))return Yc;const i=SS(e,t)%4;return"".concat(xE[i],"-resize")};function DS(a,t,e,i,s){const{target:l}=e,{counterAxis:u,origin:h,lockSkewing:d,skew:g,flip:m}=rd[a];if(Dn(l,d))return!1;const{origin:v,flip:y}=rd[u],S=re(e[v])*(l[y]?-1:1),x=-Math.sign(S)*(l[m]?-1:1),_=.5*-((l[g]===0&&Sg(e,xt,xt,i,s)[a]>0||l[g]>0?1:-1)*x)+.5;return $a(iS,Wa((T,j,M,H)=>function(N,V,K){let{target:W,ex:nt,ey:lt,skewingSide:vt}=V,ht=Gt(V,SE);const{skew:ot}=rd[N],ut=K.subtract(new X(nt,lt)).divide(new X(W.scaleX,W.scaleY))[N],yt=W[ot],P=ht[ot],J=Math.tan(ee(P)),et=N==="y"?W._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:W._getTransformedDimensions({scaleX:1,scaleY:1}).y,pt=2*ut*vt/Math.max(et,1)+J,D=vi(Math.atan(pt));W.set(ot,D);const G=yt!==W[ot];if(G&&N==="y"){const{skewX:tt,scaleX:Z}=W,it=W._getTransformedDimensions({skewY:yt}),gt=W._getTransformedDimensions(),at=tt!==0?it.x/gt.x:1;at!==1&&W.set(Ue,at*Z)}return G}(a,j,new X(M,H))))(t,k(k({},e),{},{[h]:_,skewingSide:x}),i,s)}const CE=(a,t,e,i)=>DS("x",a,t,e,i),wE=(a,t,e,i)=>DS("y",a,t,e,i);function gu(a,t){return a[t.canvas.altActionKey]}const Kl=(a,t,e)=>{const i=gu(a,e);return t.x===0?i?Fa:pn:t.y===0?i?Va:Ue:""},Aa=(a,t,e)=>gu(a,e)?_E(0,t,e):no(a,t,e),_y=(a,t,e,i)=>gu(a,t.target)?wE(a,t,e,i):yE(a,t,e,i),Cy=(a,t,e,i)=>gu(a,t.target)?CE(a,t,e,i):bE(a,t,e,i),MS=()=>({ml:new _n({x:-.5,y:0,cursorStyleHandler:Aa,actionHandler:_y,getActionName:Kl}),mr:new _n({x:.5,y:0,cursorStyleHandler:Aa,actionHandler:_y,getActionName:Kl}),mb:new _n({x:0,y:.5,cursorStyleHandler:Aa,actionHandler:Cy,getActionName:Kl}),mt:new _n({x:0,y:-.5,cursorStyleHandler:Aa,actionHandler:Cy,getActionName:Kl}),tl:new _n({x:-.5,y:-.5,cursorStyleHandler:no,actionHandler:Zl}),tr:new _n({x:.5,y:-.5,cursorStyleHandler:no,actionHandler:Zl}),bl:new _n({x:-.5,y:.5,cursorStyleHandler:no,actionHandler:Zl}),br:new _n({x:.5,y:.5,cursorStyleHandler:no,actionHandler:Zl}),mtr:new _n({x:0,y:-.5,actionHandler:mE,cursorStyleHandler:pE,offsetY:-40,withConnection:!0,actionName:gg})}),TE=()=>({mr:new _n({x:.5,y:0,actionHandler:xy,cursorStyleHandler:Aa,actionName:ho}),ml:new _n({x:-.5,y:0,actionHandler:xy,cursorStyleHandler:Aa,actionName:ho})}),OE=()=>k(k({},MS()),TE());class mo extends si{static getDefaults(){return k(k({},super.getDefaults()),mo.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),mo.ownDefaults),this.setOptions(t)}static createControls(){return{controls:MS()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,i=e.target,s=e.action;if(this===i&&s&&s.startsWith(cu))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const i=Object.entries(this.oCoords);for(let s=i.length-1;s>=0;s--){const[l,u]=i[s],h=this.controls[l];if(h.shouldActivate(l,this,t,e?u.touchCorner:u.corner))return this.__corner=l,{key:l,control:h,coord:this.oCoords[l]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),i=Eo(e.x,e.y),s=Ga({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),l=ye(i,s),u=ye(t,l),h=ye(u,[1/t[0],0,0,1/t[3],0,0]),d=this.group?Hc(this.calcTransformMatrix()):void 0;d&&(d.scaleX=Math.abs(d.scaleX),d.scaleY=Math.abs(d.scaleY));const g=this._calculateCurrentDimensions(d),m={};return this.forEachControl((v,y)=>{const S=v.positionHandler(g,h,this,v);m[y]=Object.assign(S,this._calcCornerCoords(v,S))}),m}_calcCornerCoords(t,e){const i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),s=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/s[0],1/s[3]),t.rotate(ee(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=k({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=s.borderColor,this._setLineDash(t,s.borderDashArray),this.strokeBorders(t,e),s.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:i,hasControls:s}=this,l=k({hasBorders:i,hasControls:s},e),u=this.getViewportTransform(),h=l.hasBorders,d=l.hasControls,g=ye(u,this.calcTransformMatrix()),m=Hc(g);t.save(),t.translate(m.translateX,m.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(m.angle-=180),t.rotate(ee(this.group?m.angle:this.angle)),h&&this.drawBorders(t,m,e),d&&this.drawControls(t,e),t.restore()}drawBorders(t,e,i){let s;if(i&&i.forActiveSelection||this.group){const l=bg(this.width,this.height,uu(e)),u=this.isStrokeAccountedForInDimensions()?pg:(this.strokeUniform?new X().scalarAdd(this.canvas?this.canvas.getZoom():1):new X(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);s=l.add(u).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else s=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,s,i)}drawControlsConnectingLines(t,e){let i=!1;t.beginPath(),this.forEachControl((s,l)=>{s.withConnection&&s.getVisibility(this,l)&&(i=!0,t.moveTo(s.x*e.x,s.y*e.y),t.lineTo(s.x*e.x+s.offsetX,s.y*e.y+s.offsetY))}),i&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:s,cornerDashArray:l,cornerColor:u}=this,h=k({cornerStrokeColor:s,cornerDashArray:l,cornerColor:u},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=h.cornerColor,this.transparentCorners||(t.strokeStyle=h.cornerStrokeColor),this._setLineDash(t,h.cornerDashArray),this.forEachControl((d,g)=>{if(d.getVisibility(this,g)){const m=this.oCoords[g];d.render(t,m.x,m.y,h,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[i,s]=e;return this.setControlVisible(i,s)})}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e);const s=this.width+4,l=this.height+4;return e.clearRect(-s/2,-l/2,s,l),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function AS(a,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(a.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)||Object.create(null))})}),a}R(mo,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Te extends mo{}AS(Te,[xS]),rt.setClass(Te),rt.setClass(Te,"object");const EE=(a,t,e,i)=>{const s=2*(i=Math.round(i))+1,{data:l}=a.getImageData(t-i,e-i,s,s);for(let u=3;u<l.length;u+=4)if(l[u]>0)return!1;return!0};class RS{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new X(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new X(1/this.options.scaleX,1/this.options.scaleY):new X(1,1)}createSideVector(t,e){const i=wd(t,e);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const e=new X(t);return e.y+=e.x*Math.tan(ee(this.options.skewY)),e.x+=e.y*Math.tan(ee(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const DE=new X;class Ba extends RS{static getOrthogonalRotationFactor(t,e){const i=e?Od(t,e):QO(t);return Math.abs(i)<Oo?-1:1}constructor(t,e,i,s){super(s),R(this,"AB",void 0),R(this,"AC",void 0),R(this,"alpha",void 0),R(this,"bisector",void 0),this.A=new X(t),this.B=new X(e),this.C=new X(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Od(this.AB,this.AC),this.bisector=xg(CS(this.AB.eq(DE)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(t,e),l=wS(s),u=Ba.getOrthogonalRotationFactor(l,this.bisector);return this.scaleUnitVector(l,i*u)}projectBevel(){const t=[];return(this.alpha%Lc==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],e=Math.abs(this.alpha),i=1/Math.sin(e/2),s=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),l=this.options.strokeUniform?Td(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Td(s)/this.strokeProjectionMagnitude<=l&&t.push(this.applySkew(this.A.add(s))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const i=[],s=new X(Ba.getOrthogonalRotationFactor(this.bisector),Ba.getOrthogonalRotationFactor(new X(this.bisector.y,this.bisector.x)));return[new X(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s),new X(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s)].forEach(l=>{yy(l,t,e)&&i.push(this.A.add(l))}),i}projectRoundWithSkew(t,e){const i=[],{skewX:s,skewY:l,scaleX:u,scaleY:h,strokeUniform:d}=this.options,g=new X(Math.tan(ee(s)),Math.tan(ee(l))),m=this.strokeProjectionMagnitude,v=d?m/h/Math.sqrt(1/h**2+1/u**2*g.y**2):m/Math.sqrt(1+g.y**2),y=new X(Math.sqrt(Math.max(m**2-v**2,0)),v),S=d?m/Math.sqrt(1+g.x**2*(1/h)**2/(1/u+1/u*g.x*g.y)**2):m/Math.sqrt(1+g.x**2/(1+g.x*g.y)**2),x=new X(S,Math.sqrt(Math.max(m**2-S**2,0)));return[x,x.scalarMultiply(-1),y,y.scalarMultiply(-1)].map(_=>this.applySkew(d?_.multiply(this.strokeUniformScalar):_)).forEach(_=>{yy(_,t,e)&&i.push(this.applySkew(this.A).add(_))}),i}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%Lc==0,i=this.applySkew(this.A),s=t[e?0:2].subtract(i),l=t[e?1:0].subtract(i),u=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),h=ao(s,u)>0,d=h?s:l,g=h?l:s;return this.isSkewed()?t.push(...this.projectRoundWithSkew(d,g)):t.push(...this.projectRoundNoSkew(d,g)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class wy extends RS{constructor(t,e,i){super(i),this.A=new X(t),this.T=new X(e)}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(t,e);return this.scaleUnitVector(wS(s),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new X(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Ba(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new X(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(xg(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),s=this.A.add(i);t.push(s.add(e),s.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const ME=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=[];if(a.length===0)return i;const s=a.reduce((l,u)=>(l[l.length-1].eq(u)||l.push(new X(u)),l),[new X(a[0])]);if(s.length===1)e=!0;else if(!e){const l=s[0],u=((h,d)=>{for(let g=h.length-1;g>=0;g--)if(d(h[g],g,h))return g;return-1})(s,h=>!h.eq(l));s.splice(u+1)}return s.forEach((l,u,h)=>{let d,g;u===0?(g=h[1],d=e?l:h[h.length-1]):u===h.length-1?(d=h[u-1],g=e?l:h[0]):(d=h[u-1],g=h[u+1]),e&&h.length===1?i.push(...new wy(l,l,t).project()):!e||u!==0&&u!==h.length-1?i.push(...new Ba(l,d,g,t).project()):i.push(...new wy(l,u===0?g:d,t).project())}),i},wg=a=>{const t={};return Object.keys(a).forEach(e=>{t[e]={},Object.keys(a[e]).forEach(i=>{t[e][i]=k({},a[e][i])})}),t},AE=a=>a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Tg=a=>{const t=[];for(let e,i=0;i<a.length;i++)(e=RE(a,i))!==!1&&t.push(e);return t},RE=(a,t)=>{const e=a.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return a.charAt(t);if(55296<=e&&e<=56319){if(a.length<=t+1)throw"High surrogate without following low surrogate";const s=a.charCodeAt(t+1);if(56320>s||s>57343)throw"High surrogate without following low surrogate";return a.charAt(t)+a.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const i=a.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},Og=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.fill!==t.fill||a.stroke!==t.stroke||a.strokeWidth!==t.strokeWidth||a.fontSize!==t.fontSize||a.fontFamily!==t.fontFamily||a.fontWeight!==t.fontWeight||a.fontStyle!==t.fontStyle||a.textBackgroundColor!==t.textBackgroundColor||a.deltaY!==t.deltaY||e&&(a.overline!==t.overline||a.underline!==t.underline||a.linethrough!==t.linethrough)},jE=(a,t)=>{const e=t.split(`
`),i=[];let s=-1,l={};a=wg(a);for(let u=0;u<e.length;u++){const h=Tg(e[u]);if(a[u])for(let d=0;d<h.length;d++){s++;const g=a[u][d];g&&Object.keys(g).length>0&&(Og(l,g,!0)?i.push({start:s,end:s+1,style:g}):i[i.length-1].end++),l=g||{}}else s+=h.length,l={}}return i},kE=(a,t)=>{if(!Array.isArray(a))return wg(a);const e=t.split(dg),i={};let s=-1,l=0;for(let u=0;u<e.length;u++){const h=Tg(e[u]);for(let d=0;d<h.length;d++)s++,a[l]&&a[l].start<=s&&s<a[l].end&&(i[u]=i[u]||{},i[u][d]=k({},a[l].style),s===a[l].end-1&&l++)}return i},nr=["display","transform",oe,"fill-opacity","fill-rule","opacity",He,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Ty(a,t){const e=a.nodeName,i=a.getAttribute("class"),s=a.getAttribute("id"),l="(?![a-zA-Z\\-]+)";let u;if(u=new RegExp("^"+e,"i"),t=t.replace(u,""),s&&t.length&&(u=new RegExp("#"+s+l,"i"),t=t.replace(u,"")),i&&t.length){const h=i.split(" ");for(let d=h.length;d--;)u=new RegExp("\\."+h[d]+l,"i"),t=t.replace(u,"")}return t.length===0}function LE(a,t){let e=!0;const i=Ty(a,t.pop());return i&&t.length&&(e=function(s,l){let u,h=!0;for(;s.parentElement&&s.parentElement.nodeType===1&&l.length;)h&&(u=l.pop()),h=Ty(s=s.parentElement,u);return l.length===0}(a,t)),i&&e&&t.length===0}const zE=a=>{var t;return(t=WO[a])!==null&&t!==void 0?t:a},BE=new RegExp("(".concat(Rr,")"),"gi"),NE=a=>a.replace(BE," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Oy,Ey,Dy,My,Ay,Ry,jy;const De="(".concat(Rr,")"),HE=String.raw(Oy||(Oy=er(["(skewX)(",")"],["(skewX)\\(","\\)"])),De),UE=String.raw(Ey||(Ey=er(["(skewY)(",")"],["(skewY)\\(","\\)"])),De),YE=String.raw(Dy||(Dy=er(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),De,De,De),XE=String.raw(My||(My=er(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),De,De),PE=String.raw(Ay||(Ay=er(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),De,De),FE=String.raw(Ry||(Ry=er(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),De,De,De,De,De,De),Eg="(?:".concat(FE,"|").concat(PE,"|").concat(YE,"|").concat(XE,"|").concat(HE,"|").concat(UE,")"),VE="(?:".concat(Eg,"*)"),GE=String.raw(jy||(jy=er(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),VE),qE=new RegExp(GE),$E=new RegExp(Eg),WE=new RegExp(Eg,"g");function Ed(a){const t=[];if(!(a=NE(a).replace(/\s*([()])\s*/gi,"$1"))||a&&!qE.test(a))return[...Me];for(const e of a.matchAll(WE)){const i=$E.exec(e[0]);if(!i)continue;let s=Me;const l=i.filter(x=>!!x),[,u,...h]=l,[d,g,m,v,y,S]=h.map(x=>parseFloat(x));switch(u){case"translate":s=Eo(d,g);break;case gg:s=Ga({angle:d},{x:g,y:m});break;case cu:s=vg(d,g);break;case Fa:s=uS(d);break;case Va:s=hS(d);break;case"matrix":s=[d,g,m,v,y,S]}t.push(s)}return mg(t)}function IE(a,t,e,i){const s=Array.isArray(t);let l,u=t;if(a!==oe&&a!==He||t!==Ne){if(a==="strokeUniform")return t==="non-scaling-stroke";if(a==="strokeDashArray")u=t===Ne?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(a==="transformMatrix")u=e&&e.transformMatrix?ye(e.transformMatrix,Ed(t)):Ed(t);else if(a==="visible")u=t!==Ne&&t!=="hidden",e&&e.visible===!1&&(u=!1);else if(a==="opacity")u=parseFloat(t),e&&e.opacity!==void 0&&(u*=e.opacity);else if(a==="textAnchor")u=t==="start"?kt:t==="end"?te:xt;else if(a==="charSpacing")l=za(t,i)/i*1e3;else if(a==="paintFirst"){const h=t.indexOf(oe),d=t.indexOf(He);u=oe,(h>-1&&d>-1&&d<h||h===-1&&d>-1)&&(u=He)}else{if(a==="href"||a==="xlink:href"||a==="font"||a==="id")return t;if(a==="imageSmoothing")return t==="optimizeQuality";l=s?t.map(za):za(t,i)}}else u="";return!s&&isNaN(l)?u:l}function QE(a,t){const e=a.match($O);if(!e)return;const i=e[1],s=e[3],l=e[4],u=e[5],h=e[6];i&&(t.fontStyle=i),s&&(t.fontWeight=isNaN(parseFloat(s))?s:parseFloat(s)),l&&(t.fontSize=za(l)),h&&(t.fontFamily=h),u&&(t.lineHeight=u==="normal"?1:u)}function ZE(a,t){a.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[i,s]=e.split(":");t[i.trim().toLowerCase()]=s.trim()})}function KE(a){const t={},e=a.getAttribute("style");return e&&(typeof e=="string"?ZE(e,t):function(i,s){Object.entries(i).forEach(l=>{let[u,h]=l;h!==void 0&&(s[u.toLowerCase()]=h)})}(e,t)),t}const JE={stroke:"strokeOpacity",fill:"fillOpacity"};function Ci(a,t,e){if(!a)return{};let i,s={},l=fg;a.parentNode&&vy.test(a.parentNode.nodeName)&&(s=Ci(a.parentElement,t,e),s.fontSize&&(i=l=za(s.fontSize)));const u=k(k(k({},t.reduce((g,m)=>{const v=a.getAttribute(m);return v&&(g[m]=v),g},{})),function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={};for(const y in m)LE(g,y.split(" "))&&(v=k(k({},v),m[y]));return v}(a,e)),KE(a));u[nd]&&a.setAttribute(nd,u[nd]),u[ed]&&(i=za(u[ed],l),u[ed]="".concat(i));const h={};for(const g in u){const m=zE(g),v=IE(m,u[g],s,i);h[m]=v}h&&h.font&&QE(h.font,h);const d=k(k({},s),h);return vy.test(a.nodeName)?d:function(g){const m=Te.getDefaults();return Object.entries(JE).forEach(v=>{let[y,S]=v;if(g[S]===void 0||g[y]==="")return;if(g[y]===void 0){if(!m[y])return;g[y]=m[y]}if(g[y].indexOf("url(")===0)return;const x=new Nt(g[y]);g[y]=x.setAlpha(Vt(x.getAlpha()*g[S],2)).toRgba()}),g}(d)}const tD=["left","top","width","height","visible"],jS=["rx","ry"];class Bn extends Te{static getDefaults(){return k(k({},super.getDefaults()),Bn.ownDefaults)}constructor(t){super(),Object.assign(this,Bn.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:i}=this,s=-e/2,l=-i/2,u=this.rx?Math.min(this.rx,e/2):0,h=this.ry?Math.min(this.ry,i/2):0,d=u!==0||h!==0;t.beginPath(),t.moveTo(s+u,l),t.lineTo(s+e-u,l),d&&t.bezierCurveTo(s+e-Ii*u,l,s+e,l+Ii*h,s+e,l+h),t.lineTo(s+e,l+i-h),d&&t.bezierCurveTo(s+e,l+i-Ii*h,s+e-Ii*u,l+i,s+e-u,l+i),t.lineTo(s+u,l+i),d&&t.bezierCurveTo(s+Ii*u,l+i,s,l+i-Ii*h,s,l+i-h),t.lineTo(s,l+h),d&&t.bezierCurveTo(s,l+Ii*h,s+Ii*u,l,s+u,l),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...jS,...t])}_toSVG(){const{width:t,height:e,rx:i,ry:s}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(s,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static async fromElement(t,e,i){const s=Ci(t,this.ATTRIBUTE_NAMES,i),{left:l=0,top:u=0,width:h=0,height:d=0,visible:g=!0}=s,m=Gt(s,tD);return new this(k(k(k({},e),m),{},{left:l,top:u,width:h,height:d,visible:!!(g&&h&&d)}))}}R(Bn,"type","Rect"),R(Bn,"cacheProperties",[..._i,...jS]),R(Bn,"ownDefaults",{rx:0,ry:0}),R(Bn,"ATTRIBUTE_NAMES",[...nr,"x","y","rx","ry","width","height"]),rt.setClass(Bn),rt.setSVGClass(Bn);const ci="initialization",Xc="added",Dg="removed",Pc="imperative",kS=(a,t)=>{const{strokeUniform:e,strokeWidth:i,width:s,height:l,group:u}=t,h=u&&u!==a?fu(u.calcTransformMatrix(),a.calcTransformMatrix()):null,d=h?t.getRelativeCenterPoint().transform(h):t.getRelativeCenterPoint(),g=!t.isStrokeAccountedForInDimensions(),m=e&&g?PO(new X(i,i),void 0,a.calcTransformMatrix()):pg,v=!e&&g?i:0,y=bg(s+v,l+v,mg([h,t.calcOwnMatrix()],!0)).add(m).scalarDivide(2);return[d.subtract(y),d.add(y)]};class pu{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:i,strategy:s}=t;return e===ci||e===Pc||!!i&&s!==i}shouldLayoutClipPath(t){let{type:e,target:{clipPath:i}}=t;return e!==ci&&i&&!i.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:i,target:s}=e;if(i===Pc&&e.overrides)return e.overrides;if(t.length===0)return;const{left:l,top:u,width:h,height:d}=fi(t.map(v=>kS(s,v)).reduce((v,y)=>v.concat(y),[])),g=new X(h,d),m=new X(l,u).add(g.scalarDivide(2));if(i===ci){const v=this.getInitialSize(e,{size:g,center:m});return{center:m,relativeCorrection:new X(0,0),size:v}}return{center:m.transform(s.calcOwnMatrix()),size:g}}}R(pu,"type","strategy");class Dd extends pu{shouldPerformLayout(t){return!0}}R(Dd,"type","fit-content"),rt.setClass(Dd);const eD=["strategy"],nD=["target","strategy","bubbles","prevStrategy"],LS="layoutManager";class vo{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Dd;R(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const e=k(k({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:i}=e;return[Bc,eS,ho,nS,lu,iS,zc,DO,MO].map(s=>t.on(s,l=>this.performLayout(s===Bc?{type:"object_modified",trigger:s,e:l,target:i}:{type:"object_modifying",trigger:s,e:l,target:i})))}subscribe(t,e){this.unsubscribe(t,e);const i=this.attachHandlers(t,e);this._subscriptions.set(t,i)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){const{target:e,type:i}=t,{canvas:s}=e;if(i===ci||i===Xc?this.subscribeTargets(t):i===Dg&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),s&&s.fire("object:layout:before",{target:e,context:t}),i===Pc&&t.deep){const l=Gt(t,eD);e.forEachObject(u=>u.layoutManager&&u.layoutManager.performLayout(k(k({},l),{},{bubbles:!1,target:u})))}}getLayoutResult(t){const{target:e,strategy:i,type:s}=t,l=i.calcLayoutResult(t,e.getObjects());if(!l)return;const u=s===ci?new X:e.getRelativeCenterPoint(),{center:h,correction:d=new X,relativeCorrection:g=new X}=l,m=u.subtract(h).add(d).transform(s===ci?Me:On(e.calcOwnMatrix()),!0).add(g);return{result:l,prevCenter:u,nextCenter:h,offset:m}}commitLayout(t,e){const{target:i}=t,{result:{size:s},nextCenter:l}=e;var u,h;i.set({width:s.x,height:s.y}),this.layoutObjects(t,e),t.type===ci?i.set({left:(u=t.x)!==null&&u!==void 0?u:l.x+s.x*re(i.originX),top:(h=t.y)!==null&&h!==void 0?h:l.y+s.y*re(i.originY)}):(i.setPositionByOrigin(l,xt,xt),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,e){const{target:i}=t;i.forEachObject(s=>{s.group===i&&this.layoutObject(t,e,s)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,i.clipPath)}layoutObject(t,e,i){let{offset:s}=e;i.set({left:i.left+s.x,top:i.top+s.y})}onAfterLayout(t,e){const{target:i,strategy:s,bubbles:l,prevStrategy:u}=t,h=Gt(t,nD),{canvas:d}=i;i.fire("layout:after",{context:t,result:e}),d&&d.fire("object:layout:after",{context:t,result:e,target:i});const g=i.parent;l&&g!=null&&g.layoutManager&&((h.path||(h.path=[])).push(i),g.layoutManager.performLayout(k(k({},h),{},{target:g}))),i.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(e=>e.forEach(i=>i())),t.clear()}toObject(){return{type:LS,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}rt.setClass(vo,LS);const iD=["type","objects","layoutManager"];class rD extends vo{performLayout(){}}class Ar extends rS(Te){static getDefaults(){return k(k({},super.getDefaults()),Ar.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"_activeObjects",[]),R(this,"__objectSelectionTracker",void 0),R(this,"__objectSelectionDisposer",void 0),Object.assign(this,Ar.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(s=>{this.enterGroup(s,!1)}),this.layoutManager=(i=e.layoutManager)!==null&&i!==void 0?i:new vo,this.layoutManager.performLayout({type:ci,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(Ki("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(Ki("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,i,s)=>this.canEnterGroup(e)&&s.indexOf(e)===i)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(e),l=super.add(...s);return this._onAfterObjectsChange(Xc,s),l}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const l=this._filterObjectsBeforeEnteringGroup(i),u=super.insertAt(t,...l);return this._onAfterObjectsChange(Xc,l),u}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Dg,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){const i=this[t];return super._set(t,e),t==="canvas"&&i!==e&&(this._objects||[]).forEach(s=>{s._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:i}=e;const s=this._activeObjects;if(t)s.push(i),this._set("dirty",!0);else if(s.length>0){const l=s.indexOf(i);l>-1&&(s.splice(l,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&Uc(t,ye(On(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(Uc(t,ye(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){const t=Te.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,i){this._renderBackground(t);for(let l=0;l<this._objects.length;l++){var s;const u=this._objects[l];(s=this.canvas)!==null&&s!==void 0&&s.preserveObjectStacking&&u.group!==this?(t.save(),t.transform(...On(this.calcTransformMatrix())),u.render(t),t.restore()):u.group===this&&u.render(t)}this._drawClipPath(t,this.clipPath,i)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(k({target:this,type:Pc},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const i=this.includeDefaultValues;return this._objects.filter(function(s){return!s.excludeFromExport}).map(function(s){const l=s.includeDefaultValues;s.includeDefaultValues=i;const u=s[t||"toObject"](e);return s.includeDefaultValues=l,u})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.layoutManager.toObject();return k(k(k({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const e=Bn.prototype._toSVG.call(this),i=e.indexOf("COMMON_PARTS");e[i]='for="group" ';const s=e.join("");return t?t(s):s}_toSVG(t){const e=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&e.push("		",i);for(let s=0;s<this._objects.length;s++)e.push("		",this._objects[s].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){const e=[],i=this._createSVGBgRect(t);i&&e.push("	",i);for(let s=0;s<this._objects.length;s++)e.push("	",this._objects[s].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:i,objects:s=[],layoutManager:l}=t,u=Gt(t,iD);return Promise.all([fo(s,e),hu(u,e)]).then(h=>{let[d,g]=h;const m=new this(d,k(k(k({},u),g),{},{layoutManager:new rD}));if(l){const v=rt.getClass(l.type),y=rt.getClass(l.strategy);m.layoutManager=new v(new y)}else m.layoutManager=new vo;return m.layoutManager.subscribeTargets({type:ci,target:m,targets:m.getObjects()}),m.setCoords(),m})}}R(Ar,"type","Group"),R(Ar,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),rt.setClass(Ar);const aD=(a,t)=>Math.min(t.width/a.width,t.height/a.height),sD=(a,t)=>Math.max(t.width/a.width,t.height/a.height),Md="\\s*,?\\s*",eo="".concat(Md,"(").concat(Rr,")"),oD="".concat(eo).concat(eo).concat(eo).concat(Md,"([01])").concat(Md,"([01])").concat(eo).concat(eo),lD={m:"l",M:"L"},cD=(a,t,e,i,s,l,u,h,d,g,m)=>{const v=pi(a),y=mi(a),S=pi(t),x=mi(t),_=e*s*S-i*l*x+u,w=i*s*S+e*l*x+h;return["C",g+d*(-e*s*y-i*l*v),m+d*(-i*s*y+e*l*v),_+d*(e*s*x+i*l*S),w+d*(i*s*x-e*l*S),_,w]},ky=(a,t,e,i)=>{const s=Math.atan2(t,a),l=Math.atan2(i,e);return l>=s?l-s:2*Math.PI-(s-l)};function Ly(a,t,e,i,s,l,u,h){let d;if(Rt.cachesBoundsOfCurve&&(d=[...arguments].join(),ro.boundsOfCurveCache[d]))return ro.boundsOfCurveCache[d];const g=Math.sqrt,m=Math.abs,v=[],y=[[0,0],[0,0]];let S=6*a-12*e+6*s,x=-3*a+9*e-9*s+3*u,_=3*e-3*a;for(let H=0;H<2;++H){if(H>0&&(S=6*t-12*i+6*l,x=-3*t+9*i-9*l+3*h,_=3*i-3*t),m(x)<1e-12){if(m(S)<1e-12)continue;const nt=-_/S;0<nt&&nt<1&&v.push(nt);continue}const N=S*S-4*_*x;if(N<0)continue;const V=g(N),K=(-S+V)/(2*x);0<K&&K<1&&v.push(K);const W=(-S-V)/(2*x);0<W&&W<1&&v.push(W)}let w=v.length;const T=w,j=zS(a,t,e,i,s,l,u,h);for(;w--;){const{x:H,y:N}=j(v[w]);y[0][w]=H,y[1][w]=N}y[0][T]=a,y[1][T]=t,y[0][T+1]=u,y[1][T+1]=h;const M=[new X(Math.min(...y[0]),Math.min(...y[1])),new X(Math.max(...y[0]),Math.max(...y[1]))];return Rt.cachesBoundsOfCurve&&(ro.boundsOfCurveCache[d]=M),M}const uD=(a,t,e)=>{let[i,s,l,u,h,d,g,m]=e;const v=((y,S,x,_,w,T,j)=>{if(x===0||_===0)return[];let M=0,H=0,N=0;const V=Math.PI,K=j*hg,W=mi(K),nt=pi(K),lt=.5*(-nt*y-W*S),vt=.5*(-nt*S+W*y),ht=x**2,ot=_**2,ut=vt**2,yt=lt**2,P=ht*ot-ht*ut-ot*yt;let J=Math.abs(x),et=Math.abs(_);if(P<0){const Zt=Math.sqrt(1-P/(ht*ot));J*=Zt,et*=Zt}else N=(w===T?-1:1)*Math.sqrt(P/(ht*ut+ot*yt));const pt=N*J*vt/et,D=-N*et*lt/J,G=nt*pt-W*D+.5*y,tt=W*pt+nt*D+.5*S;let Z=ky(1,0,(lt-pt)/J,(vt-D)/et),it=ky((lt-pt)/J,(vt-D)/et,(-lt-pt)/J,(-vt-D)/et);T===0&&it>0?it-=2*V:T===1&&it<0&&(it+=2*V);const gt=Math.ceil(Math.abs(it/V*2)),at=[],jt=it/gt,Ot=8/3*Math.sin(jt/4)*Math.sin(jt/4)/Math.sin(jt/2);let ue=Z+jt;for(let Zt=0;Zt<gt;Zt++)at[Zt]=cD(Z,ue,nt,W,J,et,G,tt,Ot,M,H),M=at[Zt][5],H=at[Zt][6],Z=ue,ue+=jt;return at})(g-a,m-t,s,l,h,d,u);for(let y=0,S=v.length;y<S;y++)v[y][1]+=a,v[y][2]+=t,v[y][3]+=a,v[y][4]+=t,v[y][5]+=a,v[y][6]+=t;return v},hD=a=>{let t=0,e=0,i=0,s=0;const l=[];let u,h=0,d=0;for(const g of a){const m=[...g];let v;switch(m[0]){case"l":m[1]+=t,m[2]+=e;case"L":t=m[1],e=m[2],v=["L",t,e];break;case"h":m[1]+=t;case"H":t=m[1],v=["L",t,e];break;case"v":m[1]+=e;case"V":e=m[1],v=["L",t,e];break;case"m":m[1]+=t,m[2]+=e;case"M":t=m[1],e=m[2],i=m[1],s=m[2],v=["M",t,e];break;case"c":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e,m[5]+=t,m[6]+=e;case"C":h=m[3],d=m[4],t=m[5],e=m[6],v=["C",m[1],m[2],h,d,t,e];break;case"s":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e;case"S":u==="C"?(h=2*t-h,d=2*e-d):(h=t,d=e),t=m[3],e=m[4],v=["C",h,d,m[1],m[2],t,e],h=v[3],d=v[4];break;case"q":m[1]+=t,m[2]+=e,m[3]+=t,m[4]+=e;case"Q":h=m[1],d=m[2],t=m[3],e=m[4],v=["Q",h,d,t,e];break;case"t":m[1]+=t,m[2]+=e;case"T":u==="Q"?(h=2*t-h,d=2*e-d):(h=t,d=e),t=m[1],e=m[2],v=["Q",h,d,t,e];break;case"a":m[6]+=t,m[7]+=e;case"A":uD(t,e,m).forEach(y=>l.push(y)),t=m[6],e=m[7];break;case"z":case"Z":t=i,e=s,v=["Z"]}v?(l.push(v),u=v[0]):u=""}return l},Fc=(a,t,e,i)=>Math.sqrt((e-a)**2+(i-t)**2),zS=(a,t,e,i,s,l,u,h)=>d=>{const g=d**3,m=(S=>3*S**2*(1-S))(d),v=(S=>3*S*(1-S)**2)(d),y=(S=>(1-S)**3)(d);return new X(u*g+s*m+e*v+a*y,h*g+l*m+i*v+t*y)},BS=a=>a**2,NS=a=>2*a*(1-a),HS=a=>(1-a)**2,fD=(a,t,e,i,s,l,u,h)=>d=>{const g=BS(d),m=NS(d),v=HS(d),y=3*(v*(e-a)+m*(s-e)+g*(u-s)),S=3*(v*(i-t)+m*(l-i)+g*(h-l));return Math.atan2(S,y)},dD=(a,t,e,i,s,l)=>u=>{const h=BS(u),d=NS(u),g=HS(u);return new X(s*h+e*d+a*g,l*h+i*d+t*g)},gD=(a,t,e,i,s,l)=>u=>{const h=1-u,d=2*(h*(e-a)+u*(s-e)),g=2*(h*(i-t)+u*(l-i));return Math.atan2(g,d)},zy=(a,t,e)=>{let i=new X(t,e),s=0;for(let l=1;l<=100;l+=1){const u=a(l/100);s+=Fc(i.x,i.y,u.x,u.y),i=u}return s},pD=(a,t)=>{let e,i=0,s=0,l={x:a.x,y:a.y},u=k({},l),h=.01,d=0;const g=a.iterator,m=a.angleFinder;for(;s<t&&h>1e-4;)u=g(i),d=i,e=Fc(l.x,l.y,u.x,u.y),e+s>t?(i-=h,h/=2):(l=u,i+=h,s+=e);return k(k({},u),{},{angle:m(d)})},US=a=>{let t,e,i=0,s=0,l=0,u=0,h=0;const d=[];for(const g of a){const m={x:s,y:l,command:g[0],length:0};switch(g[0]){case"M":e=m,e.x=u=s=g[1],e.y=h=l=g[2];break;case"L":e=m,e.length=Fc(s,l,g[1],g[2]),s=g[1],l=g[2];break;case"C":t=zS(s,l,g[1],g[2],g[3],g[4],g[5],g[6]),e=m,e.iterator=t,e.angleFinder=fD(s,l,g[1],g[2],g[3],g[4],g[5],g[6]),e.length=zy(t,s,l),s=g[5],l=g[6];break;case"Q":t=dD(s,l,g[1],g[2],g[3],g[4]),e=m,e.iterator=t,e.angleFinder=gD(s,l,g[1],g[2],g[3],g[4]),e.length=zy(t,s,l),s=g[3],l=g[4];break;case"Z":e=m,e.destX=u,e.destY=h,e.length=Fc(s,l,u,h),s=u,l=h}i+=e.length,d.push(e)}return d.push({length:i,x:s,y:l}),d},mD=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:US(a),i=0;for(;t-e[i].length>0&&i<e.length-2;)t-=e[i].length,i++;const s=e[i],l=t/s.length,u=a[i];switch(s.command){case"M":return{x:s.x,y:s.y,angle:0};case"Z":return k(k({},new X(s.x,s.y).lerp(new X(s.destX,s.destY),l)),{},{angle:Math.atan2(s.destY-s.y,s.destX-s.x)});case"L":return k(k({},new X(s.x,s.y).lerp(new X(u[1],u[2]),l)),{},{angle:Math.atan2(u[2]-s.y,u[1]-s.x)});case"C":case"Q":return pD(s,t)}},vD=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),By=new RegExp(oD,"g"),yD=new RegExp(Rr,"gi"),bD={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},SD=a=>{var t;const e=[],i=(t=a.match(vD))!==null&&t!==void 0?t:[];for(const s of i){const l=s[0];if(l==="z"||l==="Z"){e.push([l]);continue}const u=bD[l.toLowerCase()];let h=[];if(l==="a"||l==="A"){By.lastIndex=0;for(let d=null;d=By.exec(s);)h.push(...d.slice(1))}else h=s.match(yD)||[];for(let d=0;d<h.length;d+=u){const g=new Array(u),m=lD[l];g[0]=d>0&&m?m:l;for(let v=0;v<u;v++)g[v+1]=parseFloat(h[d+v]);e.push(g)}}return e},xD=(a,t)=>a.map(e=>e.map((i,s)=>s===0||t===void 0?i:Vt(i,t)).join(" ")).join(" ");function Ad(a,t){const e=a.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(i=>{let[s,l]=i;return e.setProperty(s,l)}))}class _D extends pS{constructor(t){let{allowTouchScrolling:e=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),R(this,"upper",void 0),R(this,"container",void 0);const{el:s}=this.lower,l=this.createUpperCanvas();this.upper={el:l,ctx:l.getContext("2d")},this.applyCanvasStyle(s,{allowTouchScrolling:e}),this.applyCanvasStyle(l,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});const u=this.createContainerElement();u.classList.add(i),s.parentNode&&s.parentNode.replaceChild(u,s),u.append(s,l),this.container=u}createUpperCanvas(){const{el:t}=this.lower,e=An();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){const t=Pa().createElement("div");return t.setAttribute("data-fabric","wrapper"),Ad(t,{position:"relative"}),cy(t),t}applyCanvasStyle(t,e){const{styles:i,allowTouchScrolling:s}=e;Ad(t,k(k({},i),{},{"touch-action":s?"manipulation":Ne})),cy(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:i,ctx:s}=this.upper;gS(i,s,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),_d(this.upper.el,t),_d(this.container,t)}cleanupDOM(t){const e=this.container,{el:i}=this.lower,{el:s}=this.upper;super.cleanupDOM(t),e.removeChild(s),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),Xn().dispose(this.upper.el),delete this.upper,delete this.container}}class mu extends Do{constructor(){super(...arguments),R(this,"targets",[]),R(this,"_hoveredTargets",[]),R(this,"_objectsToRender",void 0),R(this,"_currentTransform",null),R(this,"_groupSelector",null),R(this,"contextTopDirty",!1)}static getDefaults(){return k(k({},super.getDefaults()),mu.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new _D(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),i=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){const s=this.targetFindTolerance,l=this.pixelFindContext;this.clearContext(l),l.save(),l.translate(-e+s,-i+s),l.transform(...this.viewportTransform);const u=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(l),t.selectionBackgroundColor=u,l.restore();const h=Math.round(s*this.getRetinaScaling());return EE(l,h,h,h)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(i=>!!i&&t[i]===!0):t[e])}_shouldClearSelection(t,e){const i=this.getActiveObjects(),s=this._activeObject;return!!(!e||e&&s&&i.length>1&&i.indexOf(e)===-1&&s!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&s&&s!==e)}_shouldCenterTransform(t,e,i){if(!t)return;let s;return e===cu||e===Ue||e===pn||e===ho?s=this.centeredScaling||t.centeredScaling:e===gg&&(s=this.centeredRotation||t.centeredRotation),s?!i:i}_getOriginFromCorner(t,e){const i={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?i.x=te:["mr","tr","br"].includes(e)&&(i.x=kt),["tl","mt","tr"].includes(e)?i.y=xd:["bl","mb","br"].includes(e)&&(i.y=Be)),i}_setupCurrentTransform(t,e,i){var s;const l=e.group?La(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:u="",control:h}=e.getActiveControl()||{},d=i&&h?(s=h.getActionHandler(t,e,h))===null||s===void 0?void 0:s.bind(h):GO,g=((S,x,_,w)=>{if(!x||!S)return"drag";const T=w.controls[x];return T.getActionName(_,T,w)})(i,u,t,e),m=t[this.centeredKey],v=this._shouldCenterTransform(e,g,m)?{x:xt,y:xt}:this._getOriginFromCorner(e,u),y={target:e,action:g,actionHandler:d,actionPerformed:!1,corner:u,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:l.x-e.left,offsetY:l.y-e.top,originX:v.x,originY:v.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:ee(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:m,original:k(k({},mS(e)),{},{originX:v.x,originY:v.y})};this._currentTransform=y,this.fire("before:transform",{e:t,transform:y})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:i,deltaX:s,deltaY:l}=this._groupSelector,u=new X(e,i).transform(this.viewportTransform),h=new X(e+s,i+l).transform(this.viewportTransform),d=this.selectionLineWidth/2;let g=Math.min(u.x,h.x),m=Math.min(u.y,h.y),v=Math.max(u.x,h.x),y=Math.max(u.y,h.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(g,m,v-g,y-m)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,g+=d,m+=d,v-=d,y-=d,Te.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(g,m,v-g,y-m))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),i=this._activeObject,s=this.getActiveObjects();if(this.targets=[],i&&s.length>=1){if(i.findControl(e,Cd(t))||s.length>1&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){const l=this.targets;this.targets=[];const u=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&u&&u!==i?(this.targets=l,i):u}return i}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let i=t.getCoords();const s=this.getZoom(),l=t.padding/s;if(l){const[u,h,d,g]=i,m=Math.atan2(h.y-u.y,h.x-u.x),v=pi(m)*l,y=mi(m)*l,S=v+y,x=v-y;i=[new X(u.x-x,u.y-S),new X(h.x+S,h.y-x),new X(d.x+x,d.y+S),new X(g.x-S,g.y+x)]}return $t.isPointInPolygon(e,i)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,La(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){const s=t[i];if(this._checkTarget(s,e)){if(Ec(s)&&s.subTargetCheck){const l=this._searchPossibleTargets(s._objects,e);l&&this.targets.push(l)}return s}}}searchPossibleTargets(t,e){const i=this._searchPossibleTargets(t,e);if(i&&Ec(i)&&i.interactive&&this.targets[0]){const s=this.targets;for(let l=s.length-1;l>0;l--){const u=s[l];if(!Ec(u)||!u.interactive)return u}return s[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.upperCanvasEl,s=i.getBoundingClientRect();let l=HO(t),u=s.width||0,h=s.height||0;u&&h||(Be in s&&xd in s&&(h=Math.abs(s.top-s.bottom)),te in s&&kt in s&&(u=Math.abs(s.right-s.left))),this.calcOffset(),l.x=l.x-this._offset.left,l.y=l.y-this._offset.top,e||(l=La(l,void 0,this.viewportTransform));const d=this.getRetinaScaling();d!==1&&(l.x/=d,l.y/=d);const g=u===0||h===0?new X(1,1):new X(i.width/u,i.height/h);return l.multiply(g)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=An(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return Tr(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let i=!1,s=!1;const l=this.getActiveObjects(),u=[],h=[];t.forEach(d=>{l.includes(d)||(i=!0,d.fire("deselected",{e,target:d}),h.push(d))}),l.forEach(d=>{t.includes(d)||(i=!0,d.fire("selected",{e,target:d}),u.push(d))}),t.length>0&&l.length>0?(s=!0,i&&this.fire("selection:updated",{e,selected:u,deselected:h})):l.length>0?(s=!0,this.fire("selection:created",{e,selected:u})):t.length>0&&(s=!0,this.fire("selection:cleared",{e,deselected:h})),s&&(this._objectsToRender=void 0)}setActiveObject(t,e){const i=this.getActiveObjects(),s=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),s}_setActiveObject(t,e){const i=this._activeObject;return i!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,Tr(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){const i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),Tr(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const e=this.getActiveObjects(),i=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});const s=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),s}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,i=e.target,s={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",s),i.fire(Bc,s))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;Tr(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){const s=this._realizeGroupTransformOnObject(t),l=super._toObject(t,e,i);return t.set(s),l}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&Tr(e)&&this._activeObject===e){const i=qa(t,["angle","flipX","flipY",kt,Ue,pn,Fa,Va,Be]);return YO(t,e.calcOwnMatrix()),i}return{}}_setSVGObject(t,e,i){const s=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(s)}}R(mu,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class CD{constructor(t){R(this,"targets",[]),R(this,"__disposer",void 0);const e=()=>{const{hiddenTextarea:s}=t.getActiveObject()||{};s&&s.focus()},i=t.upperCanvasEl;i.addEventListener("click",e),this.__disposer=()=>i.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),Ma(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const wD=["target","oldTarget","fireCanvas","e"],Ze={passive:!1},Da=(a,t)=>{const e=a.getViewportPoint(t),i=a.getScenePoint(t);return{viewportPoint:e,scenePoint:i,pointer:e,absolutePointer:i}},Qi=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return a.addEventListener(...e)},fn=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return a.removeEventListener(...e)},TD={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Rd extends mu{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),R(this,"_isClick",void 0),R(this,"textEditingManager",new CD(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Qi,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){const i=this.upperCanvasEl,s=this._getEventPrefix();t(dS(i),"resize",this._onResize),t(i,s+"down",this._onMouseDown),t(i,"".concat(s,"move"),this._onMouseMove,Ze),t(i,"".concat(s,"out"),this._onMouseOut),t(i,"".concat(s,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"click",this._onClick),t(i,"dblclick",this._onClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,Ze)}removeListeners(){this.addOrRemove(fn,"remove");const t=this._getEventPrefix(),e=wn(this.upperCanvasEl);fn(e,"".concat(t,"up"),this._onMouseUp),fn(e,"touchend",this._onTouchEnd,Ze),fn(e,"".concat(t,"move"),this._onMouseMove,Ze),fn(e,"touchmove",this._onMouseMove,Ze),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,i=k({e:t},Da(this,t));this.fire("mouse:out",k(k({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",k({},i)),this._hoveredTargets.forEach(s=>{this.fire("mouse:out",k(k({},i),{},{target:s})),s&&s.fire("mouseout",k({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",k({e:t},Da(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const i={e:t,target:e};return this.fire("dragstart",i),e.fire("dragstart",i),void Qi(this.upperCanvasEl,"drag",this._onDragProgress)}uy(t)}_renderDragEffects(t,e,i){let s=!1;const l=this._dropTarget;l&&l!==e&&l!==i&&(l.clearContextTop(),s=!0),e==null||e.clearContextTop(),i!==e&&(i==null||i.clearContextTop());const u=this.contextTop;u.save(),u.transform(...this.viewportTransform),e&&(u.save(),e.transform(u),e.renderDragSourceEffect(t),u.restore(),s=!0),i&&(u.save(),i.transform(u),i.renderDropTargetEffect(t),u.restore(),s=!0),u.restore(),s&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==Ne,i=e?this._activeObject:void 0,s={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};fn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",s),this._dragSource&&this._dragSource.fire("dragend",s),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e="dragover",{target:i,targets:s}=this.findDragTargets(t),l=this._dragSource,u={e:t,target:i,subTargets:s,dragSource:l,canDrop:!1,dropTarget:void 0};let h;this.fire(e,u),this._fireEnterLeaveEvents(i,u),i&&(i.canDrop(t)&&(h=i),i.fire(e,u));for(let d=0;d<s.length;d++){const g=s[d];g.canDrop(t)&&(h=g),g.fire(e,u)}this._renderDragEffects(t,l,h),this._dropTarget=h}_onDragEnter(t){const{target:e,targets:i}=this.findDragTargets(t),s={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",s),this._fireEnterLeaveEvents(e,s)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:i}=this.findDragTargets(t),s=this._basicEventHandler("drop:before",k({e:t,target:e,subTargets:i,dragSource:this._dragSource},Da(this,t)));s.didDrop=!1,s.dropTarget=void 0,this._basicEventHandler("drop",s),this.fire("drop:after",s)}_onContextMenu(t){const e=this.findTarget(t),i=this.targets||[],s=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&uy(t),this._basicEventHandler("contextmenu",s),!1}_onClick(t){const e=t.detail;e>3||e<2||(this._cacheTransformEventData(t),e==2&&t.type==="dblclick"&&this._handleEvent(t,"dblclick"),e==3&&this._handleEvent(t,"tripleclick"),this._resetTransformEventData())}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;const i=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||i&&this._target===i)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const s=this.upperCanvasEl,l=this._getEventPrefix(),u=wn(s);Qi(u,"touchend",this._onTouchEnd,Ze),e&&Qi(u,"touchmove",this._onMouseMove,Ze),fn(s,"".concat(l,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,i=this._getEventPrefix();fn(e,"".concat(i,"move"),this._onMouseMove,Ze);const s=wn(e);Qi(s,"".concat(i,"up"),this._onMouseUp),Qi(s,"".concat(i,"move"),this._onMouseMove,Ze)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),i=wn(this.upperCanvasEl);fn(i,"touchend",this._onTouchEnd,Ze),fn(i,"touchmove",this._onMouseMove,Ze),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Qi(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){const s=wn(this.upperCanvasEl);fn(s,"".concat(i,"up"),this._onMouseUp),fn(s,"".concat(i,"move"),this._onMouseMove,Ze),Qi(e,"".concat(i,"move"),this._onMouseMove,Ze)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const i=this._currentTransform,s=this._isClick,l=this._target,{button:u}=t;if(u)return(this.fireMiddleClick&&u===1||this.fireRightClick&&u===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let h,d,g=!1;if(i&&(this._finalizeCurrentTransform(t),g=i.actionPerformed),!s){const m=l===this._activeObject;this.handleSelection(t),g||(g=this._shouldRender(l)||!m&&l===this._activeObject)}if(l){const m=l.findControl(this.getViewportPoint(t),Cd(t)),{key:v,control:y}=m||{};if(d=v,l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,t),g=!0;else if(y){const S=y.getMouseUpHandler(t,l,y);S&&(h=this.getScenePoint(t),S.call(y,t,i,h.x,h.y))}l.isMoving=!1}if(i&&(i.target!==l||i.corner!==d)){const m=i.target&&i.target.controls[i.corner],v=m&&m.getMouseUpHandler(t,i.target,m);h=h||this.getScenePoint(t),v&&v.call(m,t,i,h.x,h.y)}this._setCursorFromEvent(t,l),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=void 0),g?this.requestRenderAll():s||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:i,subTargets:s=[]}=e;this.fire(t,e),i&&i.fire(t,e);for(let l=0;l<s.length;l++)s[l]!==i&&s[l].fire(t,e);return e}_handleEvent(t,e,i){const s=this._target,l=this.targets||[],u=k(k(k({e:t,target:s,subTargets:l},Da(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),e==="down:before"||e==="down"?i:{});this.fire("mouse:".concat(e),u),s&&s.fire("mouse".concat(e),u);for(let h=0;h<l.length;h++)l[h]!==s&&l[h].fire("mouse".concat(e),u)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,i=!!e&&e===this._activeObject;const{button:s}=t;if(s)return(this.fireMiddleClick&&s===1||this.fireRightClick&&s===2)&&this._handleEvent(t,"down",{alreadySelected:i}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let l=this._shouldRender(e),u=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,u=!0,l=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const h=this.getScenePoint(t);this._groupSelector={x:h.x,y:h.y,deltaY:0,deltaX:0}}if(i=!!e&&e===this._activeObject,e){e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);const h=e.findControl(this.getViewportPoint(t),Cd(t));if(e===this._activeObject&&(h||!u)){this._setupCurrentTransform(t,e,i);const d=h?h.control:void 0,g=this.getScenePoint(t),m=d&&d.getMouseDownHandler(t,e,d);m&&m.call(d,t,this._currentTransform,g.x,g.y)}}l&&(this._objectsToRender=void 0),this._handleEvent(t,"down",{alreadySelected:i}),l&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=La(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const i=this.getScenePoint(t);e.deltaX=i.x-e.x,e.deltaY=i.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const i=this._hoveredTarget,s=this._hoveredTargets,l=this.targets,u=Math.max(s.length,l.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:i,fireCanvas:!0});for(let h=0;h<u;h++)this.fireSyntheticInOutEvents("mouse",{e:t,target:l[h],oldTarget:s[h]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const i=this._draggedoverTarget,s=this._hoveredTargets,l=this.targets,u=Math.max(s.length,l.length);this.fireSyntheticInOutEvents("drag",k(k({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let h=0;h<u;h++)this.fireSyntheticInOutEvents("drag",k(k({},e),{},{target:l[h],oldTarget:s[h]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:i,oldTarget:s,fireCanvas:l,e:u}=e,h=Gt(e,wD);const{targetIn:d,targetOut:g,canvasIn:m,canvasOut:v}=TD[t],y=s!==i;if(s&&y){const S=k(k({},h),{},{e:u,target:s,nextTarget:i},Da(this,u));l&&this.fire(v,S),s.fire(g,S)}if(i&&y){const S=k(k({},h),{},{e:u,target:i,previousTarget:s},Da(this,u));l&&this.fire(m,S),i.fire(d,S)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),i=this._currentTransform,s=i.target,l=s.group?La(e,void 0,s.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,l),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){const{action:s,actionHandler:l,target:u}=e,h=!!l&&l(t,e,i.x,i.y);h&&u.setCoords(),s==="drag"&&h&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||h}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let i=e.hoverCursor||this.hoverCursor;const s=Tr(this._activeObject)?this._activeObject:null,l=(!s||e.group!==s)&&e.findControl(this.getViewportPoint(t));if(l){const u=l.control;this.setCursor(u.cursorStyleHandler(t,u,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(u=>{i=u.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,e){const i=this._activeObject,s=Tr(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(i!==e||s)&&(s||!e.isDescendantOf(i)&&!i.isDescendantOf(e))&&!e.onSelect({e:t})&&!i.getActiveControl()){if(s){const l=i.getObjects();if(e===i){const u=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(l,u)||this.searchPossibleTargets(this._objects,u))||!e.selectable)return!1}e.group===i?(i.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(e),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(l,t)}else{i.isEditing&&i.exitEditing();const l=new(rt.getClass("ActiveSelection"))([],{canvas:this});l.multiSelectAdd(i,e),this._hoveredTarget=l,this._setActiveObject(l,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:i,deltaX:s,deltaY:l}=this._groupSelector,u=new X(e,i),h=u.add(new X(s,l)),d=u.min(h),g=u.max(h).subtract(d),m=this.collectObjects({left:d.x,top:d.y,width:g.x,height:g.y},{includeIntersecting:!this.selectionFullyContained}),v=u.eq(h)?m[0]?[m[0]]:[]:m.length>1?m.filter(y=>!y.onSelect({e:t})).reverse():m;if(v.length===1)this.setActiveObject(v[0],t);else if(v.length>1){const y=rt.getClass("ActiveSelection");this.setActiveObject(new y(v,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const YS={x1:0,y1:0,x2:0,y2:0},OD=k(k({},YS),{},{r1:0,r2:0}),Ra=(a,t)=>isNaN(a)&&typeof t=="number"?t:a,ED=/^(\d+\.\d+)%|(\d+)%$/;function XS(a){return a&&ED.test(a)}function PS(a,t){const e=typeof a=="number"?a:typeof a=="string"?parseFloat(a)/(XS(a)?100:1):NaN;return Ha(0,Ra(e,t),1)}const DD=/\s*;\s*/,MD=/\s*:\s*/;function AD(a,t){let e,i;const s=a.getAttribute("style");if(s){const u=s.split(DD);u[u.length-1]===""&&u.pop();for(let h=u.length;h--;){const[d,g]=u[h].split(MD).map(m=>m.trim());d==="stop-color"?e=g:d==="stop-opacity"&&(i=g)}}const l=new Nt(e||a.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:PS(a.getAttribute("offset"),0),color:l.toRgb(),opacity:Ra(parseFloat(i||a.getAttribute("stop-opacity")||""),1)*l.getAlpha()*t}}function RD(a,t){const e=[],i=a.getElementsByTagName("stop"),s=PS(t,1);for(let l=i.length;l--;)e.push(AD(i[l],s));return e}function FS(a){return a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?"linear":"radial"}function VS(a){return a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function xn(a,t){return a.getAttribute(t)}function jD(a,t){return function(e,i){let s,{width:l,height:u,gradientUnits:h}=i;return Object.keys(e).reduce((d,g)=>{const m=e[g];return m==="Infinity"?s=1:m==="-Infinity"?s=0:(s=typeof m=="string"?parseFloat(m):m,typeof m=="string"&&XS(m)&&(s*=.01,h==="pixels"&&(g!=="x1"&&g!=="x2"&&g!=="r2"||(s*=l),g!=="y1"&&g!=="y2"||(s*=u)))),d[g]=s,d},{})}(FS(a)==="linear"?function(e){return{x1:xn(e,"x1")||0,y1:xn(e,"y1")||0,x2:xn(e,"x2")||"100%",y2:xn(e,"y2")||0}}(a):function(e){return{x1:xn(e,"fx")||xn(e,"cx")||"50%",y1:xn(e,"fy")||xn(e,"cy")||"50%",r1:0,x2:xn(e,"cx")||"50%",y2:xn(e,"cy")||"50%",r2:xn(e,"r")||"50%"}}(a),k(k({},t),{},{gradientUnits:VS(a)}))}class Jl{constructor(t){const{type:e="linear",gradientUnits:i="pixels",coords:s={},colorStops:l=[],offsetX:u=0,offsetY:h=0,gradientTransform:d,id:g}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:k(k({},e==="radial"?OD:YS),s),colorStops:l,offsetX:u,offsetY:h,gradientTransform:d,id:g?"".concat(g,"_").concat(Ji()):Ji()})}addColorStop(t){for(const e in t){const i=new Nt(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return k(k({},qa(this,t)),{},{type:this.type,coords:k({},this.coords),colorStops:this.colorStops.map(e=>k({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],s=this.gradientTransform?this.gradientTransform.concat():Me.concat(),l=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",u=this.colorStops.map(v=>k({},v)).sort((v,y)=>v.offset-y.offset);let h=-this.offsetX,d=-this.offsetY;var g;l==="objectBoundingBox"?(h/=t.width,d/=t.height):(h+=t.width/2,d+=t.height/2),(g=t)&&typeof g._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(h-=t.pathOffset.x,d-=t.pathOffset.y),s[4]-=h,s[5]-=d;const m=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(l,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(go(s),'"'),""].join(" ");if(this.type==="linear"){const{x1:v,y1:y,x2:S,y2:x}=this.coords;i.push("<linearGradient ",m,' x1="',v,'" y1="',y,'" x2="',S,'" y2="',x,`">
`)}else if(this.type==="radial"){const{x1:v,y1:y,x2:S,y2:x,r1:_,r2:w}=this.coords,T=_>w;i.push("<radialGradient ",m,' cx="',T?v:S,'" cy="',T?y:x,'" r="',T?_:w,'" fx="',T?S:v,'" fy="',T?x:y,`">
`),T&&(u.reverse(),u.forEach(M=>{M.offset=1-M.offset}));const j=Math.min(_,w);if(j>0){const M=j/Math.max(_,w);u.forEach(H=>{H.offset+=M*(1-H.offset)})}}return u.forEach(v=>{let{color:y,offset:S,opacity:x}=v;i.push("<stop ",'offset="',100*S+"%",'" style="stop-color:',y,x!==void 0?";stop-opacity: "+x:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){const{x1:e,y1:i,x2:s,y2:l,r1:u,r2:h}=this.coords,d=this.type==="linear"?t.createLinearGradient(e,i,s,l):t.createRadialGradient(e,i,u,s,l,h);return this.colorStops.forEach(g=>{let{color:m,opacity:v,offset:y}=g;d.addColorStop(y,v!==void 0?new Nt(m).setAlpha(v).toRgba():m)}),d}static async fromObject(t){const{colorStops:e,gradientTransform:i}=t;return new this(k(k({},t),{},{colorStops:e?e.map(s=>k({},s)):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,e,i){const s=VS(t),l=e._findCenterFromElement();return new this(k({id:t.getAttribute("id")||void 0,type:FS(t),coords:jD(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:RD(t,i.opacity),gradientUnits:s,gradientTransform:Ed(t.getAttribute("gradientTransform")||"")},s==="pixels"?{offsetX:e.width/2-l.x,offsetY:e.height/2-l.y}:{offsetX:0,offsetY:0}))}}R(Jl,"type","Gradient"),rt.setClass(Jl,"gradient"),rt.setClass(Jl,"linear"),rt.setClass(Jl,"radial");const kD=["type","source","patternTransform"];class ad{get type(){return"pattern"}set type(t){Ki("warn","Setting type has no effect",t)}constructor(t){R(this,"repeat","repeat"),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"crossOrigin",""),this.id=Ji(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:e,crossOrigin:i}=this;return k(k({},qa(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:Vt(this.offsetX,Rt.NUM_FRACTION_DIGITS),offsetY:Vt(this.offsetY,Rt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:i}=t;const{source:s,repeat:l,id:u}=this,h=Ra(this.offsetX/e,0),d=Ra(this.offsetY/i,0),g=l==="repeat-y"||l==="no-repeat"?1+Math.abs(h||0):Ra(s.width/e,0),m=l==="repeat-x"||l==="no-repeat"?1+Math.abs(d||0):Ra(s.height/i,0);return['<pattern id="SVGID_'.concat(u,'" x="').concat(h,'" y="').concat(d,'" width="').concat(g,'" height="').concat(m,'">'),'<image x="0" y="0" width="'.concat(s.width,'" height="').concat(s.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,e){let{type:i,source:s,patternTransform:l}=t,u=Gt(t,kD);const h=await Mc(s,k(k({},e),{},{crossOrigin:u.crossOrigin}));return new this(k(k({},u),{},{patternTransform:l&&l.slice(0),source:h}))}}R(ad,"type","Pattern"),rt.setClass(ad),rt.setClass(ad,"pattern");const LD=["path","left","top"],zD=["d"];class Or extends Te{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:s,top:l}=e,u=Gt(e,LD);super(),Object.assign(this,Or.ownDefaults),this.setOptions(u),this._setPath(t||[],!0),typeof s=="number"&&this.set(kt,s),typeof l=="number"&&this.set(Be,l)}_setPath(t,e){this.path=hD(Array.isArray(t)?t:SD(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new X(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(const s of this.path)switch(s[0]){case"L":t.lineTo(s[1]+e,s[2]+i);break;case"M":t.moveTo(s[1]+e,s[2]+i);break;case"C":t.bezierCurveTo(s[1]+e,s[2]+i,s[3]+e,s[4]+i,s[5]+e,s[6]+i);break;case"Q":t.quadraticCurveTo(s[1]+e,s[2]+i,s[3]+e,s[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=xD(this.path,Rt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=Rt.NUM_FRACTION_DIGITS;return" translate(".concat(Vt(-this.pathOffset.x,t),", ").concat(Vt(-this.pathOffset.y,t),")")}toClipPathSVG(t){const e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:i,pathOffset:s}=this._calcDimensions();this.set({width:e,height:i,pathOffset:s}),t&&this.setPositionByOrigin(s,xt,xt)}_calcBoundsFromPath(){const t=[];let e=0,i=0,s=0,l=0;for(const u of this.path)switch(u[0]){case"L":s=u[1],l=u[2],t.push({x:e,y:i},{x:s,y:l});break;case"M":s=u[1],l=u[2],e=s,i=l;break;case"C":t.push(...Ly(s,l,u[1],u[2],u[3],u[4],u[5],u[6])),s=u[5],l=u[6];break;case"Q":t.push(...Ly(s,l,u[1],u[2],u[1],u[2],u[3],u[4])),s=u[3],l=u[4];break;case"Z":s=e,l=i}return fi(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return k(k({},t),{},{pathOffset:new X(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,i){const s=Ci(t,this.ATTRIBUTE_NAMES,i),{d:l}=s;return new this(l,k(k(k({},Gt(s,zD)),e),{},{left:void 0,top:void 0}))}}R(Or,"type","Path"),R(Or,"cacheProperties",[..._i,"path","fillRule"]),R(Or,"ATTRIBUTE_NAMES",[...nr,"d"]),rt.setClass(Or),rt.setSVGClass(Or);const BD=["left","top","radius"],GS=["radius","startAngle","endAngle","counterClockwise"];class Nn extends Te{static getDefaults(){return k(k({},super.getDefaults()),Nn.ownDefaults)}constructor(t){super(),Object.assign(this,Nn.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,ee(this.startAngle),ee(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(Ue)}getRadiusY(){return this.get("radius")*this.get(pn)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...GS,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:e}=this,i=ee(this.startAngle),s=ee(this.endAngle),l=pi(i)*e,u=mi(i)*e,h=pi(s)*e,d=mi(s)*e,g=t>180?1:0,m=this.counterClockwise?0:1;return['<path d="M '.concat(l," ").concat(u," A ").concat(e," ").concat(e," 0 ").concat(g," ").concat(m," ").concat(h," ").concat(d,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,e,i){const s=Ci(t,this.ATTRIBUTE_NAMES,i),{left:l=0,top:u=0,radius:h=0}=s;return new this(k(k({},Gt(s,BD)),{},{radius:h,left:l-h,top:u-h}))}static fromObject(t){return super._fromObject(t)}}R(Nn,"type","Circle"),R(Nn,"cacheProperties",[..._i,...GS]),R(Nn,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),R(Nn,"ATTRIBUTE_NAMES",["cx","cy","r",...nr]),rt.setClass(Nn),rt.setSVGClass(Nn);const ND=["x1","y1","x2","y2"],HD=["x1","y1","x2","y2"],jd=["x1","x2","y1","y2"];class Zi extends Te{constructor(){let[t,e,i,s]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Zi.ownDefaults),this.setOptions(l),this.x1=t,this.x2=i,this.y1=e,this.y2=s,this._setWidthHeight();const{left:u,top:h}=l;typeof u=="number"&&this.set(kt,u),typeof h=="number"&&this.set(Be,h)}_setWidthHeight(){const{x1:t,y1:e,x2:i,y2:s}=this;this.width=Math.abs(i-t),this.height=Math.abs(s-e);const{left:l,top:u,width:h,height:d}=fi([{x:t,y:e},{x:i,y:s}]),g=new X(l+h/2,u+d/2);this.setPositionByOrigin(g,xt,xt)}_set(t,e){return super._set(t,e),jd.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const i=t.strokeStyle;var s;dn(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(s=this.stroke)!==null&&s!==void 0?s:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new X((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:i,y2:s,width:l,height:u}=this,h=t<=e?-1:1,d=i<=s?-1:1;return{x1:h*l/2,x2:h*-l/2,y1:d*u/2,y2:d*-u/2}}_toSVG(){const{x1:t,x2:e,y1:i,y2:s}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(s,`" />
`)]}static async fromElement(t,e,i){const s=Ci(t,this.ATTRIBUTE_NAMES,i),{x1:l=0,y1:u=0,x2:h=0,y2:d=0}=s;return new this([l,u,h,d],Gt(s,ND))}static fromObject(t){let{x1:e,y1:i,x2:s,y2:l}=t,u=Gt(t,HD);return this._fromObject(k(k({},u),{},{points:[e,i,s,l]}),{extraParam:"points"})}}R(Zi,"type","Line"),R(Zi,"cacheProperties",[..._i,...jd]),R(Zi,"ATTRIBUTE_NAMES",nr.concat(jd)),rt.setClass(Zi),rt.setSVGClass(Zi);class Er extends Te{static getDefaults(){return k(k({},super.getDefaults()),Er.ownDefaults)}constructor(t){super(),Object.assign(this,Er.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}R(Er,"type","Triangle"),R(Er,"ownDefaults",{width:100,height:100}),rt.setClass(Er),rt.setSVGClass(Er);const qS=["rx","ry"];class oi extends Te{static getDefaults(){return k(k({},super.getDefaults()),oi.ownDefaults)}constructor(t){super(),Object.assign(this,oi.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(Ue)}getRy(){return this.get("ry")*this.get(pn)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...qS,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Lc,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,i){const s=Ci(t,this.ATTRIBUTE_NAMES,i);return s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,new this(s)}}function UD(a){if(!a)return[];const t=a.replace(/,/g," ").trim().split(/\s+/),e=[];for(let i=0;i<t.length;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e}R(oi,"type","Ellipse"),R(oi,"cacheProperties",[..._i,...qS]),R(oi,"ownDefaults",{rx:0,ry:0}),R(oi,"ATTRIBUTE_NAMES",[...nr,"cx","cy","rx","ry"]),rt.setClass(oi),rt.setSVGClass(oi);const YD=["left","top"],$S={exactBoundingBox:!1};class Cn extends Te{static getDefaults(){return k(k({},super.getDefaults()),Cn.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"strokeDiff",void 0),Object.assign(this,Cn.ownDefaults),this.setOptions(e),this.points=t;const{left:i,top:s}=e;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(kt,i),typeof s=="number"&&this.set(Be,s)}isOpen(){return!0}_projectStrokeOnPoints(t){return ME(this.points,t,this.isOpen())}_calcDimensions(t){t=k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(g=>g.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new X,strokeOffset:new X,strokeDiff:new X};const i=fi(e),s=uu(k(k({},t),{},{scaleX:1,scaleY:1})),l=fi(this.points.map(g=>ze(g,s,!0))),u=new X(this.scaleX,this.scaleY);let h=i.left+i.width/2,d=i.top+i.height/2;return this.exactBoundingBox&&(h-=d*Math.tan(ee(this.skewX)),d-=h*Math.tan(ee(this.skewY))),k(k({},i),{},{pathOffset:new X(h,d),strokeOffset:new X(l.left,l.top).subtract(new X(i.left,i.top)).multiply(u),strokeDiff:new X(i.width,i.height).subtract(new X(l.width,l.height)).multiply(u)})}_findCenterFromElement(){const t=fi(this.points);return new X(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:i,width:s,height:l,pathOffset:u,strokeOffset:h,strokeDiff:d}=this._calcDimensions();this.set({width:s,height:l,pathOffset:u,strokeOffset:h,strokeDiff:d}),t&&this.setPositionByOrigin(new X(e+s/2,i+l/2),xt,xt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new X(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let u;if(Object.keys(t).some(h=>this.strokeUniform||this.constructor.layoutProperties.includes(h))){var e,i;const{width:h,height:d}=this._calcDimensions(t);u=new X((e=t.width)!==null&&e!==void 0?e:h,(i=t.height)!==null&&i!==void 0?i:d)}else{var s,l;u=new X((s=t.width)!==null&&s!==void 0?s:this.width,(l=t.height)!==null&&l!==void 0?l:this.height)}return u.multiply(new X(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const i=this.initialized&&this[t]!==e,s=super._set(t,e);return this.exactBoundingBox&&i&&((t===Ue||t===pn)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),s}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:i,y:s}=e;return{x:i,y:s}})})}_toSVG(){const t=[],e=this.pathOffset.x,i=this.pathOffset.y,s=Rt.NUM_FRACTION_DIGITS;for(let l=0,u=this.points.length;l<u;l++)t.push(Vt(this.points[l].x-e,s),",",Vt(this.points[l].y-i,s)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const e=this.points.length,i=this.pathOffset.x,s=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-s);for(let l=0;l<e;l++){const u=this.points[l];t.lineTo(u.x-i,u.y-s)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,i){return new this(UD(t.getAttribute("points")),k(k({},Gt(Ci(t,this.ATTRIBUTE_NAMES,i),YD)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}R(Cn,"ownDefaults",$S),R(Cn,"type","Polyline"),R(Cn,"layoutProperties",[Fa,Va,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),R(Cn,"cacheProperties",[..._i,"points"]),R(Cn,"ATTRIBUTE_NAMES",[...nr]),rt.setClass(Cn),rt.setSVGClass(Cn);class tc extends Cn{isOpen(){return!1}}R(tc,"ownDefaults",$S),R(tc,"type","Polygon"),rt.setClass(tc),rt.setSVGClass(tc);const WS=["fontSize","fontWeight","fontFamily","fontStyle"],IS=["underline","overline","linethrough"],QS=[...WS,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],ZS=[...QS,...IS,"textBackgroundColor","direction"],XD=[...WS,...IS,He,"strokeWidth",oe,"deltaY","textBackgroundColor"],PD={_reNewline:dg,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:kt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:kt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Un="justify",Vc="justify-left",so="justify-right",oo="justify-center";class KS extends Te{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const e=t===void 0?this.styles:{line:this.styles[t]};for(const i in e)for(const s in e[i])for(const l in e[i][s])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;const i=e===void 0?this.styles:{0:this.styles[e]};for(const s in i)for(const l in i[s])if(i[s][l][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let i,s,l=0,u=!0,h=0;for(const d in e){i=0;for(const g in e[d]){const m=e[d][g]||{};l++,m[t]!==void 0?(s?m[t]!==s&&(u=!1):s=m[t],m[t]===this[t]&&delete m[t]):u=!1,Object.keys(m).length!==0?i++:delete e[d][g]}i===0&&delete e[d]}for(let d=0;d<this._textLines.length;d++)h+=this._textLines[d].length;u&&l===h&&(this[t]=s,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let i,s,l;for(s in e){for(l in i=e[s],i)delete i[l][t],Object.keys(i[l]).length===0&&delete i[l];Object.keys(i).length===0&&delete e[s]}}_extendStyles(t,e){const{lineIndex:i,charIndex:s}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);const l=yg(k(k({},this._getStyleDeclaration(i,s)),e),u=>u!==void 0);this._setStyleDeclaration(i,s,l)}getSelectionStyles(t,e,i){const s=[];for(let l=t;l<(e||t);l++)s.push(this.getStyleAtPosition(l,i));return s}getStyleAtPosition(t,e){const{lineIndex:i,charIndex:s}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(i,s):this._getStyleDeclaration(i,s)}setSelectionStyles(t,e,i){for(let s=e;s<(i||e);s++)this._extendStyles(s,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var i;const s=this.styles&&this.styles[t];return s&&(i=s[e])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,e){return k(k({},qa(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}R(KS,"_styleProperties",XD);const FD=/  +/g,VD=/"/g;function sd(a,t,e,i,s){return"		".concat(function(l,u){let{left:h,top:d,width:g,height:m}=u,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.NUM_FRACTION_DIGITS;const y=po(oe,l,!1),[S,x,_,w]=[h,d,g,m].map(T=>Vt(T,v));return"<rect ".concat(y,' x="').concat(S,'" y="').concat(x,'" width="').concat(_,'" height="').concat(w,'"></rect>')}(a,{left:t,top:e,width:i,height:s}),`
`)}const GD=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let od;class Ee extends KS{static getDefaults(){return k(k({},super.getDefaults()),Ee.ownDefaults)}constructor(t,e){super(),R(this,"__charBounds",[]),Object.assign(this,Ee.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=US(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Un)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,i,s,l,u,h;for(let d=0,g=this._textLines.length;d<g;d++)if((this.textAlign===Un||d!==g-1&&!this.isEndOfWrapping(d))&&(s=0,l=this._textLines[d],e=this.getLineWidth(d),e<this.width&&(h=this.textLines[d].match(this._reSpacesAndTabs)))){i=h.length,t=(this.width-e)/i;for(let m=0;m<=l.length;m++)u=this.__charBounds[d][m],this._reSpaceAndTab.test(l[m])?(u.width+=t,u.kernedWidth+=t,u.left+=s,s+=t):u.left+=s}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const i=e?this._unwrappedTextLines:this._textLines;let s;for(s=0;s<i.length;s++){if(t<=i[s].length)return{lineIndex:s,charIndex:t};t-=i[s].length+this.missingNewlineOffset(s,e)}return{lineIndex:s-1,charIndex:i[s-1].length<t?i[s-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===He?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case xt:t.textBaseline="middle";break;case"ascender":t.textBaseline=Be;break;case"descender":t.textBaseline=xd}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,i=this._textLines.length;e<i;e++){const s=this.getLineWidth(e);s>t&&(t=s)}return t}_renderTextLine(t,e,i,s,l,u){this._renderChars(t,e,i,s,l,u)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const e=t.fillStyle,i=this._getLeftOffset();let s=this._getTopOffset();for(let l=0,u=this._textLines.length;l<u;l++){const h=this.getHeightOfLine(l);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",l)){s+=h;continue}const d=this._textLines[l].length,g=this._getLineLeftOffset(l);let m,v,y=0,S=0,x=this.getValueOfPropertyAt(l,0,"textBackgroundColor");for(let _=0;_<d;_++){const w=this.__charBounds[l][_];v=this.getValueOfPropertyAt(l,_,"textBackgroundColor"),this.path?(t.save(),t.translate(w.renderLeft,w.renderTop),t.rotate(w.angle),t.fillStyle=v,v&&t.fillRect(-w.width/2,-h/this.lineHeight*(1-this._fontSizeFraction),w.width,h/this.lineHeight),t.restore()):v!==x?(m=i+g+S,this.direction==="rtl"&&(m=this.width-m-y),t.fillStyle=x,x&&t.fillRect(m,s,y,h/this.lineHeight),S=w.left,y=w.width,x=v):y+=w.kernedWidth}v&&!this.path&&(m=i+g+S,this.direction==="rtl"&&(m=this.width-m-y),t.fillStyle=v,t.fillRect(m,s,y,h/this.lineHeight)),s+=h}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,i,s){const l=ro.getFontCache(e),u=this._getFontDeclaration(e),h=i+t,d=i&&u===this._getFontDeclaration(s),g=e.fontSize/this.CACHE_FONT_SIZE;let m,v,y,S;if(i&&l[i]!==void 0&&(y=l[i]),l[t]!==void 0&&(S=m=l[t]),d&&l[h]!==void 0&&(v=l[h],S=v-y),m===void 0||y===void 0||v===void 0){const x=function(){return od||(od=mn({width:0,height:0}).getContext("2d")),od}();this._setTextStyles(x,e,!0),m===void 0&&(S=m=x.measureText(t).width,l[t]=m),y===void 0&&d&&i&&(y=x.measureText(i).width,l[i]=y),d&&v===void 0&&(v=x.measureText(h).width,l[h]=v,S=v-y)}return{width:m*g,kernedWidth:S*g}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){const e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,i,s=0;const l=this.pathSide===te,u=this.path,h=this._textLines[t],d=h.length,g=new Array(d);this.__charBounds[t]=g;for(let m=0;m<d;m++){const v=h[m];i=this._getGraphemeBox(v,t,m,e),g[m]=i,s+=i.kernedWidth,e=v}if(g[d]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},u&&u.segmentsInfo){let m=0;const v=u.segmentsInfo[u.segmentsInfo.length-1].length;switch(this.textAlign){case kt:m=l?v-s:0;break;case xt:m=(v-s)/2;break;case te:m=l?0:v-s}m+=this.pathStartOffset*(l?-1:1);for(let y=l?d-1:0;l?y>=0:y<d;l?y--:y++)i=g[y],m>v?m%=v:m<0&&(m+=v),this._setGraphemeOnPath(m,i),m+=i.kernedWidth}return{width:s,numOfSpaces:0}}_setGraphemeOnPath(t,e){const i=t+e.kernedWidth/2,s=this.path,l=mD(s.path,i,s.segmentsInfo);e.renderLeft=l.x-s.pathOffset.x,e.renderTop=l.y-s.pathOffset.y,e.angle=l.angle+(this.pathSide===te?Math.PI:0)}_getGraphemeBox(t,e,i,s,l){const u=this.getCompleteStyleDeclaration(e,i),h=s?this.getCompleteStyleDeclaration(e,i-1):{},d=this._measureChar(t,u,s,h);let g,m=d.kernedWidth,v=d.width;this.charSpacing!==0&&(g=this._getWidthOfCharSpacing(),v+=g,m+=g);const y={width:v,left:0,height:u.fontSize,kernedWidth:m,deltaY:u.deltaY};if(i>0&&!l){const S=this.__charBounds[e][i-1];y.left=S.left+S.width+d.kernedWidth-d.width}return y}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let i=1,s=this._textLines[t].length;i<s;i++)e=Math.max(this.getHeightOfChar(t,i),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let i=0,s=this._textLines.length;i<s;i++)t=this.getHeightOfLine(i),e+=i===s-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let i=0;const s=this._getLeftOffset(),l=this._getTopOffset();for(let u=0,h=this._textLines.length;u<h;u++){const d=this.getHeightOfLine(u),g=d/this.lineHeight,m=this._getLineLeftOffset(u);this._renderTextLine(e,t,this._textLines[u],s+m,l+i+g,u),i+=d}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(oe))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,i,s,l,u){const h=this.getHeightOfLine(u),d=this.textAlign.includes(Un),g=this.path,m=!d&&this.charSpacing===0&&this.isEmptyStyles(u)&&!g,v=this.direction==="ltr",y=this.direction==="ltr"?1:-1,S=e.direction;let x,_,w,T,j,M="",H=0;if(e.save(),S!==this.direction&&(e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?kt:te),l-=h*this._fontSizeFraction/this.lineHeight,m)return this._renderChar(t,e,u,0,i.join(""),s,l),void e.restore();for(let N=0,V=i.length-1;N<=V;N++)T=N===V||this.charSpacing||g,M+=i[N],w=this.__charBounds[u][N],H===0?(s+=y*(w.kernedWidth-w.width),H+=w.width):H+=w.kernedWidth,d&&!T&&this._reSpaceAndTab.test(i[N])&&(T=!0),T||(x=x||this.getCompleteStyleDeclaration(u,N),_=this.getCompleteStyleDeclaration(u,N+1),T=Og(x,_,!1)),T&&(g?(e.save(),e.translate(w.renderLeft,w.renderTop),e.rotate(w.angle),this._renderChar(t,e,u,N,M,-H/2,0),e.restore()):(j=s,this._renderChar(t,e,u,N,M,j,l)),M="",x=_,s+=y*H,H=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,i=this.height+this.strokeWidth,s=mn({width:e,height:i}),l=s.getContext("2d");return s.width=e,s.height=i,l.beginPath(),l.moveTo(0,0),l.lineTo(e,0),l.lineTo(e,i),l.lineTo(0,i),l.closePath(),l.translate(e/2,i/2),l.fillStyle=t.toLive(l),this._applyPatternGradientTransform(l,t),l.fill(),l.createPattern(s,"no-repeat")}handleFiller(t,e,i){let s,l;return dn(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(s=-this.width/2,l=-this.height/2,t.translate(s,l),t[e]=this._applyPatternGradientTransformText(i),{offsetX:s,offsetY:l}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:i,strokeWidth:s}=e;return t.lineWidth=s,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,e){let{fill:i}=e;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,e,i,s,l,u,h){const d=this._getStyleDeclaration(i,s),g=this.getCompleteStyleDeclaration(i,s),m=t==="fillText"&&g.fill,v=t==="strokeText"&&g.stroke&&g.strokeWidth;if(v||m){if(e.save(),e.font=this._getFontDeclaration(g),d.textBackgroundColor&&this._removeShadow(e),d.deltaY&&(h+=d.deltaY),m){const y=this._setFillStyles(e,g);e.fillText(l,u-y.offsetX,h-y.offsetY)}if(v){const y=this._setStrokeStyles(e,g);e.strokeText(l,u-y.offsetX,h-y.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){const s=this.get2DCursorLocation(t,!0),l=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"fontSize"),u=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"deltaY"),h={fontSize:l*i.size,deltaY:u+l*i.baseline};this.setSelectionStyles(h,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),i=this.width-e,s=this.textAlign,l=this.direction,u=this.isEndOfWrapping(t);let h=0;return s===Un||s===oo&&!u||s===so&&!u||s===Vc&&!u?0:(s===xt&&(h=i/2),s===te&&(h=i),s===oo&&(h=i/2),s===so&&(h=i),l==="rtl"&&(s===te||s===Un||s===so?h=0:s===kt||s===Vc?h=-i:s!==xt&&s!==oo||(h=-i/2)),h)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){var s;return(s=this._getStyleDeclaration(t,e)[i])!==null&&s!==void 0?s:this[i]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let i=this._getTopOffset();const s=this._getLeftOffset(),l=this.path,u=this._getWidthOfCharSpacing(),h=this.offsets[e];for(let d=0,g=this._textLines.length;d<g;d++){const m=this.getHeightOfLine(d);if(!this[e]&&!this.styleHas(e,d)){i+=m;continue}const v=this._textLines[d],y=m/this.lineHeight,S=this._getLineLeftOffset(d);let x,_,w=0,T=0,j=this.getValueOfPropertyAt(d,0,e),M=this.getValueOfPropertyAt(d,0,oe);const H=i+y*(1-this._fontSizeFraction);let N=this.getHeightOfChar(d,0),V=this.getValueOfPropertyAt(d,0,"deltaY");for(let W=0,nt=v.length;W<nt;W++){const lt=this.__charBounds[d][W];x=this.getValueOfPropertyAt(d,W,e),_=this.getValueOfPropertyAt(d,W,oe);const vt=this.getHeightOfChar(d,W),ht=this.getValueOfPropertyAt(d,W,"deltaY");if(l&&x&&_)t.save(),t.fillStyle=M,t.translate(lt.renderLeft,lt.renderTop),t.rotate(lt.angle),t.fillRect(-lt.kernedWidth/2,h*vt+ht,lt.kernedWidth,this.fontSize/15),t.restore();else if((x!==j||_!==M||vt!==N||ht!==V)&&T>0){let ot=s+S+w;this.direction==="rtl"&&(ot=this.width-ot-T),j&&M&&(t.fillStyle=M,t.fillRect(ot,H+h*N+V,T,this.fontSize/15)),w=lt.left,T=lt.width,j=x,M=_,N=vt,V=ht}else T+=lt.kernedWidth}let K=s+S+w;this.direction==="rtl"&&(K=this.width-K-T),t.fillStyle=_,x&&_&&t.fillRect(K,H+h*N+V,T-u,this.fontSize/15),i+=m}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:s=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;const u=t.includes("'")||t.includes('"')||t.includes(",")||Ee.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(l?this.CACHE_FONT_SIZE:s,"px"),u].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Tg(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),i=new Array(e.length),s=[`
`];let l=[];for(let u=0;u<e.length;u++)i[u]=this.graphemeSplit(e[u]),l=l.concat(i[u],s);return l.pop(),{_unwrappedLines:i,lines:e,graphemeText:l,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k(k({},super.toObject([...ZS,...t])),{},{styles:jE(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:i}=this.constructor;super.set(t,e);let s=!1,l=!1;if(typeof t=="object")for(const u in t)u==="path"&&this.setPathInfo(),s=s||i.includes(u),l=l||u==="path";else s=i.includes(t),l=t==="path";return l&&this.setPathInfo(),s&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,i){const s=Ci(t,Ee.ATTRIBUTE_NAMES,i),l=k(k({},e),s),{textAnchor:u=kt,textDecoration:h="",dx:d=0,dy:g=0,top:m=0,left:v=0,fontSize:y=fg,strokeWidth:S=1}=l,x=Gt(l,GD),_=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),k({left:v+d,top:m+g,underline:h.includes("underline"),overline:h.includes("overline"),linethrough:h.includes("line-through"),strokeWidth:0,fontSize:y},x)),w=_.getScaledHeight()/_.height,T=((_.height+_.strokeWidth)*_.lineHeight-_.height)*w,j=_.getScaledHeight()+T;let M=0;return u===xt&&(M=_.getScaledWidth()/2),u===te&&(M=_.getScaledWidth()),_.set({left:_.left-M,top:_.top-(j-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:S}),_}static fromObject(t){return this._fromObject(k(k({},t),{},{styles:kE(t.styles||{},t.text)}),{extraParam:"text"})}}R(Ee,"textLayoutProperties",QS),R(Ee,"cacheProperties",[..._i,...ZS]),R(Ee,"ownDefaults",PD),R(Ee,"type","Text"),R(Ee,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),R(Ee,"ATTRIBUTE_NAMES",nr.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),AS(Ee,[class extends xS{_toSVG(){const a=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(a.textTop,a.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(a){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:a,noStyle:!0,withShadow:!0}),e=this.path;return e?t+e._createBaseSVGMarkup(e._toSVG(),{reviver:a,withShadow:!0,additionalTransform:go(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(a){let{textBgRects:t,textSpans:e}=a;const i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(VD,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(a,t){const e=[],i=[];let s,l=a;this.backgroundColor&&i.push(...sd(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let u=0,h=this._textLines.length;u<h;u++)s=this._getLineLeftOffset(u),this.direction==="rtl"&&(s+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",u))&&this._setSVGTextLineBg(i,u,t+s,l),this._setSVGTextLineText(e,u,t+s,l),l+=this.getHeightOfLine(u);return{textSpans:e,textBgRects:i}}_createTextCharSpan(a,t,e,i,s){const l=Rt.NUM_FRACTION_DIGITS,u=this.getSvgSpanStyles(t,a!==a.trim()||!!a.match(FD)),h=u?'style="'.concat(u,'"'):"",d=t.deltaY,g=d?' dy="'.concat(Vt(d,l),'" '):"",{angle:m,renderLeft:v,renderTop:y,width:S}=s;let x="";if(v!==void 0){const _=S/2;m&&(x=' rotate="'.concat(Vt(vi(m),l),'"'));const w=Ga({angle:vi(m)});w[4]=v,w[5]=y;const T=new X(-_,0).transform(w);e=T.x,i=T.y}return'<tspan x="'.concat(Vt(e,l),'" y="').concat(Vt(i,l),'" ').concat(g).concat(x).concat(h,">").concat(AE(a),"</tspan>")}_setSVGTextLineText(a,t,e,i){const s=this.getHeightOfLine(t),l=this.textAlign.includes(Un),u=this._textLines[t];let h,d,g,m,v,y="",S=0;i+=s*(1-this._fontSizeFraction)/this.lineHeight;for(let x=0,_=u.length-1;x<=_;x++)v=x===_||this.charSpacing||this.path,y+=u[x],g=this.__charBounds[t][x],S===0?(e+=g.kernedWidth-g.width,S+=g.width):S+=g.kernedWidth,l&&!v&&this._reSpaceAndTab.test(u[x])&&(v=!0),v||(h=h||this.getCompleteStyleDeclaration(t,x),d=this.getCompleteStyleDeclaration(t,x+1),v=Og(h,d,!0)),v&&(m=this._getStyleDeclaration(t,x),a.push(this._createTextCharSpan(y,m,e,i,g)),y="",h=d,this.direction==="rtl"?e-=S:e+=S,S=0)}_setSVGTextLineBg(a,t,e,i){const s=this._textLines[t],l=this.getHeightOfLine(t)/this.lineHeight;let u,h=0,d=0,g=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let m=0;m<s.length;m++){const{left:v,width:y,kernedWidth:S}=this.__charBounds[t][m];u=this.getValueOfPropertyAt(t,m,"textBackgroundColor"),u!==g?(g&&a.push(...sd(g,e+d,i,h,l)),d=v,h=y,g=u):h+=S}u&&a.push(...sd(g,e+d,i,h,l))}_getSVGLineTopOffset(a){let t,e=0;for(t=0;t<a;t++)e+=this.getHeightOfLine(t);const i=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(a){return"".concat(super.getSvgStyles(a)," white-space: pre;")}getSvgSpanStyles(a,t){const{fontFamily:e,strokeWidth:i,stroke:s,fill:l,fontSize:u,fontStyle:h,fontWeight:d,deltaY:g}=a,m=this.getSvgTextDecoration(a);return[s?po(He,s):"",i?"stroke-width: ".concat(i,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",u?"font-size: ".concat(u,"px; "):"",h?"font-style: ".concat(h,"; "):"",d?"font-weight: ".concat(d,"; "):"",m&&"text-decoration: ".concat(m,"; "),l?po(oe,l):"",g?"baseline-shift: ".concat(-g,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(a){return["overline","underline","line-through"].filter(t=>a[t.replace("-","")]).join(" ")}}]),rt.setClass(Ee),rt.setSVGClass(Ee);class qD{constructor(t){R(this,"target",void 0),R(this,"__mouseDownInPlace",!1),R(this,"__dragStartFired",!1),R(this,"__isDraggingOver",!1),R(this,"__dragStartSelection",void 0),R(this,"__dragImageDisposer",void 0),R(this,"_dispose",void 0),this.target=t;const e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,i=e.getSelectionStartFromPointer(t);return e.isEditing&&i>=e.selectionStart&&i<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var i;let{selectionStart:s,selectionEnd:l}=e;const u=this.target,h=u.canvas,d=new X(u.flipX?-1:1,u.flipY?-1:1),g=u._getCursorBoundaries(s),m=new X(g.left+g.leftOffset,g.top+g.topOffset).multiply(d).transform(u.calcTransformMatrix()),v=h.getScenePoint(t).subtract(m),y=u.getCanvasRetinaScaling(),S=u.getBoundingRect(),x=m.subtract(new X(S.left,S.top)),_=h.viewportTransform,w=x.add(v).transform(_,!0),T=u.backgroundColor,j=wg(u.styles);u.backgroundColor="";const M={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};u.setSelectionStyles(M,0,s),u.setSelectionStyles(M,l,u.text.length),u.dirty=!0;const H=u.toCanvasElement({enableRetinaScaling:h.enableRetinaScaling,viewportTransform:!0});u.backgroundColor=T,u.styles=j,u.dirty=!0,Ad(H,{position:"fixed",left:"".concat(-H.width,"px"),border:Ne,width:"".concat(H.width/y,"px"),height:"".concat(H.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{H.remove()},wn(t.target||this.target.hiddenTextarea).body.appendChild(H),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(H,w.x,w.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,i=this.isActive();if(i&&t.dataTransfer){const s=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},l=e._text.slice(s.selectionStart,s.selectionEnd).join(""),u=k({text:e.text,value:l},s);t.dataTransfer.setData("text/plain",l),t.dataTransfer.setData("application/fabric",JSON.stringify({value:l,styles:e.getSelectionStyles(s.selectionStart,s.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,u)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return e<i.selectionStart||e>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t;const i=this.targetCanDrop(e);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:i}=t,s=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let l=(e=i.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(l&&!s){const u=this.target,h=u.canvas;let d=u.getSelectionStartFromPointer(i);const{styles:g}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},m=l[Math.max(0,l.length-1)],v=0;if(this.__dragStartSelection){const y=this.__dragStartSelection.selectionStart,S=this.__dragStartSelection.selectionEnd;d>y&&d<=S?d=y:d>S&&(d-=S-y),u.removeChars(y,S),delete this.__dragStartSelection}u._reNewline.test(m)&&(u._reNewline.test(u._text[d])||d===u._text.length)&&(l=l.trimEnd()),t.didDrop=!0,t.dropTarget=u,u.insertChars(l,g,d),h.setActiveObject(u),u.enterEditing(i),u.selectionStart=Math.min(d+v,u._text.length),u.selectionEnd=Math.min(u.selectionStart+l.length,u._text.length),u.hiddenTextarea.value=u.text,u._updateTextarea(),u.hiddenTextarea.focus(),u.fire(zc,{index:d+v,action:"drop"}),h.fire("text:changed",{target:u}),h.contextTopDirty=!0,h.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;const s=this.target,l=this.target.canvas,{selectionStart:u,selectionEnd:h}=this.__dragStartSelection,d=((i=e.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||Ne;d===Ne?(s.selectionStart=u,s.selectionEnd=h,s._updateTextarea(),s.hiddenTextarea.focus()):(s.clearContextTop(),d==="move"&&(s.removeChars(u,h),s.selectionStart=s.selectionEnd=u,s.hiddenTextarea&&(s.hiddenTextarea.value=s.text),s._updateTextarea(),s.fire(zc,{index:u,action:"dragend"}),l.fire("text:changed",{target:s}),l.requestRenderAll()),s.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Ny=/[ \n\.,;!\?\-]/;class $D extends Ee{constructor(){super(...arguments),R(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:i,delay:s,onComplete:l}=t;return TS({startValue:this._currentCursorOpacity,endValue:e,duration:i,delay:s,onComplete:l,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:u=>{this._currentCursorOpacity=u,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){const i=this._text;let s=t>0&&this._reSpace.test(i[t])&&(e===-1||!dg.test(i[t-1]))?t-1:t,l=i[s];for(;s>0&&s<i.length&&!Ny.test(l);)s+=e,l=i[s];return e===-1&&Ny.test(l)&&s++,s}selectWord(t){var e;t=(e=t)!==null&&e!==void 0?e:this.selectionStart;const i=this.searchWordBoundary(t,-1),s=Math.max(i,this.searchWordBoundary(t,1));this.selectionStart=i,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var e;t=(e=t)!==null&&e!==void 0?e:this.selectionStart;const i=this.findLineBoundaryLeft(t),s=this.findLineBoundaryRight(t);this.selectionStart=i,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;wn(e).activeElement!==e&&e.focus();const i=this.getSelectionStartFromPointer(t),s=this.selectionStart,l=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&s!==l||s!==i&&l!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===s&&this.selectionEnd===l||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){const s=i.slice(0,t),l=this.graphemeSplit(s).length;if(t===e)return{selectionStart:l,selectionEnd:l};const u=i.slice(t,e);return{selectionStart:l,selectionEnd:l+this.graphemeSplit(u).length}}fromGraphemeToStringSelection(t,e,i){const s=i.slice(0,t).join("").length;return t===e?{selectionStart:s,selectionEnd:s}:{selectionStart:s,selectionEnd:s+i.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),s=i.lineIndex,l=i.charIndex,u=this.getValueOfPropertyAt(s,l,"fontSize")*this.lineHeight,h=e.leftOffset,d=this.getCanvasRetinaScaling(),g=this.canvas.upperCanvasEl,m=g.width/d,v=g.height/d,y=m-u,S=v-u,x=new X(e.left+h,e.top+e.topOffset+u).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new X(g.clientWidth/m,g.clientHeight/v));return x.x<0&&(x.x=0),x.x>y&&(x.x=y),x.y<0&&(x.y=0),x.y>S&&(x.y=S),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:"".concat(x.x,"px"),top:"".concat(x.y,"px"),fontSize:"".concat(u,"px"),charHeight:u}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(Bc),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:i,charIndex:s}=this.get2DCursorLocation(t,!0),{lineIndex:l,charIndex:u}=this.get2DCursorLocation(e,!0);if(i!==l){if(this.styles[i])for(let h=s;h<this._unwrappedTextLines[i].length;h++)delete this.styles[i][h];if(this.styles[l])for(let h=u;h<this._unwrappedTextLines[l].length;h++){const d=this.styles[l][h];d&&(this.styles[i]||(this.styles[i]={}),this.styles[i][s+h-u]=d)}for(let h=i+1;h<=l;h++)delete this.styles[h];this.shiftLineStyles(l,i-l)}else if(this.styles[i]){const h=this.styles[i],d=u-s;for(let g=s;g<u;g++)delete h[g];for(const g in this.styles[i]){const m=parseInt(g,10);m>=u&&(h[m-d]=h[g],delete h[g])}}}shiftLineStyles(t,e){const i=Object.assign({},this.styles);for(const s in this.styles){const l=parseInt(s,10);l>t&&(this.styles[l+e]=i[l],i[l-e]||delete this.styles[l])}}insertNewlineStyleObject(t,e,i,s){const l={},u=this._unwrappedTextLines[t].length,h=u===e;let d=!1;i||(i=1),this.shiftLineStyles(t,i);const g=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(const v in this.styles[t]){const y=parseInt(v,10);y>=e&&(d=!0,l[y-e]=this.styles[t][v],h&&e===0||delete this.styles[t][v])}let m=!1;for(d&&!h&&(this.styles[t+i]=l,m=!0),(m||u>e)&&i--;i>0;)s&&s[i-1]?this.styles[t+i]={0:k({},s[i-1])}:g?this.styles[t+i]={0:k({},g)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,s){this.styles||(this.styles={});const l=this.styles[t],u=l?k({},l):{};i||(i=1);for(const d in u){const g=parseInt(d,10);g>=e&&(l[g+i]=u[g],u[g-i]||delete l[g])}if(this._forceClearCache=!0,s){for(;i--;)Object.keys(s[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=k({},s[i]));return}if(!l)return;const h=l[e?e-1:1];for(;h&&i--;)this.styles[t][e+i]=k({},h)}insertNewStyleBlock(t,e,i){const s=this.get2DCursorLocation(e,!0),l=[0];let u,h=0;for(let d=0;d<t.length;d++)t[d]===`
`?(h++,l[h]=0):l[h]++;for(l[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,l[0],i),i=i&&i.slice(l[0]+1)),h&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+l[0],h),u=1;u<h;u++)l[u]>0?this.insertCharStyleObject(s.lineIndex+u,0,l[u],i):i&&this.styles[s.lineIndex+u]&&i[0]&&(this.styles[s.lineIndex+u][0]=i[0]),i=i&&i.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(s.lineIndex+u,0,l[u],i)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;s>i&&this.removeStyleFromTo(i,s);const l=this.graphemeSplit(t);this.insertNewStyleBlock(l,i,e),this._text=[...this._text.slice(0,i),...l,...this._text.slice(s)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=kt:this._selectionDirection===te&&(this._selectionDirection=kt,this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?this._selectionDirection===te?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=te:this._selectionDirection===kt&&(this._selectionDirection=te,this.selectionStart=e),this.selectionEnd=i)}}class WD extends $D{initHiddenTextarea(){const t=this.canvas&&wn(this.canvas.getElement())||Pa(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(u=>{let[h,d]=u;return e.setAttribute(h,d)});const{top:i,left:s,fontSize:l}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(s,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(l,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(u=>{let[h,d]=u;return e.addEventListener(h,this[d].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste,{value:i,selectionStart:s,selectionEnd:l}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const u=()=>{this.updateFromTextArea(),this.fire(zc),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void u();const h=this._splitTextIntoLines(i).graphemeText,d=this._text.length,g=h.length,m=this.selectionStart,v=this.selectionEnd,y=m!==v;let S,x,_,w,T=g-d;const j=this.fromStringToGraphemeSelection(s,l,i),M=m>j.selectionStart;y?(x=this._text.slice(m,v),T+=v-m):g<d&&(x=M?this._text.slice(v+T,v):this._text.slice(m,m-T));const H=h.slice(j.selectionEnd-T,j.selectionEnd);if(x&&x.length&&(H.length&&(S=this.getSelectionStyles(m,m+1,!1),S=H.map(()=>S[0])),y?(_=m,w=v):M?(_=v-x.length,w=v):(_=v,w=v+x.length),this.removeStyleFromTo(_,w)),H.length){const{copyPasteData:N}=Xn();e&&H.join("")===N.copiedText&&!Rt.disableStyleCopyPaste&&(S=N.copiedTextStyle),this.insertNewStyleBlock(H,m,S)}u()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:i,selectionEnd:s}=e;this.compositionStart=i,this.compositionEnd=s,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=Xn();t.copiedText=this.getSelectedText(),Rt.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,s=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],s+=i.left+i.width),s}getDownCursorOffset(t,e){const i=this._getSelectionForOffset(t,e),s=this.get2DCursorLocation(i),l=s.lineIndex;if(l===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;const u=s.charIndex,h=this._getWidthBeforeCursor(l,u),d=this._getIndexOnLine(l+1,h);return this._textLines[l].slice(u).length+d+1+this.missingNewlineOffset(l)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const i=this._getSelectionForOffset(t,e),s=this.get2DCursorLocation(i),l=s.lineIndex;if(l===0||t.metaKey||t.keyCode===33)return-i;const u=s.charIndex,h=this._getWidthBeforeCursor(l,u),d=this._getIndexOnLine(l-1,h),g=this._textLines[l].slice(0,u),m=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+d-g.length+(1-m)}_getIndexOnLine(t,e){const i=this._textLines[t];let s,l,u=this._getLineLeftOffset(t),h=0;for(let d=0,g=i.length;d<g;d++)if(s=this.__charBounds[t][d].width,u+=s,u>e){l=!0;const m=u-s,v=u,y=Math.abs(m-e);h=Math.abs(v-e)<y?d:d-1;break}return l||(h=i.length-1),h}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){const i=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===te);if(e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){const s=this.text.length;this.selectionStart=Ha(0,this.selectionStart,s),this.selectionEnd=Ha(0,this.selectionEnd,s),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===kt?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let s;if(t.altKey)s=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=i==="Left"?-1:1,!0;s=this["findLineBoundary".concat(i)](this[e])}return s!==void 0&&this[e]!==s&&(this[e]=s,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=kt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===te&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=kt,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){const i="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===kt&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=te,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=te,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const Hy=a=>!!a.button;class ID extends WD{constructor(){super(...arguments),R(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new qD(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e,alreadySelected:i}=t;this.canvas&&this.editable&&!Hy(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),i&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=i||this.isEditing)))}mouseUpHandler(t){let{e,transform:i}=t;const s=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const l=this.canvas._activeObject;if(l&&l!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||Hy(e)||s||this.selected&&!this.getActiveControl()&&(this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),i=this.selectionStart,s=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,s,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(On(this.calcTransformMatrix())).add(new X(-this._getLeftOffset(),-this._getTopOffset()));let i=0,s=0,l=0;for(let g=0;g<this._textLines.length&&i<=e.y;g++)i+=this.getHeightOfLine(g),l=g,g>0&&(s+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));let u=Math.abs(this._getLineLeftOffset(l));const h=this._textLines[l].length,d=this.__charBounds[l];for(let g=0;g<h;g++){const m=u+d[g].kernedWidth;if(e.x<=m){Math.abs(e.x-m)<=Math.abs(e.x-u)&&s++;break}u=m,s++}return Math.min(this.flipX?h-s:s,this._text.length)}}const ec="moveCursorUp",nc="moveCursorDown",ic="moveCursorLeft",rc="moveCursorRight",ac="exitEditing",Uy=(a,t)=>{const e=t.getRetinaScaling();a.setTransform(e,0,0,e,0,0);const i=t.viewportTransform;a.transform(i[0],i[1],i[2],i[3],i[4],i[5])},QD=k({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:ac,27:ac,33:ec,34:nc,35:rc,36:ic,37:ic,38:ec,39:rc,40:nc},keysMapRtl:{9:ac,27:ac,33:ec,34:nc,35:ic,36:rc,37:rc,38:ec,39:ic,40:nc},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class ui extends ID{static getDefaults(){return k(k({},super.getDefaults()),ui.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,k(k({},ui.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof Rd&&this.canvas.textEditingManager.remove(this),e instanceof Rd&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,i)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const i=super.toCanvasElement(t);return this.isEditing=e,i}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries(),i=this.findAncestorsWithClipPath(),s=i.length>0;let l,u=t;if(s){l=mn(t.canvas),u=l.getContext("2d"),Uy(u,this.canvas);const h=this.calcTransformMatrix();u.transform(h[0],h[1],h[2],h[3],h[4],h[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(u,e):this.renderCursor(u,e),s)for(const h of i){const d=h.clipPath,g=mn(t.canvas),m=g.getContext("2d");if(Uy(m,this.canvas),!d.absolutePositioned){const v=h.calcTransformMatrix();m.transform(v[0],v[1],v[2],v[3],v[4],v[5])}d.transform(m),d.drawObject(m,!0,{}),this.drawClipPathOnCache(u,d,g)}s&&(t.setTransform(1,0,0,1,0,0),t.drawImage(l,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let e=this;for(;e;)e.clipPath&&t.push(e),e=e.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const i=this._getLeftOffset(),s=this._getTopOffset(),l=this._getCursorBoundariesOffsets(t,e);return{left:i,top:s,leftOffset:l.left,topOffset:l.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0;const{charIndex:s,lineIndex:l}=this.get2DCursorLocation(t);for(let g=0;g<l;g++)e+=this.getHeightOfLine(g);const u=this._getLineLeftOffset(l),h=this.__charBounds[l][s];h&&(i=h.left),this.charSpacing!==0&&s===this._textLines[l].length&&(i-=this._getWidthOfCharSpacing());const d={top:e,left:u+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===te||this.textAlign===Un||this.textAlign===so?d.left*=-1:this.textAlign===kt||this.textAlign===Vc?d.left=u-(i>0?i:0):this.textAlign!==xt&&this.textAlign!==oo||(d.left=u-(i>0?i:0))),d}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const i=this.get2DCursorLocation(t),s=i.lineIndex,l=i.charIndex>0?i.charIndex-1:0,u=this.getValueOfPropertyAt(s,l,"fontSize"),h=this.getObjectScaling().x*this.canvas.getZoom(),d=this.cursorWidth/h,g=this.getValueOfPropertyAt(s,l,"deltaY"),m=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-u*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(s,l,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-d/2,top:m+e.top+g,width:d,height:u}}_renderCursor(t,e,i){const{color:s,opacity:l,left:u,top:h,width:d,height:g}=this.getCursorRenderingData(i,e);t.fillStyle=s,t.globalAlpha=l,t.fillRect(u,h,d,g)}renderSelection(t,e){const i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,i){const s=e.selectionStart,l=e.selectionEnd,u=this.textAlign.includes(Un),h=this.get2DCursorLocation(s),d=this.get2DCursorLocation(l),g=h.lineIndex,m=d.lineIndex,v=h.charIndex<0?0:h.charIndex,y=d.charIndex<0?0:d.charIndex;for(let S=g;S<=m;S++){const x=this._getLineLeftOffset(S)||0;let _=this.getHeightOfLine(S),w=0,T=0,j=0;if(S===g&&(T=this.__charBounds[g][v].left),S>=g&&S<m)j=u&&!this.isEndOfWrapping(S)?this.width:this.getLineWidth(S)||5;else if(S===m)if(y===0)j=this.__charBounds[m][y].left;else{const K=this._getWidthOfCharSpacing();j=this.__charBounds[m][y-1].left+this.__charBounds[m][y-1].width-K}w=_,(this.lineHeight<1||S===m&&this.lineHeight>1)&&(_/=this.lineHeight);let M=i.left+x+T,H=_,N=0;const V=j-T;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",H=1,N=_):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===te||this.textAlign===Un||this.textAlign===so?M=this.width-M-V:this.textAlign===kt||this.textAlign===Vc?M=i.left+x-j:this.textAlign!==xt&&this.textAlign!==oo||(M=i.left+x-j)),t.fillRect(M,i.top+i.topOffset+N,V,H),i.topOffset+=w}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,oe)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}R(ui,"ownDefaults",QD),R(ui,"type","IText"),rt.setClass(ui),rt.setClass(ui,"i-text");class Dr extends ui{static getDefaults(){return k(k({},super.getDefaults()),Dr.ownDefaults)}constructor(t,e){super(t,k(k({},Dr.ownDefaults),e))}static createControls(){return{controls:OE()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Un)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,i=0,s=0;const l={};for(let u=0;u<t.graphemeLines.length;u++)t.graphemeText[s]===`
`&&u>0?(i=0,s++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[s])&&u>0&&(i++,s++),l[u]={line:e,offset:i},s+=t.graphemeLines[u].length,i+=t.graphemeLines[u].length;return l}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[e];i&&(e=i.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,i=0,s=t+1,l=!1;const u=this._styleMap[t],h=this._styleMap[t+1];u&&(t=u.line,i=u.offset),h&&(s=h.line,l=s===t,e=h.offset);const d=t===void 0?this.styles:{line:this.styles[t]};for(const g in d)for(const m in d[g]){const v=parseInt(m,10);if(v>=i&&(!l||v<e))for(const y in d[g][m])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){const s=this._styleMap[t];super._setStyleDeclaration(s.line,s.offset+e,i)}_deleteStyleDeclaration(t,e){const i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const i=this.getGraphemeDataForRender(t),s=[];for(let l=0;l<i.wordsData.length;l++)s.push(...this._wrapLine(l,e,i));return this.isWrapping=!1,s}getGraphemeDataForRender(t){const e=this.splitByGrapheme,i=e?"":" ";let s=0;return{wordsData:t.map((l,u)=>{let h=0;const d=e?this.graphemeSplit(l):this.wordSplit(l);return d.length===0?[{word:[],width:0}]:d.map(g=>{const m=e?[g]:this.graphemeSplit(g),v=this._measureWord(m,u,h);return s=Math.max(v,s),h+=m.length+i.length,{word:m,width:v}})}),largestWordWidth:s}}_measureWord(t,e){let i,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=0;for(let u=0,h=t.length;u<h;u++)l+=this._getGraphemeBox(t[u],e,u+s,i,!0).kernedWidth,i=t[u];return l}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,i){let{largestWordWidth:s,wordsData:l}=i,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const h=this._getWidthOfCharSpacing(),d=this.splitByGrapheme,g=[],m=d?"":" ";let v=0,y=[],S=0,x=0,_=!0;e-=u;const w=Math.max(e,s,this.dynamicMinWidth),T=l[t];let j;for(S=0,j=0;j<T.length;j++){const{word:M,width:H}=T[j];S+=M.length,v+=x+H-h,v>w&&!_?(g.push(y),y=[],v=H,_=!0):v+=h,_||d||y.push(m),y=y.concat(M),x=d?0:this._measureWord([m],t,S),S++,_=!1}return j&&g.push(y),s+u>this.dynamicMinWidth&&(this.dynamicMinWidth=s-h+u),g}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),i=this._wrapText(e.lines,this.width),s=new Array(i.length);for(let l=0;l<i.length;l++)s[l]=i[l].join("");return e.lines=s,e.graphemeLines=i,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const i=parseInt(e,10);if(this._textLines[i]){const s=this._styleMap[e].line;t.set("".concat(s),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}R(Dr,"type","Textbox"),R(Dr,"textLayoutProperties",[...ui.textLayoutProperties,"width"]),R(Dr,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),rt.setClass(Dr);class Yy extends pu{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:i}=t,{clipPath:s,group:l}=i;if(!s||!this.shouldPerformLayout(t))return;const{width:u,height:h}=fi(kS(i,s)),d=new X(u,h);if(s.absolutePositioned)return{center:La(s.getRelativeCenterPoint(),void 0,l?l.calcTransformMatrix():void 0),size:d};{const g=s.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:m=new X,correction:v=new X}=this.calcBoundingBox(e,t)||{};return{center:m.add(g),correction:v.subtract(g),size:d}}return{center:i.getRelativeCenterPoint().add(g),size:d}}}}R(Yy,"type","clip-path"),rt.setClass(Yy);class Xy extends pu{getInitialSize(t,e){let{target:i}=t,{size:s}=e;return new X(i.width||s.x,i.height||s.y)}}R(Xy,"type","fixed"),rt.setClass(Xy);class ZD extends vo{subscribeTargets(t){const e=t.target;t.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[e]})})}unsubscribeTargets(t){const e=t.target,i=e.getObjects();t.targets.reduce((s,l)=>(l.parent&&s.add(l.parent),s),new Set).forEach(s=>{!i.some(l=>l.parent===s)&&s.layoutManager.unsubscribeTargets({target:s,targets:[e]})})}}class Mr extends Ar{static getDefaults(){return k(k({},super.getDefaults()),Mr.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Mr.ownDefaults),this.setOptions(e);const{left:i,top:s,layoutManager:l}=e;this.groupInit(t,{left:i,top:s,layoutManager:l??new ZD})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(s=>{const l=this._objects.findIndex(h=>h.isInFrontOf(s)),u=l===-1?this.size():l;this.insertAt(u,s)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(Ki("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const i=new Set;e.forEach(s=>{const{parent:l}=s;l&&i.add(l)}),t===Dg?i.forEach(s=>{s._onAfterObjectsChange(Xc,e)}):i.forEach(s=>{s._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const s=k(k({hasControls:!1},i),{},{forActiveSelection:!0});for(let l=0;l<this._objects.length;l++)this._objects[l]._renderControls(t,s);super._renderControls(t,e),t.restore()}}R(Mr,"type","ActiveSelection"),R(Mr,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),rt.setClass(Mr),rt.setClass(Mr,"activeSelection");class KD{constructor(){R(this,"resources",{})}applyFilters(t,e,i,s,l){const u=l.getContext("2d");if(!u)return;u.drawImage(e,0,0,i,s);const h={sourceWidth:i,sourceHeight:s,imageData:u.getImageData(0,0,i,s),originalEl:e,originalImageData:u.getImageData(0,0,i,s),canvasEl:l,ctx:u,filterBackend:this};t.forEach(g=>{g.applyTo(h)});const{imageData:d}=h;return d.width===i&&d.height===s||(l.width=d.width,l.height=d.height),u.putImageData(d,0,0),h}}class JS{constructor(){let{tileSize:t=Rt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),R(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const i=mn({width:t,height:e}),s=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});s&&(s.clearColor(0,0,0,0),this.canvas=i,this.gl=s)}applyFilters(t,e,i,s,l,u){const h=this.gl,d=l.getContext("2d");if(!h||!d)return;let g;u&&(g=this.getCachedTexture(u,e));const m={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:i,sourceHeight:s,destinationWidth:i,destinationHeight:s,context:h,sourceTexture:this.createTexture(h,i,s,g?void 0:e),targetTexture:this.createTexture(h,i,s),originalTexture:g||this.createTexture(h,i,s,g?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:l},v=h.createFramebuffer();return h.bindFramebuffer(h.FRAMEBUFFER,v),t.forEach(y=>{y&&y.applyTo(m)}),function(y){const S=y.targetCanvas,x=S.width,_=S.height,w=y.destinationWidth,T=y.destinationHeight;x===w&&_===T||(S.width=w,S.height=T)}(m),this.copyGLTo2D(h,m),h.bindTexture(h.TEXTURE_2D,null),h.deleteTexture(m.sourceTexture),h.deleteTexture(m.targetTexture),h.deleteFramebuffer(v),d.setTransform(1,0,0,1,0,0),m}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,s,l){const{NEAREST:u,TEXTURE_2D:h,RGBA:d,UNSIGNED_BYTE:g,CLAMP_TO_EDGE:m,TEXTURE_MAG_FILTER:v,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:S,TEXTURE_WRAP_T:x}=t,_=t.createTexture();return t.bindTexture(h,_),t.texParameteri(h,v,l||u),t.texParameteri(h,y,l||u),t.texParameteri(h,S,m),t.texParameteri(h,x,m),s?t.texImage2D(h,0,d,d,g,s):t.texImage2D(h,0,d,e,i,0,d,g,null),_}getCachedTexture(t,e,i){const{textureCache:s}=this;if(s[t])return s[t];{const l=this.createTexture(this.gl,e.width,e.height,e,i);return l&&(s[t]=l),l}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const i=t.canvas,s=e.targetCanvas,l=s.getContext("2d");if(!l)return;l.translate(0,s.height),l.scale(1,-1);const u=i.height-s.height;l.drawImage(i,0,u,s.width,s.height,0,0,s.width,s.height)}copyGLTo2DPutImageData(t,e){const i=e.targetCanvas.getContext("2d"),s=e.destinationWidth,l=e.destinationHeight,u=s*l*4;if(!i)return;const h=new Uint8Array(this.imageBuffer,0,u),d=new Uint8ClampedArray(this.imageBuffer,0,u);t.readPixels(0,0,s,l,t.RGBA,t.UNSIGNED_BYTE,h);const g=new ImageData(d,s,l);i.putImageData(g,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:"",vendor:""};if(!t)return e;const i=t.getExtension("WEBGL_debug_renderer_info");if(i){const s=t.getParameter(i.UNMASKED_RENDERER_WEBGL),l=t.getParameter(i.UNMASKED_VENDOR_WEBGL);s&&(e.renderer=s.toLowerCase()),l&&(e.vendor=l.toLowerCase())}return this.gpuInfo=e,e}}let ld;function JD(){const{WebGLProbe:a}=Xn();return a.queryWebGL(An()),Rt.enableGLFiltering&&a.isSupported(Rt.textureSize)?new JS({tileSize:Rt.textureSize}):new KD}function cd(){return!ld&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(ld=JD()),ld}const tM=["filters","resizeFilter","src","crossOrigin","type"],t1=["cropX","cropY"];class Ke extends Te{static getDefaults(){return k(k({},super.getDefaults()),Ke.ownDefaults)}constructor(t,e){super(),R(this,"_lastScaleX",1),R(this,"_lastScaleY",1),R(this,"_filterScalingX",1),R(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Ke.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(Ji()),this.setElement(typeof t=="string"?(this.canvas&&wn(this.canvas.getElement())||Pa()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){var e;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(i),(e=t.classList)===null||e===void 0||e.add(Ke.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=cd(!1);e instanceof JS&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const e=this[t];e&&Xn().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return this.filters.forEach(i=>{i&&e.push(i.toObject())}),k(k({},super.toObject([...t1,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,i=-this.width/2,s=-this.height/2;let l=[],u=[],h="",d="";if(!e)return[];if(this.hasCrop()){const g=Ji();l.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+i+'" y="'+s+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),h=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(d=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(s-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(d).concat(h,`></image>
`)),this.stroke||this.strokeDashArray){const g=this.fill;this.fill=null,u=['	<rect x="'.concat(i,'" y="').concat(s,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=g}return l=this.paintFirst!==oe?l.concat(u,t):l.concat(t,u),l}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Mc(t,{crossOrigin:e,signal:i}).then(s=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(s)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),s=i.x,l=i.y,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||s>e&&l>e)return this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,void(this._lastScaleY=l);const h=mn(u),{width:d,height:g}=u;this._element=h,this._lastScaleX=t.scaleX=s,this._lastScaleY=t.scaleY=l,cd().applyFilters([t],u,d,g,this._element),this._filterScalingX=h.width/this._originalElement.width,this._filterScalingY=h.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(l=>l&&!l.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,i=e.naturalWidth||e.width,s=e.naturalHeight||e.height;if(this._element===this._originalElement){const l=mn({width:i,height:s});this._element=l,this._filteredEl=l}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,s),this._lastScaleX=1,this._lastScaleY=1);cd().applyFilters(t,this._originalElement,i,s,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const i=this._filterScalingX,s=this._filterScalingY,l=this.width,u=this.height,h=Math.max(this.cropX,0),d=Math.max(this.cropY,0),g=e.naturalWidth||e.width,m=e.naturalHeight||e.height,v=h*i,y=d*s,S=Math.min(l*i,g-v),x=Math.min(u*s,m-y),_=-l/2,w=-u/2,T=Math.min(l,g/i-h),j=Math.min(u,m/s-d);e&&t.drawImage(e,v,y,S,x,_,w,T,j)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){const t=qO(this.preserveAspectRatio||""),e=this.width,i=this.height,s={width:e,height:i};let l,u=this._element.width,h=this._element.height,d=1,g=1,m=0,v=0,y=0,S=0;return!t||t.alignX===Ne&&t.alignY===Ne?(d=e/u,g=i/h):(t.meetOrSlice==="meet"&&(d=g=aD(this._element,s),l=(e-u*d)/2,t.alignX==="Min"&&(m=-l),t.alignX==="Max"&&(m=l),l=(i-h*g)/2,t.alignY==="Min"&&(v=-l),t.alignY==="Max"&&(v=l)),t.meetOrSlice==="slice"&&(d=g=sD(this._element,s),l=u-e/d,t.alignX==="Mid"&&(y=l/2),t.alignX==="Max"&&(y=l),l=h-i/g,t.alignY==="Mid"&&(S=l/2),t.alignY==="Max"&&(S=l),u=e/d,h=i/g)),{width:u,height:h,scaleX:d,scaleY:g,offsetLeft:m,offsetTop:v,cropX:y,cropY:S}}static fromObject(t,e){let{filters:i,resizeFilter:s,src:l,crossOrigin:u,type:h}=t,d=Gt(t,tM);return Promise.all([Mc(l,k(k({},e),{},{crossOrigin:u})),i&&fo(i,e),s&&fo([s],e),hu(d,e)]).then(g=>{let[m,v=[],[y]=[],S={}]=g;return new this(m,k(k({},d),{},{src:l,filters:v,resizeFilter:y},S))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return Mc(t,{crossOrigin:e,signal:i}).then(l=>new this(l,s))}static async fromElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const s=Ci(t,this.ATTRIBUTE_NAMES,i);return this.fromURL(s["xlink:href"]||s.href,e,s).catch(l=>(Ki("log","Unable to parse Image",l),null))}}R(Ke,"type","Image"),R(Ke,"cacheProperties",[..._i,...t1]),R(Ke,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),R(Ke,"CSS_CANVAS","canvas-img"),R(Ke,"ATTRIBUTE_NAMES",[...nr,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),rt.setClass(Ke),rt.setSVGClass(Ke);du(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const vu=a=>a.webgl!==void 0,Mg="precision highp float",eM=`
    `.concat(Mg,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),nM=["type"],iM=["type"],rM=new RegExp(Mg,"g");class le{get type(){return this.constructor.type}constructor(){let t=Gt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nM);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return eM}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:s="highp"}}=Xn();s!=="highp"&&(e=e.replace(rM,Mg.replace("highp",s)));const l=t.createShader(t.VERTEX_SHADER),u=t.createShader(t.FRAGMENT_SHADER),h=t.createProgram();if(!l||!u||!h)throw new Yn("Vertex, fragment shader or program creation error");if(t.shaderSource(l,i),t.compileShader(l),!t.getShaderParameter(l,t.COMPILE_STATUS))throw new Yn("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(l)));if(t.shaderSource(u,e),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw new Yn("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(u)));if(t.attachShader(h,l),t.attachShader(h,u),t.linkProgram(h),!t.getProgramParameter(h,t.LINK_STATUS))throw new Yn('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(h)));const d=this.getUniformLocations(t,h)||{};return d.uStepW=t.getUniformLocation(h,"uStepW"),d.uStepH=t.getUniformLocation(h,"uStepH"),{program:h,attributeLocations:this.getAttributeLocations(t,h),uniformLocations:d}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){const i=this.constructor.uniformLocations,s={};for(let l=0;l<i.length;l++)s[i[l]]=t.getUniformLocation(e,i[l]);return s}sendAttributeData(t,e,i){const s=e.aPosition,l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const i=t.destinationWidth,s=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===s||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,i,s)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){vu(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:i}=t,s=mn({width:e,height:i});t.helpLayer=s}}toObject(){const t=Object.keys(this.constructor.defaults||{});return k({type:this.type},t.reduce((e,i)=>(e[i]=this[i],e),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(Gt(t,iM))}}R(le,"type","BaseFilter"),R(le,"uniformLocations",[]);const aM={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class sc extends le{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(aM[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t;const i=new Nt(this.color).getSource(),s=this.alpha,l=i[0]*s,u=i[1]*s,h=i[2]*s,d=1-s;for(let g=0;g<e.length;g+=4){const m=e[g],v=e[g+1],y=e[g+2];let S,x,_;switch(this.mode){case"multiply":S=m*l/255,x=v*u/255,_=y*h/255;break;case"screen":S=255-(255-m)*(255-l)/255,x=255-(255-v)*(255-u)/255,_=255-(255-y)*(255-h)/255;break;case"add":S=m+l,x=v+u,_=y+h;break;case"difference":S=Math.abs(m-l),x=Math.abs(v-u),_=Math.abs(y-h);break;case"subtract":S=m-l,x=v-u,_=y-h;break;case"darken":S=Math.min(m,l),x=Math.min(v,u),_=Math.min(y,h);break;case"lighten":S=Math.max(m,l),x=Math.max(v,u),_=Math.max(y,h);break;case"overlay":S=l<128?2*m*l/255:255-2*(255-m)*(255-l)/255,x=u<128?2*v*u/255:255-2*(255-v)*(255-u)/255,_=h<128?2*y*h/255:255-2*(255-y)*(255-h)/255;break;case"exclusion":S=l+m-2*l*m/255,x=u+v-2*u*v/255,_=h+y-2*h*y/255;break;case"tint":S=l+m*d,x=u+v*d,_=h+y*d}e[g]=S,e[g+1]=x,e[g+2]=_}}sendUniformData(t,e){const i=new Nt(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}}R(sc,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),R(sc,"type","BlendColor"),R(sc,"uniformLocations",["uColor"]),rt.setClass(sc);const sM={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},oM=["type","image"];class oc extends le{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return sM[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:e,width:i,height:s},filterBackend:{resources:l}}=t;const u=this.image;l.blendImage||(l.blendImage=An());const h=l.blendImage,d=h.getContext("2d");h.width!==i||h.height!==s?(h.width=i,h.height=s):d.clearRect(0,0,i,s),d.setTransform(u.scaleX,0,0,u.scaleY,u.left,u.top),d.drawImage(u.getElement(),0,0,i,s);const g=d.getImageData(0,0,i,s).data;for(let m=0;m<e.length;m+=4){const v=e[m],y=e[m+1],S=e[m+2],x=e[m+3],_=g[m],w=g[m+1],T=g[m+2],j=g[m+3];switch(this.mode){case"multiply":e[m]=v*_/255,e[m+1]=y*w/255,e[m+2]=S*T/255,e[m+3]=x*j/255;break;case"mask":e[m+3]=j}}}sendUniformData(t,e){const i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return k(k({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:i,image:s}=t,l=Gt(t,oM);return Ke.fromObject(s,e).then(u=>new this(k(k({},l),{},{image:u})))}}R(oc,"type","BlendImage"),R(oc,"defaults",{mode:"multiply",alpha:1}),R(oc,"uniformLocations",["uTransformMatrix","uImage"]),rt.setClass(oc);class lc extends le{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){vu(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:i,filterBackend:{resources:s}}=t;const{width:l,height:u}=i;s.blurLayer1||(s.blurLayer1=An(),s.blurLayer2=An());const h=s.blurLayer1,d=s.blurLayer2;h.width===l&&h.height===u||(d.width=h.width=l,d.height=h.height=u);const g=h.getContext("2d"),m=d.getContext("2d"),v=15,y=.06*this.blur*.5;let S,x,_,w;for(g.putImageData(i,0,0),m.clearRect(0,0,l,u),w=-15;w<=v;w++)S=(Math.random()-.5)/4,x=w/v,_=y*x*l+S,m.globalAlpha=1-Math.abs(x),m.drawImage(h,_,S),g.drawImage(d,0,0),m.globalAlpha=1,m.clearRect(0,0,d.width,d.height);for(w=-15;w<=v;w++)S=(Math.random()-.5)/4,x=w/v,_=y*x*u+S,m.globalAlpha=1-Math.abs(x),m.drawImage(h,S,_),g.drawImage(d,0,0),m.globalAlpha=1,m.clearRect(0,0,d.width,d.height);e.drawImage(h,0,0);const T=e.getImageData(0,0,h.width,h.height);return g.globalAlpha=1,g.clearRect(0,0,h.width,h.height),T}sendUniformData(t,e){const i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1;const e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);const i=t*this.blur*.12;return this.horizontal?e[0]=i:e[1]=i,e}}R(lc,"type","Blur"),R(lc,"defaults",{blur:0}),R(lc,"uniformLocations",["uDelta"]),rt.setClass(lc);class cc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=Math.round(255*this.brightness);for(let s=0;s<e.length;s+=4)e[s]+=i,e[s+1]+=i,e[s+2]+=i}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}R(cc,"type","Brightness"),R(cc,"defaults",{brightness:0}),R(cc,"uniformLocations",["uBrightness"]),rt.setClass(cc);const e1={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class ja extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const e=t.imageData.data,i=this.matrix,s=this.colorsOnly;for(let l=0;l<e.length;l+=4){const u=e[l],h=e[l+1],d=e[l+2];if(e[l]=u*i[0]+h*i[1]+d*i[2]+255*i[4],e[l+1]=u*i[5]+h*i[6]+d*i[7]+255*i[9],e[l+2]=u*i[10]+h*i[11]+d*i[12]+255*i[14],!s){const g=e[l+3];e[l]+=g*i[3],e[l+1]+=g*i[8],e[l+2]+=g*i[13],e[l+3]=u*i[15]+h*i[16]+d*i[17]+g*i[18]+255*i[19]}}}sendUniformData(t,e){const i=this.matrix,s=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],l=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,s),t.uniform4fv(e.uConstants,l)}toObject(){return k(k({},super.toObject()),{},{matrix:[...this.matrix]})}}function zr(a,t){var e;const i=(R(e=class extends ja{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",a),R(e,"defaults",{colorsOnly:!1,matrix:t}),e);return rt.setClass(i,a),i}R(ja,"type","ColorMatrix"),R(ja,"defaults",e1),R(ja,"uniformLocations",["uColorMatrix","uConstants"]),rt.setClass(ja);zr("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);zr("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);zr("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);zr("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);zr("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);zr("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);zr("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Py extends le{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){vu(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(i=>rt.getClass(i.type).fromObject(i,e))).then(i=>new this({subFilters:i}))}}R(Py,"type","Composed"),rt.setClass(Py);class uc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t;const i=Math.floor(255*this.contrast),s=259*(i+255)/(255*(259-i));for(let l=0;l<e.length;l+=4)e[l]=s*(e[l]-128)+128,e[l+1]=s*(e[l+1]-128)+128,e[l+2]=s*(e[l+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}R(uc,"type","Contrast"),R(uc,"defaults",{contrast:0}),R(uc,"uniformLocations",["uContrast"]),rt.setClass(uc);const lM={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class hc extends le{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return lM[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,i=e.data,s=this.matrix,l=Math.round(Math.sqrt(s.length)),u=Math.floor(l/2),h=e.width,d=e.height,g=t.ctx.createImageData(h,d),m=g.data,v=this.opaque?1:0;let y,S,x,_,w,T,j,M,H,N,V,K,W;for(V=0;V<d;V++)for(N=0;N<h;N++){for(w=4*(V*h+N),y=0,S=0,x=0,_=0,W=0;W<l;W++)for(K=0;K<l;K++)j=V+W-u,T=N+K-u,j<0||j>=d||T<0||T>=h||(M=4*(j*h+T),H=s[W*l+K],y+=i[M]*H,S+=i[M+1]*H,x+=i[M+2]*H,v||(_+=i[M+3]*H));m[w]=y,m[w+1]=S,m[w+2]=x,m[w+3]=v?i[w+3]:_}t.imageData=g}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return k(k({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}R(hc,"type","Convolute"),R(hc,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),R(hc,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),rt.setClass(hc);const n1="Gamma";class fc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const i=this.gamma,s=1/i[0],l=1/i[1],u=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const h=this.rgbValues;for(let d=0;d<256;d++)h.r[d]=255*Math.pow(d/255,s),h.g[d]=255*Math.pow(d/255,l),h.b[d]=255*Math.pow(d/255,u);for(let d=0;d<e.length;d+=4)e[d]=h.r[e[d]],e[d+1]=h.g[e[d+1]],e[d+2]=h.b[e[d+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:n1,gamma:this.gamma.concat()}}}R(fc,"type",n1),R(fc,"defaults",{gamma:[1,1,1]}),R(fc,"uniformLocations",["uGamma"]),rt.setClass(fc);const cM={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class dc extends le{applyTo2d(t){let{imageData:{data:e}}=t;for(let i,s=0;s<e.length;s+=4){const l=e[s],u=e[s+1],h=e[s+2];switch(this.mode){case"average":i=(l+u+h)/3;break;case"lightness":i=(Math.min(l,u,h)+Math.max(l,u,h))/2;break;case"luminosity":i=.21*l+.72*u+.07*h}e[s+2]=e[s+1]=e[s]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return cM[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}R(dc,"type","Grayscale"),R(dc,"defaults",{mode:"average"}),R(dc,"uniformLocations",["uMode"]),rt.setClass(dc);const uM=k(k({},e1),{},{rotation:0});class ud extends ja{calculateMatrix(){const t=this.rotation*Math.PI,e=pi(t),i=mi(t),s=1/3,l=Math.sqrt(s)*i,u=1-e;this.matrix=[e+u/3,s*u-l,s*u+l,0,0,s*u+l,e+s*u,s*u-l,0,0,s*u-l,s*u+l,e+s*u,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}R(ud,"type","HueRotation"),R(ud,"defaults",uM),rt.setClass(ud);class gc extends le{applyTo2d(t){let{imageData:{data:e}}=t;for(let i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2],this.alpha&&(e[i+3]=255-e[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}R(gc,"type","Invert"),R(gc,"defaults",{alpha:!1,invert:!0}),R(gc,"uniformLocations",["uInvert","uAlpha"]),rt.setClass(gc);class pc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=this.noise;for(let s=0;s<e.length;s+=4){const l=(.5-Math.random())*i;e[s]+=l,e[s+1]+=l,e[s+2]+=l}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}}R(pc,"type","Noise"),R(pc,"defaults",{noise:0}),R(pc,"uniformLocations",["uNoise","uSeed"]),rt.setClass(pc);class mc extends le{applyTo2d(t){let{imageData:{data:e,width:i,height:s}}=t;for(let l=0;l<s;l+=this.blocksize)for(let u=0;u<i;u+=this.blocksize){const h=4*l*i+4*u,d=e[h],g=e[h+1],m=e[h+2],v=e[h+3];for(let y=l;y<Math.min(l+this.blocksize,s);y++)for(let S=u;S<Math.min(u+this.blocksize,i);S++){const x=4*y*i+4*S;e[x]=d,e[x+1]=g,e[x+2]=m,e[x+3]=v}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}R(mc,"type","Pixelate"),R(mc,"defaults",{blocksize:4}),R(mc,"uniformLocations",["uBlocksize"]),rt.setClass(mc);class vc extends le{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=255*this.distance,s=new Nt(this.color).getSource(),l=[s[0]-i,s[1]-i,s[2]-i],u=[s[0]+i,s[1]+i,s[2]+i];for(let h=0;h<e.length;h+=4){const d=e[h],g=e[h+1],m=e[h+2];d>l[0]&&g>l[1]&&m>l[2]&&d<u[0]&&g<u[1]&&m<u[2]&&(e[h+3]=0)}}sendUniformData(t,e){const i=new Nt(this.color).getSource(),s=this.distance,l=[0+i[0]/255-s,0+i[1]/255-s,0+i[2]/255-s,1],u=[i[0]/255+s,i[1]/255+s,i[2]/255+s,1];t.uniform4fv(e.uLow,l),t.uniform4fv(e.uHigh,u)}}R(vc,"type","RemoveColor"),R(vc,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),R(vc,"uniformLocations",["uLow","uHigh"]),rt.setClass(vc);class yc extends le{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),s=new Array(i);for(let l=1;l<=i;l++)s[l-1]=t(l*e);return s}generateShader(t){const e=new Array(t);for(let i=1;i<=t;i++)e[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((i,s)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(s,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(s,`];
              sum += 2.0 * uTaps[`).concat(s,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){vu(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;const i=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(i)/i}}applyTo2d(t){const e=t.imageData,i=this.scaleX,s=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/s;const l=e.width,u=e.height,h=Math.round(l*i),d=Math.round(u*s);let g;g=this.resizeType==="sliceHack"?this.sliceByTwo(t,l,u,h,d):this.resizeType==="hermite"?this.hermiteFastResize(t,l,u,h,d):this.resizeType==="bilinear"?this.bilinearFiltering(t,l,u,h,d):this.resizeType==="lanczos"?this.lanczosResize(t,l,u,h,d):new ImageData(h,d),t.imageData=g}sliceByTwo(t,e,i,s,l){const u=t.imageData,h=.5;let d=!1,g=!1,m=e*h,v=i*h;const y=t.filterBackend.resources;let S=0,x=0;const _=e;let w=0;y.sliceByTwo||(y.sliceByTwo=An());const T=y.sliceByTwo;(T.width<1.5*e||T.height<i)&&(T.width=1.5*e,T.height=i);const j=T.getContext("2d");for(j.clearRect(0,0,1.5*e,i),j.putImageData(u,0,0),s=Math.floor(s),l=Math.floor(l);!d||!g;)e=m,i=v,s<Math.floor(m*h)?m=Math.floor(m*h):(m=s,d=!0),l<Math.floor(v*h)?v=Math.floor(v*h):(v=l,g=!0),j.drawImage(T,S,x,e,i,_,w,m,v),S=_,x=w,w+=v;return j.getImageData(S,x,s,l)}lanczosResize(t,e,i,s,l){const u=t.imageData.data,h=t.ctx.createImageData(s,l),d=h.data,g=this.lanczosCreate(this.lanczosLobes),m=this.rcpScaleX,v=this.rcpScaleY,y=2/this.rcpScaleX,S=2/this.rcpScaleY,x=Math.ceil(m*this.lanczosLobes/2),_=Math.ceil(v*this.lanczosLobes/2),w={},T={x:0,y:0},j={x:0,y:0};return function M(H){let N,V,K,W,nt,lt,vt,ht,ot,ut,yt;for(T.x=(H+.5)*m,j.x=Math.floor(T.x),N=0;N<l;N++){for(T.y=(N+.5)*v,j.y=Math.floor(T.y),nt=0,lt=0,vt=0,ht=0,ot=0,V=j.x-x;V<=j.x+x;V++)if(!(V<0||V>=e)){ut=Math.floor(1e3*Math.abs(V-T.x)),w[ut]||(w[ut]={});for(let P=j.y-_;P<=j.y+_;P++)P<0||P>=i||(yt=Math.floor(1e3*Math.abs(P-T.y)),w[ut][yt]||(w[ut][yt]=g(Math.sqrt(Math.pow(ut*y,2)+Math.pow(yt*S,2))/1e3)),K=w[ut][yt],K>0&&(W=4*(P*e+V),nt+=K,lt+=K*u[W],vt+=K*u[W+1],ht+=K*u[W+2],ot+=K*u[W+3]))}W=4*(N*s+H),d[W]=lt/nt,d[W+1]=vt/nt,d[W+2]=ht/nt,d[W+3]=ot/nt}return++H<s?M(H):h}(0)}bilinearFiltering(t,e,i,s,l){let u,h,d,g,m,v,y,S,x,_,w,T,j,M=0;const H=this.rcpScaleX,N=this.rcpScaleY,V=4*(e-1),K=t.imageData.data,W=t.ctx.createImageData(s,l),nt=W.data;for(y=0;y<l;y++)for(S=0;S<s;S++)for(m=Math.floor(H*S),v=Math.floor(N*y),x=H*S-m,_=N*y-v,j=4*(v*e+m),w=0;w<4;w++)u=K[j+w],h=K[j+4+w],d=K[j+V+w],g=K[j+V+4+w],T=u*(1-x)*(1-_)+h*x*(1-_)+d*_*(1-x)+g*x*_,nt[M++]=T;return W}hermiteFastResize(t,e,i,s,l){const u=this.rcpScaleX,h=this.rcpScaleY,d=Math.ceil(u/2),g=Math.ceil(h/2),m=t.imageData.data,v=t.ctx.createImageData(s,l),y=v.data;for(let S=0;S<l;S++)for(let x=0;x<s;x++){const _=4*(x+S*s);let w=0,T=0,j=0,M=0,H=0,N=0,V=0;const K=(S+.5)*h;for(let W=Math.floor(S*h);W<(S+1)*h;W++){const nt=Math.abs(K-(W+.5))/g,lt=(x+.5)*u,vt=nt*nt;for(let ht=Math.floor(x*u);ht<(x+1)*u;ht++){let ot=Math.abs(lt-(ht+.5))/d;const ut=Math.sqrt(vt+ot*ot);ut>1&&ut<-1||(w=2*ut*ut*ut-3*ut*ut+1,w>0&&(ot=4*(ht+W*e),V+=w*m[ot+3],j+=w,m[ot+3]<255&&(w=w*m[ot+3]/250),M+=w*m[ot],H+=w*m[ot+1],N+=w*m[ot+2],T+=w))}}y[_]=M/T,y[_+1]=H/T,y[_+2]=N/T,y[_+3]=V/j}return v}}R(yc,"type","Resize"),R(yc,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),R(yc,"uniformLocations",["uDelta","uTaps"]),rt.setClass(yc);class bc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=-this.saturation;for(let s=0;s<e.length;s+=4){const l=e[s],u=e[s+1],h=e[s+2],d=Math.max(l,u,h);e[s]+=d!==l?(d-l)*i:0,e[s+1]+=d!==u?(d-u)*i:0,e[s+2]+=d!==h?(d-h)*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}R(bc,"type","Saturation"),R(bc,"defaults",{saturation:0}),R(bc,"uniformLocations",["uSaturation"]),rt.setClass(bc);class Sc extends le{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=-this.vibrance;for(let s=0;s<e.length;s+=4){const l=e[s],u=e[s+1],h=e[s+2],d=Math.max(l,u,h),g=(l+u+h)/3,m=2*Math.abs(d-g)/255*i;e[s]+=d!==l?(d-l)*m:0,e[s+1]+=d!==u?(d-u)*m:0,e[s+2]+=d!==h?(d-h)*m:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}R(Sc,"type","Vibrance"),R(Sc,"defaults",{vibrance:0}),R(Sc,"uniformLocations",["uVibrance"]),rt.setClass(Sc);function Fy(a,t){const e=document.createElement("a");document.body.appendChild(e),e.setAttribute("download",t),e.setAttribute("href",a),e.click(),document.body.removeChild(e)}function Vy(){return new Date().toISOString().substring(0,19).replace(/[T:]/g,"-")}function hM(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=s=>e(s),a(i)})}async function fM(a){return await hM(t=>t.readAsText(a))}function dM(a){return new Promise(t=>{const e=document.createElement("input");e.type="file",e.style.display="none",e.setAttribute("accept",a),document.body.appendChild(e),e.addEventListener("change",()=>{var i;document.body.removeChild(e),(((i=e.files)==null?void 0:i.length)??0)===1?t(e.files[0]):t(null)}),e.click()})}async function gM(a){const t=await dM(a);return t?await fM(t):null}const hd=[[0,1],[1,2],[2,3],[3,4],[1,5],[5,6],[6,7],[1,8],[8,9],[9,10],[1,11],[11,12],[12,13],[14,0],[14,16],[15,0],[15,17]],Gy=[[0,0,255],[255,0,0],[255,170,0],[255,255,0],[255,85,0],[170,255,0],[85,255,0],[0,255,0],[0,255,85],[0,255,170],[0,255,255],[0,170,255],[0,85,255],[85,0,255],[170,0,255],[255,0,255],[255,0,170],[255,0,85]],pM=[[241,77],[241,120],[191,118],[177,183],[163,252],[298,118],[317,182],[332,245],[225,241],[213,359],[215,454],[270,240],[282,360],[286,456],[232,59],[253,60],[225,70],[260,72]];class mM extends Nn{constructor(){super(...arguments);Af(this,"lines",[]);Af(this,"order",[])}}function xc(a,t){const e=t.backgroundImage;t.clear(),t.backgroundImage=e,t.backgroundColor="#000";const i=hd.map((u,h)=>{const d=`rgba(${Gy[h].join(", ")}, 0.7)`;return new Zi([...a[u[0]],...a[u[1]]],{fill:d,stroke:d,strokeWidth:10,selectable:!1,evented:!1,originX:"center",originY:"center"})});i.forEach(u=>t.add(u)),a.map((u,h)=>{const d=`rgba(${Gy[h].join(", ")})`,g=new mM({left:u[0],top:u[1],fill:d,stroke:d,strokeWidth:1,radius:5,originX:"center",originY:"center"});return g.hasControls=!1,g.hasBorders=!1,g.lines=i.filter((m,v)=>hd[v].includes(h)),g.order=i.map((m,v)=>hd[v].indexOf(h)).filter(m=>m>=0),g}).forEach(u=>t.add(u));const l=u=>{const h=u.lines;if(!h)return;const d=u.left,g=u.top;h.forEach((m,v)=>{u.order[v]===1?m.set({x2:d,y2:g}):m.set({x1:d,y1:g})})};t.on("object:moving",u=>l(u.target))}function vM(a){const t=E.useRef(null),e=E.useRef(null);return E.useEffect(()=>{if(e.current||!t.current)return;const i=new Rd(t.current,{width:512,height:512});e.current=i,xc(pM,i)},[t.current,e.current]),E.useEffect(()=>{if(!e.current)return;const i=e.current;if(!a.bgImage){i.backgroundImage=void 0,i.renderAll();return}const s=new Image;s.src=a.bgImage,s.onload=()=>{const l=new Ke(s),u=Math.min(i.width/l.width,i.height/l.height);l.scaleX=u,l.scaleY=u,l.left=i.width/2,l.top=i.height/2,l.originX="center",l.originY="center",l.opacity=a.bgOpacity,i.backgroundImage=l,i.renderAll()}},[a.bgImage,a.bgOpacity]),F.jsxs(au,{children:[F.jsx("canvas",{ref:t,style:{maxWidth:"100%",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"}}),F.jsxs(Na,{gap:"md",children:[F.jsx(li,{onClick:async()=>{const i=e.current;if(!i)return;const s=i.backgroundImage;s&&(s.opacity=0),i.renderAll();const l=await i.toBlob();if(l){const u=URL.createObjectURL(l);Fy(u,`openpose-${Vy()}.png`),setTimeout(()=>URL.revokeObjectURL(u),1e3)}s&&(s.opacity=a.bgOpacity),i.renderAll()},children:"Save Image"}),F.jsx(li,{variant:"outline",onClick:()=>{const i=e.current;if(!i)return;const s=i.getObjects("Circle").map(u=>[u.left,u.top]),l=JSON.stringify(s);Fy(`data:text/plain;charset=utf-8,${encodeURIComponent(l)}`,`openpose-${Vy()}.json`)},children:"Save"}),F.jsx(li,{variant:"outline",onClick:async()=>{const i=e.current;if(!i)return;const s=await gM("application/json");if(!s)return;const l=JSON.parse(s);xc(l,i)},children:"Load"}),F.jsx(li,{variant:"outline",color:"yellow",onClick:()=>{const i=e.current;if(!i)return;i.discardActiveObject();const s=i.getObjects("Circle").map(l=>[l.left,l.top]);console.log(s),xc(s,i)},children:"Fix"}),F.jsx(li,{variant:"outline",color:"yellow",onClick:()=>{const i=e.current;if(!i)return;i.discardActiveObject();const s=i.getObjects("Circle").map(l=>[Math.min(512,Math.max(0,l.left)),Math.min(512,Math.max(0,l.top))]);console.log(s),xc(s,i)},children:"Clamp"})]})]})}function yM(){const[a,t]=E.useState(null),[e,i]=E.useState(null),[s,l]=E.useState(.5);return E.useEffect(()=>{if(!a){i(null);return}const u=URL.createObjectURL(a);i(u)},[a]),E.useEffect(()=>()=>{e&&URL.revokeObjectURL(e)},[e]),F.jsxs(au,{gap:"xl",align:"center",p:"md",children:[F.jsxs(Na,{style:{width:"512px"},children:[F.jsx(U2,{value:a,onChange:t,accept:"image/*",clearable:!0,placeholder:"Background"}),F.jsx(Ct,{style:{flexGrow:1},children:F.jsx(rg,{min:1,max:10,value:Math.floor(s*10),onChange:u=>l(u/10),style:{width:"100%"}})})]}),F.jsx(Ct,{style:{maxWidth:"100%"},children:F.jsx(vM,{bgImage:e,bgOpacity:s})}),F.jsx(Na,{children:F.jsxs(iu,{children:["By ",F.jsx("a",{href:"https://logu.cc",target:"_blank",children:"logchan"}),". Source code to be released at ",F.jsx("span",{className:"version",children:"beta"}),"."]})})]})}function bM(){return F.jsxs(En,{header:{height:40},padding:"md",children:[F.jsx(En.Header,{children:F.jsx("div",{className:"header-container",children:F.jsx(Na,{style:{height:"100%"},children:F.jsxs(iu,{children:["OpenPose Web ",F.jsx("span",{className:"version",children:"alpha (v1)"})]})})})}),F.jsx(En.Main,{children:F.jsx(VT,{children:F.jsx($b,{index:!0,element:F.jsx(yM,{})})})})]})}J2.createRoot(document.getElementById("root")).render(F.jsx($y.StrictMode,{children:F.jsx(gO,{children:F.jsx(ub,{children:F.jsx(bM,{})})})}));
